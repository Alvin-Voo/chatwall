{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@angular/material/button/typings/index.d.ts.MatButton.html","webpack:///./node_modules/@angular/material/button/typings/index.d.ts.MatAnchor.html","webpack:///./node_modules/@angular/material/card/typings/index.d.ts.MatCard.html","webpack:///./node_modules/@angular/material/card/typings/index.d.ts.MatCardHeader.html","webpack:///./node_modules/@angular/material/card/typings/index.d.ts.MatCardTitleGroup.html","webpack:///./node_modules/@angular/material/chips/typings/index.d.ts.MatChipList.html","webpack:///./node_modules/@angular/material/core/typings/index.d.ts.MatOption.html","webpack:///./node_modules/@angular/material/core/typings/index.d.ts.MatOptgroup.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatCalendarHeader.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatCalendar.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatCalendarBody.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatDatepickerContent.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatDatepickerToggle.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatMonthView.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.MatYearView.html","webpack:///./node_modules/@angular/material/datepicker/typings/index.d.ts.Éµa34.html","webpack:///./node_modules/@angular/material/dialog/typings/index.d.ts.MatDialogContainer.html","webpack:///./node_modules/@angular/material/form-field/typings/index.d.ts.MatFormField.html","webpack:///./node_modules/@angular/material/icon/typings/index.d.ts.MatIcon.html","webpack:///./node_modules/@angular/material/list/typings/index.d.ts.MatNavList.html","webpack:///./node_modules/@angular/material/list/typings/index.d.ts.MatList.html","webpack:///./node_modules/@angular/material/list/typings/index.d.ts.MatListItem.html","webpack:///./node_modules/@angular/material/list/typings/index.d.ts.MatListOption.html","webpack:///./node_modules/@angular/material/list/typings/index.d.ts.MatSelectionList.html","webpack:///./node_modules/@angular/material/tabs/typings/index.d.ts.MatTabGroup.html","webpack:///./node_modules/@angular/material/tabs/typings/index.d.ts.MatTabBody.html","webpack:///./node_modules/@angular/material/tabs/typings/index.d.ts.MatTabHeader.html","webpack:///./node_modules/@angular/material/tabs/typings/index.d.ts.MatTab.html","webpack:///./node_modules/@angular/material/tabs/typings/index.d.ts.MatTabNav.html","webpack:///./node_modules/@angular/material/toolbar/typings/index.d.ts.MatToolbar.html","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.server.module.ts","webpack:///./src/app/auth/auth-routing.module.ts","webpack:///./src/app/auth/auth.component.html","webpack:///./src/app/auth/auth.component.ts","webpack:///./src/app/auth/auth.module.ts","webpack:///./src/app/auth/signin/signin.component.html","webpack:///./src/app/auth/signin/signin.component.ts","webpack:///./src/app/auth/signup/signup.component.html","webpack:///./src/app/auth/signup/signup.component.ts","webpack:///./src/app/auth/store/auth.actions.ts","webpack:///./src/app/auth/store/auth.effects.ts","webpack:///./src/app/auth/store/auth.reducers.ts","webpack:///./src/app/core/core-routing.module.ts","webpack:///./src/app/core/core.module.ts","webpack:///./src/app/core/header/header.component.html","webpack:///./src/app/core/header/header.component.ts","webpack:///./src/app/core/main/main.component.html","webpack:///./src/app/core/main/main.component.ts","webpack:///./src/app/friends/chats/chats.component.html","webpack:///./src/app/friends/chats/chats.component.ts","webpack:///./src/app/friends/chats/store/chats.actions.ts","webpack:///./src/app/friends/chats/store/chats.effects.ts","webpack:///./src/app/friends/chats/store/chats.reducers.ts","webpack:///./src/app/friends/friends-routing.module.ts","webpack:///./src/app/friends/friends.component.html","webpack:///./src/app/friends/friends.component.ts","webpack:///./src/app/friends/friends.module.ts","webpack:///./src/app/friends/store/friends.actions.ts","webpack:///./src/app/friends/store/friends.effects.ts","webpack:///./src/app/friends/store/friends.reducers.ts","webpack:///./src/app/message/message-routing.module.ts","webpack:///./src/app/message/message.component.html","webpack:///./src/app/message/message.component.ts","webpack:///./src/app/message/message.module.ts","webpack:///./src/app/message/store/message.actions.ts","webpack:///./src/app/message/store/message.effects.ts","webpack:///./src/app/message/store/message.reducers.ts","webpack:///./src/app/models/user.model.ts","webpack:///./src/app/search/search-detail/search-detail.component.html","webpack:///./src/app/search/search-detail/search-detail.component.ts","webpack:///./src/app/search/search-routing.module.ts","webpack:///./src/app/search/search.component.html","webpack:///./src/app/search/search.component.ts","webpack:///./src/app/search/search.module.ts","webpack:///./src/app/search/store/search.actions.ts","webpack:///./src/app/search/store/search.effects.ts","webpack:///./src/app/search/store/search.reducers.ts","webpack:///./src/app/shared/emptyStringCheck.directive.ts","webpack:///./src/app/shared/safeHtml.pipe.ts","webpack:///./src/app/shared/server.interceptor.ts","webpack:///./src/app/shared/shared.module.ts","webpack:///./src/app/shared/socket.service.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.server.ts","webpack:///external \"@angular/animations\"","webpack:///external \"@angular/animations/browser\"","webpack:///external \"@angular/cdk/a11y\"","webpack:///external \"@angular/cdk/bidi\"","webpack:///external \"@angular/cdk/keycodes\"","webpack:///external \"@angular/cdk/observers\"","webpack:///external \"@angular/cdk/overlay\"","webpack:///external \"@angular/cdk/platform\"","webpack:///external \"@angular/cdk/portal\"","webpack:///external \"@angular/cdk/scrolling\"","webpack:///external \"@angular/cdk/text-field\"","webpack:///external \"@angular/common\"","webpack:///external \"@angular/common/http\"","webpack:///external \"@angular/core\"","webpack:///external \"@angular/flex-layout\"","webpack:///external \"@angular/flex-layout/core\"","webpack:///external \"@angular/flex-layout/extended\"","webpack:///external \"@angular/flex-layout/flex\"","webpack:///external \"@angular/flex-layout/server\"","webpack:///external \"@angular/forms\"","webpack:///external \"@angular/http\"","webpack:///external \"@angular/material/button\"","webpack:///external \"@angular/material/card\"","webpack:///external \"@angular/material/chips\"","webpack:///external \"@angular/material/core\"","webpack:///external \"@angular/material/datepicker\"","webpack:///external \"@angular/material/dialog\"","webpack:///external \"@angular/material/divider\"","webpack:///external \"@angular/material/form-field\"","webpack:///external \"@angular/material/icon\"","webpack:///external \"@angular/material/input\"","webpack:///external \"@angular/material/list\"","webpack:///external \"@angular/material/tabs\"","webpack:///external \"@angular/material/toolbar\"","webpack:///external \"@angular/platform-browser\"","webpack:///external \"@angular/platform-browser/animations\"","webpack:///external \"@angular/platform-server\"","webpack:///external \"@angular/router\"","webpack:///external \"@ngrx/effects\"","webpack:///external \"@ngrx/store\"","webpack:///external \"@ngrx/store-devtools\"","webpack:///external \"@nguniversal/module-map-ngfactory-loader\"","webpack:///external \"rxjs\"","webpack:///external \"rxjs/operators\"","webpack:///external \"socket.io-client\""],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0FCnEA,4GAAiC,mBAAY,IAAoB,icAAgO,IAAM,iHAAsC,kDAAvH,mBAAmC,gBAA7E,mBAAyC,sBAAqC,mBAAsC,oBAA/N,YAAgO,EAA3E,SAAmC,EAA7E,SAAyC,EAAqC,SAAsC,mDAAtL,0CAAiE,iBAA1G,sDAAgO,EAAvL,SAAiE,EAA1G,SAAgO;;;;;;;;;0FCAjS,4GAAiC,mBAAY,IAAoB,icAAgO,IAAM,iHAAsC,kDAAvH,mBAAmC,gBAA7E,mBAAyC,sBAAqC,mBAAsC,oBAA/N,YAAgO,EAA3E,SAAmC,EAA7E,SAAyC,EAAqC,SAAsC,mDAAtL,0CAAiE,iBAA1G,sDAAgO,EAAvL,SAAiE,EAA1G,SAAgO;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iDCAjS,eAAY,GAAa,eAAqC;;;;;;;;;uDCA9D,eAAwD,IAAa,6GAAkC,mBAE9D,GAAmB,eAAY;;;;;;;;;4DCFxE,4EAAK,mBAEoC,GAAmB,eAAyB,GAAa,eAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sDCF9G,8GAAmC,mBAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oDCA/C,qbAAmI,iDAA1D,8CAAmC,GAAC,mBAAqB,WAAlI,YAAmI,EAA1D,SAAmC,EAAC,SAAqB,2BAAlI;6NAAmI,IAAsB,yGAA8B,mBAAY,IAAoB,6XAAiI,iDAAnU,mBAAgB,WAArC,YAAmI,EAA9G,SAAgB,GAAmQ,oCAA+C,iBAAtF,mBAAsC,oBAAhF,YAAiI,EAAhD,SAA+C,EAAtF,SAAsC,2BAAhF,iEAAiI;;;;;;;;;;;;;;;sDCAxV,uHAAkD,qCAAW,KAAQ,eAA8C,uDAAjF,mBAAe,WAAjD,YAAkD,EAAhB,SAAe,GAAC,kDAAW;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4DCA7D,6GAAiC,mHAAmC,6PAA2I,YAAvE;;wBAAgC;MAApG,oKAA2I,iCAAoB,4IAA8F,KAAe,4GAAiC,KAAM,+PAA2K,YAAhE;;wBAA2B;MAAtI,6LAA2K,IAAU,2PAA+J,YAA5D;;wBAAuB;MAA1H,8LAA+J,iDAAzQ,oBAA+B,oBAA1G,YAA2K,EAAhG,SAA+B,GAAkJ,oBAA2B,gBAAlG,aAA+J,EAAxF,SAA2B,mDAAre,mBAAqC,oBAA1I,+DAA2I,EAAtC,SAAqC,EAA1I,SAA2I,gEAAoB,GAAgC,oDAA6D,GAA7F,YAA8F,EAA9D,SAA6D,GAA8L,mBAAmC,kBAA1K,+DAA2K,EAApC,SAAmC,EAA1K,SAA2K,GAAqI,mBAAmC,kBAA9J,gEAA+J,EAApC,SAAmC,EAA9J,SAA+J;;;;;;;;;;sDCAtiB,0MAAwO,YAAhM;;wBAA2B;MAAyF;;wBAAwC;MAAC;;wBAAkC;MAAvO,wcAAwO,mDAAhM,mBAA2B,aAAC,mBAAqB,WAA+C,mBAAmB,UAAvC,mBAAmB,UAA7C,mBAAyB,aAAnH,YAAwO,EAAhM,SAA2B,EAAC,SAAqB,EAA+C,SAAmB,EAAvC,SAAmB,EAA7C,SAAyB;sDAAsI,4KAA+P,YAAvG;;wBAAkD;MAAC;;wBAAmD;MAA9P,6ZAA+P,mDAAzN,mBAAyB,aAAC,mBAAqB,WAA+C,mBAAmB,UAAvC,mBAAmB,UAA7C,mBAAyB,aAA/G,YAA+P,EAAzN,SAAyB,EAAC,SAAqB,EAA+C,SAAmB,EAAvC,SAAmB,EAA7C,SAAyB;sDAAgK,iLAA6Q,YAAzG;;wBAAqD;MAAC;;wBAAkD;MAA5Q,4WAA6Q,mDAA3N,mBAAyB,aAAC,mBAAqB,WAA+C,mBAAmB,UAAvC,mBAAmB,UAA7C,mBAAyB,aAA3H,YAA6Q,EAA3N,SAAyB,EAAC,SAAqB,EAA+C,SAAmB,EAAvC,SAAmB,EAA7C,SAAyB;oLAAxyB,yMAAuD,IAAc,qVAAgG,qNAAwO,IAAiB,kNAA+P,IAAgB,kNAA6Q,iDAA76B,mBAAyC,wBAAtD,YAAuD,EAA1C,SAAyC,GAAiD,mBAAwB,cAA1D,YAAgG,EAA9D,SAAwB,GAAsD,uBAAuB,EAAvC,YAAwO,EAAxN,SAAuB,GAAiO,sBAAsB,EAArC,aAA+P,EAAhP,SAAsB,GAA+P,4BAA4B,EAAjD,aAA6Q,EAAxP,SAA4B;;;;;;;;;0DCA9tB,kGAAuE,sLAA4K,qCAAS,yDAAjJ,mBAAwB,UAAC,iDAAqD,WAAC,iDAAwD,WAA3K,YAA4K,EAAxI,SAAwB,EAAC,SAAqD,EAAC,SAAwD,GAAC,kDAAS;0DAAwE,0MAAiP,qCAAyD,yDAAzM,mBAAgC,kBAAC,iDAAqD,WAAC,iDAAwD,WAAhP,YAAiP,EAAhJ,SAAgC,EAAC,SAAqD,EAAC,SAAwD,GAAC,8GAAyD;0DAAK,6YAA8gB,YAA5K;;wBAA4B;MAA9X,wBAA8gB,uMAA0K,qCAAqB,yDAA3mB,0FAAuD,IAAC,mBAAkD,4BAAC,6DAAoE,iBAAC,kBAAkC,8BAAC,sDAA4C,GAA8B,0BAA+B,WAAC,iDAAqD,WAAC,iDAAwD,WAA7gB,YAA8gB,EAA5a,SAAuD,EAAC,SAAkD,EAAC,SAAoE,EAAC,SAAkC,EAAC,SAA4C,EAA8B,SAA+B,EAAC,SAAqD,EAAC,SAAwD,GAA6C,yCAAiE,2BAAC,sCAA2D,2BAAzK,YAA0K,EAA9H,SAAiE,EAAC,SAA2D,GAAC,4EAAqB;0DAA1jC,0FAA8D,oLAAiP,IAA8D,6MAA8gB,iDAAzzB,gDAAyC,mBAA7C,YAAiP,EAA7O,SAAyC,GAAsQ,kBAA8C,oBAAlD,YAA8gB,EAA1gB,SAA8C;0DAArqB,+KAAuE,IAA+L,6MAA8D,iDAAhU,0CAA+C,yBAAnD,YAAuE,EAAnE,SAA+C,GAAuN,mBAA8C,OAAlD,YAA8D,EAA1D,SAA8C;;;;;;;;;wGCAxT,kTAAqiB,YAAtL;;wBAA6C;MAAC;;wBAA+C;MAAC;;wBAAiD;MAAC;;wBAAqC;MAApiB,szBAAqiB,mDAArf,mBAAiC,wBAAjF,YAAqiB,EAArf,SAAiC,GAAnE,kBAAY,EAA1B,YAAqiB,EAAvhB,SAAY,GAAgO,mBAAsD,qCAA9N,mBAA8B,qBAAC,mBAAkC,uBAA8J,mBAAiC,uBAA9L,mBAA+B,sBAAC,mBAA+B,sBAAC,oBAAqC,yBAAzP,YAAqiB,EAA3S,SAAsD,EAA9N,SAA8B,EAAC,SAAkC,EAA8J,SAAiC,EAA9L,SAA+B,EAAC,SAA+B,EAAC,UAAqC,mDAA9N,mBAAoB,gBAAoS,uBAA2B,EAA9W,YAAqiB,EAA1gB,SAAoB,EAAoS,SAA2B;;;;;;;;;;;;;;;;;;8DCA9O,mPAA0J,+HAAqC,mOAA+I;8DAA9c,oNAAgI,YAAxB;;wBAAuB;MAA/H,6LAAgI,oLAA0J,GAA0L,YAA+C,iDAAjb,mBAAqB,WAAvG,YAAgI,EAA9C,SAAqB,GAA8B,oBAAoB,cAAzB,YAA0J,EAArJ,SAAoB,mDAAnH,mBAA2C,0BAAjF,+DAAgI,EAA1F,SAA2C,EAAjF,SAAgI;;;;;;;;;uDCAjD,6FAA+D,qCAAc,iCAA3C,kBAA4B,yBAA9D,YAA+D,EAA7B,SAA4B,GAAC,oEAAc;uGAA5J,6GAAkC,yHAAyC,gFAAI,+MAA+D,IAAwB,2EAAI,yKAA6E,KAAkB,8QAAsS,YAA7F;;wBAA6C;MAAC;;wBAA8C;MAArS,mYAAsS,mDAA5d,mBAA6B,YAAjC,YAA+D,EAA3D,SAA6B,GAAkL,mBAAqB,cAAC,mBAAe,SAAC,mBAAyB,aAAC,mBAA+B,gBAAC,iBAA2B,EAAC,6DAAmD,GAAxM,YAAsS,EAA7Q,SAAqB,EAAC,SAAe,EAAC,SAAyB,EAAC,SAA+B,EAAC,SAA2B,EAAC,SAAmD;;;;;;;;;sGCAjd,6GAAkC,yHAAyC,gFAAI,gJAA0D,KAAkB,kTAA4W,YAA9F;;wBAA8C;MAAC;;wBAA8C;MAA3W,4fAA4W,mDAArT,mBAAoB,aAAC,mBAAgB,UAAC,mBAA0B,cAAC,mBAAgC,iBAAC,iBAA2B,EAAC,iBAAa,EAAzK,sBAA6B,EAAuK,6CAAgD,cAA1E,sBAAyB,GAA5N,YAA4W,EAArT,SAAoB,EAAC,SAAgB,EAAC,SAA0B,EAAC,SAAgC,EAAC,SAA2B,EAAC,SAAa,EAAzK,SAA6B,EAAuK,SAAgD,EAA1E,SAAyB;;;;;;;;;+FCAvX,6GAAkC,yHAAyC,gFAAI,gJAA0D,KAAkB,kTAAsS,YAA7F;;wBAA6C;MAAC;;wBAA8C;MAArS,kbAAsS,mDAA/O,mBAAe,SAAC,mBAAyB,aAAC,mBAA+B,gBAAC,iBAAa,EAArH,sBAA6B,EAAmH,mBAA+B,mBAAzD,sBAAyB,GAAxK,YAAsS,EAA/O,SAAe,EAAC,SAAyB,EAAC,SAA+B,EAAC,SAAa,EAArH,SAA6B,EAAmH,SAA+B,EAAzD,SAAyB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0GCAnU,mNAA6B,yBAAhB,kBAAe,EAA5B,YAA6B,EAAhB,SAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uDCAuI,8GAAkE,mBAAiC;uDAA0e,6EAAoC,mBAAqC,IAAa,0JAAwB;sDAAe,eAAoD;uDAAa,0KAAgK,yCAAO;uDAAtsB,+VAAiW,sNAAoC,IAAyF,kNAAoD,IAAa,4KAAgK,iDAAvX,mBAAwB,cAAhW,YAAiW,EAAzB,SAAwB,GAAe,qBAAqB,EAAnC,YAAoC,EAAtB,SAAqB,GAAyH,oBAAoB,EAAnD,YAAoD,EAArB,SAAoB,GAAuG,2EAAsE,qBAA/J,YAAgK,EAAvE,SAAsE,mDAA1pB,mBAAwB,cAAC,mBAA8B,cAAC,2CAAyD,sBAAC,2CAAoE,sBAAC,sCAAsC,GAAC,oCAAkC,GAApS,YAAiW,EAA7T,SAAwB,EAAC,SAA8B,EAAC,SAAyD,EAAC,SAAoE,EAAC,SAAsC,EAAC,SAAkC;uDAA8b,8GAAkE,mBAAiC;uDAAyB,uIAAiF,gKAA8G,wDAA1E,sCAAsC,GAAC,oCAAkC,GAA7G,YAA8G,EAA1E,SAAsC,EAAC,SAAkC;uDAAc,6EAA8C,oHAAoC,0IAA8E,KAAM,mIAA4E,KAAM,mHAAwC,KAAY,4IAAiE,0IAA8E,KAAM,mIAA4E,KAAM,mHAAwC,wDAA/b,mBAAmC,mBAA7E,YAA8E,EAApC,SAAmC,GAA+C,mBAAmC,mBAA3E,YAA4E,EAApC,SAAmC,GAAsK,mBAAmC,mBAA7E,YAA8E,EAApC,SAAmC,GAA+C,mBAAmC,mBAA3E,YAA4E,EAApC,SAAmC;uDAA6J,wGAA8E,mBAA+B,uDAAhF,mBAAgD,2BAA7E,YAA8E,EAAjD,SAAgD;wDAAoK,2GAA4D,qCAAa,yDAAlD,mBAAmB,eAA1C,YAA4D,EAArC,SAAmB,GAAkB,sDAAa;wDAA1L,gJAAiH,kLAA4D,GAAmB,eAAiD,IAAa,mHAAwC,IAAM,eAA2C,iDAAjO,mBAAiB,YAAtB,YAA4D,EAAvD,SAAiB,mDAAvE,mBAAgD,2BAAhH,YAAiH,EAAjD,SAAgD;kPAAl1E,gHAAoC,qMAA+H,YAAzE;;wBAAwE;MAA9H,wBAA+H,iLAAkE,IAAoD,wIAAkD,mBAAY,IAAa,uHAA2C,kLAAiW,IAAiY,6KAAkE,IAA0D,6KAAiF,IAA2H,6KAA8C,IAAwiB,8MAAmF,uNAA8E,IAAkD,oNAAiH,iDAA7oE,mBAA8B,yBAAjE,YAAkE,EAA/B,SAA8B,GAAud,mBAA2B,sBAAvU,aAAiW,EAArD,SAA2B,GAA8b,mBAA8B,yBAAjE,aAAkE,EAA/B,SAA8B,GAA4G,4CAA+B,GAAhF,aAAiF,EAAhC,SAA+B,GAA0I,4CAA+B,GAA7C,aAA8C,EAAhC,SAA+B,GAAulB,mBAAoC,0BAAlF,aAAmF,EAArC,SAAoC,GAAM,uBAAuB,EAA5B,aAA8E,EAAzE,SAAuB,GAA6I,sBAAsB,EAA/D,aAAiH,EAAxE,SAAsB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;iDCAjyE,eAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oDCAZ,eAAY;;;;;;;;;iDCAZ,eAAY;;;;;;;;;sDCAZ,8GAAmC,qYAA8H,GAAM,eAAwF,IAAa,sGAA2B,mBAA2C,GAAmB,eAAY,iDAA1P,mBAAyC,sBAAhF,mBAAsC,oBAAnF,YAA8H,EAA1C,SAAyC,EAAhF,SAAsC,2BAAnF,iEAA8H;;;;;;;;;;;;;;;6FCAjK,sJAAuG,qYAA8H,IAAM,gaAAwF,IAAsB,uHAAiC,mBAAY,iDAA3M,mBAAyC,sBAAhF,mBAAsC,oBAAnF,YAA8H,EAA1C,SAAyC,EAAhF,SAAsC,GAAsE,uDAA4C,GAAC,mBAAqB,WAAvF,YAAwF,EAAnE,SAA4C,EAAC,SAAqB,mDAA/R,gDAAmE,GAAtG,YAAuG,EAApE,SAAmE,GAAC,iEAA8H,GAAM,wMAAwF;;;;;;;;;;;;;;;;;;0DCAnU,eAAY;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;sDCA2pB,wMAAmD,8DAAtC,kBAAqC,yCAAlD,YAAmD,EAAtC,SAAqC;sDAAsE,+IAAiB;sDAAhoB,2ZAA4a,YAA1C;;wBAAyC;MAA3a,iUAA4a,kHAAmC,gLAAwC,IAA+E,2KAAyC,iDAAjS,qDAAmD,iBAAjY,YAA4a,EAA9F,SAAmD,GAA7E,kBAAyB,6BAA7U,YAA4a,EAAxH,SAAyB,GAA+I,kBAA0B,kCAAvC,YAAwC,EAA3B,SAA0B,GAA6F,oBAA2B,kCAAxC,YAAyC,EAA5B,UAA2B,mDAAjgB,qCAAwB,iBAAC,yDAAsC,iBAAC,uCAA0C,iBAAC,wCAAyC,iBAAC,wCAAiD,iBAAnT,+FAA4a,EAA/T,SAAwB,EAAC,SAAsC,EAAC,SAA0C,EAAC,SAAyC,EAAC,SAAiD,EAAnT,oBAA4a;sDAAiT,6RAAsW,YAAhG;;wBAA6C;MAAC;;wBAAiD;MAArW,yRAAsW,2BAAxK,kBAAuB,4BAAC,kBAAyB,6BAAC,kBAAqB,2BAArQ,YAAsW,EAAxK,SAAuB,EAAC,SAAyB,EAAC,SAAqB,mDAA9L,uCAA0B,iBAAC,qCAA0C,iBAAC,wCAAgD,iBAA7L,YAAsW,EAA/R,SAA0B,EAAC,SAA0C,EAAC,SAAgD;+IAA1kC,iSAAgL,YAArF;;wBAAsC;MAAC;;wBAA6C;MAA/K,uZAAgL,4MAA4a,IAA+P,wIAAkD,8MAAsW,iDAAxrC,mBAA+B,gBAA/D,mBAA+B,gBAA1D,YAAgL,EAArH,SAA+B,EAA/D,SAA+B,GAA0L,mBAAwC,QAA5G,YAA4a,EAAxW,SAAwC,GAA+oB,mBAAwC,QAAtE,YAAsW,EAAxU,SAAwC,2BAAn9B,2JAAgL;;;;;;;;;;gGCAhL,+OAAqL,YAA9G;;wBAAsD;MAAC;;wBAAsD;MAApL,wBAAqL,4OAA4B,mDAAtK,mBAA2B,YAAtE,YAAqL,EAA1I,SAA2B;;;;;;;;;uLCAtE,gWAAuR,YAAlC;;wBAAiC;MAAtR,oNAAuR,8HAA+C,KAAY,mMAA0F,YAAnC;;wBAAkC;MAAzF,wBAA0F,mNAA4F,YAA1C;;wBAAyC;MAA3F,yKAA4F,6GAA4B,mBAAY,IAAmB,iOAAa,IAA0B,gWAAmR,YAAjC;;wBAAgC;MAAlR,qNAAmR,+HAA+C,kDAArzB,gDAA2D,iBAAlL,YAAuR,EAAhK,SAA2D,GAA8iB,+CAA0D,iBAAhL,aAAmR,EAA7J,SAA0D,mDAAvmB,mBAAiE,uBAApP,sDAAuR,EAApG,SAAiE,EAApP,SAAuR,GAAogB,mBAAgE,sBAAjP,wDAAmR,EAAlG,SAAgE,EAAjP,SAAmR;;;;;;;;;gDCAh3B,eAAY;iGAAzB,yDAAa;;;;;;;;;2FCAb,sKAAgE,YAArC;;wBAAoC;MAA/D,yKAAgE,oBAAY,IAAa,+NAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;oDCAtG,eAAY,GAAa,eAAqC;;;;;;;;;;;;;;;;;;;;ACA9D,6EAAuD;AAGvD,IAAM,SAAS,GAAS;IACtB,EAAC,IAAI,EAAE,EAAE,EAAE,UAAU,EAAE,aAAa,EAAE,SAAS,EAAE,MAAM,EAAC;CAEzD;AAED;IAAA;IAM8B,CAAC;IAAD,uBAAC;AAAD,CAAC;AAAlB,4CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;uDCb7B,knBAAgE,IAC9D,wOAAY,IACZ,wQAAe,yBAFZ,wBAAiB,EAAtB,YAAgE,EAA3D,SAAiB,GAAC,qBAAiB,EAAxC,YAAgE,EAAzC,SAAiB,GAAC,wBAAsB,EAA/D,YAAgE,EAAvB,SAAsB,GAC7D,YAAY,GACZ,YAAe;;;;;;;;;;;;;;;;;;;;ACAjB;IAAA;IAOA,CAAC;IAAD,mBAAC;AAAD,CAAC;AAFY,oCAAY;;;;;;;;;;;;;;;ACazB;IAAA;IAmByB,CAAC;IAAD,gBAAC;AAAD,CAAC;AAAb,8BAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjCtB;IAAA;IAa8B,CAAC;IAAD,sBAAC;AAAD,CAAC;AAAlB,0CAAe;;;;;;;;;;;;;;;ACpB5B,6EAAuD;AAEvD,uGAAiD;AACjD,2HAA4D;AAC5D,2HAA4D;AAE5D,IAAM,UAAU,GAAS;IACvB,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,8BAAa;QACvC,QAAQ,EAAC;YACP,EAAC,IAAI,EAAC,QAAQ,EAAE,SAAS,EAAE,kCAAe,EAAC;YAC3C,EAAC,IAAI,EAAC,QAAQ,EAAE,SAAS,EAAE,kCAAe,EAAC;SAC5C,EAAC;CACH;AAED;IAAA;IAO+B,CAAC;IAAD,wBAAC;AAAD,CAAC;AAAnB,8CAAiB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wDCrB9B,4cAAiF,IAC/E,6LAAU,IACR,6KAAgB,yCAAQ,MACxB,mLAAkB,uCAElB,MAKJ,qJAA+C,YAAhC;;wBAA+B;MAA9C,4NAA+C,2BAV1C,wBAAiB,EAAtB,YAAiF,EAA5E,SAAiB,GAAC,+BAA6B,EAApD,YAAiF,EAA1D,SAA6B,GAUpD,aAA+C,mDAPzB,qDAElB;;;;;;;;;;;;;;;;;;;;ACLJ,uEAAyD;AACzD,2HAA4D;AAE5D;IASE;QAFA,YAAO,GAAG,kDAAkD,CAAC;IAE7C,CAAC;IAEjB,gCAAQ,GAAR;IACA,CAAC;IAED,kCAAU,GAAV,UAAW,KAAK;QACd,EAAE,EAAC,KAAK,YAAY,kCAAe,CAAC;YAClC,IAAI,CAAC,OAAO,GAAG,kDAAkD;QACnE,IAAI;YACF,IAAI,CAAC,OAAO,GAAG,wDAAwD;IAC3E,CAAC;IAEH,oBAAC;AAAD,CAAC;AAhBY,sCAAa;;;;;;;;;;;;;;;ACA1B;IAAA;IAawB,CAAC;IAAD,iBAAC;AAAD,CAAC;AAAZ,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DClBnB,mMAAsC,oCAAmB,yDAAzD,0DAAsC,+DAAmB;0DAKzD,oMAAyC,oCAAsB,yDAA/D,0DAAyC,kEAAsB;0DAEjE,4FAAqC,sJAAe;uIAVtD;;;;;wBAAqF;MAA/E;;wBAA4B;MAAlC,sqBAAqF,IACnF,40CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;uuCAA8F,KAC9F,8KAAsC,IAExC,o1CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;+wCAA8J,KAC9J,oPAAmE,YAA/C;;wBAAsB;MAA1C,iOAAmE,kCAA0C,MAC7G,8KAAyC,IAE3C,iLAAqC,IACrC,4EAAI,KACJ,+VAA+E,qCAAO,mDAZzC,wBAAiB,EAAhE,YAAqF,EAAtC,SAAiB,GAAC,uBAAmB,EAApF,YAAqF,EAApB,SAAmB,GAEjB,mBAAQ,EAAvE,aAA8F,EAA/B,UAAQ,GAAd,mBAAK,EAA9D,aAA8F,EAArC,UAAK,GAAlB,wBAAY,EAApB,mBAAO,EAA3C,aAA8F,EAAlD,UAAY,EAApB,UAAO,GAA3B,wBAAmB,EAA4B,mBAAQ,EAAvE,aAA8F,EAA9E,UAAmB,EAA4B,UAAQ,GAC5D,+BAA0B,WAArC,aAAsC,EAA3B,UAA0B,GAGyE,mBAAQ,EAAtH,aAA8J,EAAhD,UAAQ,GAAC,oBAAa,EAApI,aAA8J,EAAvC,UAAa,GAA1E,2BAAe,EAAvB,mBAAO,EAAzD,aAA8J,EAApG,UAAe,EAAvB,UAAO,GAAzC,sCAAiC,EAA6D,mBAAQ,EAA5C,gDAAmC,GAA7G,aAA8J,EAA9I,UAAiC,EAA6D,UAAQ,EAA5C,UAAmC,GAC7G,aAAmE,GACxD,gCAA6B,WAAxC,aAAyC,EAA9B,WAA6B,GAEzB,qBAAmB,cAApC,aAAqC,EAApB,WAAmB,GAEoB,+BAAsB,WAApD,2BAAe,EAAzC,aAA+E,EAAvB,WAAsB,EAApD,WAAe,mDAZ3C,iaAAqF,GACnF,22CAAgB,IACd,ygCAA8F,IAGhG,82CAAgB,IACd,smCAA8J,IAC9J,kEAAmE,2FAA0C,GAK/G,gFAA+E;;;;;;;;;;;;;;;;;;;;ACZjF,uEAAwE;AACxE,oEAAoC;AAEpC,2GAAqD;AAIrD,6EAAyC;AAEzC;IAYE,yBAAoB,KAA8B,EAAU,MAAc;QAAtD,UAAK,GAAL,KAAK,CAAyB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAJ1E,SAAI,GAAG,IAAI,CAAC;QACZ,gBAAW,GAAG,EAAE,CAAC;IAG6D,CAAC;IAE/E,kCAAQ,GAAR;QAAA,iBAUC;QATC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;aAC9C,SAAS,CACR,mBAAS;YACP,EAAE,EAAC,SAAS,CAAC,mBAAmB,CAAC;gBAAC,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC,mBAAmB,CAAC;YACnF,EAAE,EAAC,SAAS,CAAC,aAAa,IAAE,SAAS,CAAC,KAAK,CAAC,EAAC;gBACzC,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YAC9C,CAAC;QACH,CAAC,CACF;IACH,CAAC;IAED,uCAAa,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC;YAC/D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC;gBAChD,EAAE,CAAC;IACb,CAAC;IAED,0CAAgB,GAAhB;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC;YAClE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC;gBAClE,EAAE,CAAC;IACb,CAAC;IAED,sCAAY,GAAZ,UAAa,MAAc;QACzB,IAAM,KAAK,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC;QACjC,IAAM,QAAQ,GAAG,MAAM,CAAC,KAAK,CAAC,QAAQ,CAAC;QACvC,OAAO,CAAC,GAAG,CAAC,KAAK,GAAC,KAAK,GAAC,QAAQ,CAAC,CAAC;QAClC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,iBAAiB;QACjB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,WAAW,CAAC,MAAM,CAAC,EAAC,KAAK,SAAE,QAAQ,YAAC,CAAC,CAAC,CAAC;QAC/D,2CAA2C;IAC7C,CAAC;IAED,qCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC;YAAA,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IAC3D,CAAC;IACH,sBAAC;AAAD,CAAC;AA9CY,0CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DCJ1B,4FAAqC,sJAAe;0DAGlD,mMAAqC,uDAAsB,iCAA3D,0DAAqC;0DAIrC,oMAAsC,oCAAmB,yDAAzD,0DAAsC,+DAAmB;0DAMzD,oMAAoC,2DAA0B,iCAA9D,0DAAoC;0DAIpC,oMAAqC,gEAA+B,iCAApE,0DAAqC;0DAQrC,oMAAyC,oCAAsB,yDAA/D,0DAAyC,kEAAsB;0DAEjE,4FAAqC,sJAAe;uLArCtD;;;;;wBAAqF;MAA/E;;wBAA4B;MAAlC,sqBAAqF,IACnF,0aAAkD,IAChD,4QAAY,IACV,wJAA2E,IAA1B,aAAyB,IAE5E,4aAAiC,IAC/B,2EAAG,8GAA4E,MAC/E,0KAAqE,YAAjC;;wBAAgC;MAApE,wBAAqE,KAGzE,gLAAqC,IACrC,i1CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;8mCAAqF,KACrF,6KAAqC,IAEvC,w1CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;0uCAA8F,KAC9F,6KAAsC,IAExC,w1CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+9CAAqH,KACrH,2hBAAgD,MAChD,mXAAwB,IACxB,6KAAoC,IAEtC,w1CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;unCAA8F,KAC9F,8KAAqC,IAEvC,01CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;+3BAA6D,KAE/D,01CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;uxCAA8J,KAC9J,qPAAmE,YAA/C;;wBAAsB;MAA1C,mOAAmE,mCAA0C,MAC7G,8KAAyC,IAE3C,iLAAqC,IACrC,6EAAI,KACJ,kWAA+E,qCAAO,mDAvCzC,wBAAiB,EAAhE,YAAqF,EAAtC,SAAiB,GAAC,uBAAmB,EAApF,YAAqF,EAApB,SAAmB,GAC7E,qBAAc,EAAnB,aAAkD,EAA7C,SAAc,GAAC,gCAA6B,EAAjD,aAAkD,EAA9B,UAA6B,GAC1C,mBAAM,EAAX,aAAY,EAAP,UAAM,GAGN,mBAAM,EAAX,aAAiC,EAA5B,UAAM,GAAC,yBAAoB,EAAhC,aAAiC,EAArB,UAAoB,GAKjB,oBAAmB,cAApC,aAAqC,EAApB,UAAmB,GAEqB,mBAAQ,EAA/D,aAAqF,EAA9B,UAAQ,GAApB,uBAAW,EAAnB,mBAAO,EAA1C,aAAqF,EAA1C,UAAW,EAAnB,UAAO,GAA1B,uBAAkB,EAAqB,mBAAQ,EAA/D,aAAqF,EAArE,UAAkB,EAAqB,UAAQ,GACpD,+BAAyB,WAApC,aAAqC,EAA1B,UAAyB,GAG2B,mBAAQ,EAAvE,aAA8F,EAA/B,UAAQ,GAAd,mBAAK,EAA9D,aAA8F,EAArC,UAAK,GAAlB,wBAAY,EAApB,mBAAO,EAA3C,aAA8F,EAAlD,UAAY,EAApB,UAAO,GAA3B,yBAAmB,EAA4B,oBAAQ,EAAvE,aAA8F,EAA9E,WAAmB,EAA4B,WAAQ,GAC5D,gCAA0B,WAArC,aAAsC,EAA3B,WAA0B,GAGmD,oBAAQ,EAAhG,aAAqH,EAA7B,WAAQ,GAAhF,gCAAwB,GAAxC,aAAqH,EAArG,WAAwB,GAAS,uBAAU,EAAlB,oBAAO,EAAhD,aAAqH,EAApE,WAAU,EAAlB,WAAO,GAAY,iCAA2B,EAAC,oBAAQ,EAAhG,aAAqH,EAAzD,WAA2B,EAAC,WAAQ,GAC/D,gCAAc,GAA/C,aAAgD,EAAf,WAAc,GAEpC,gCAAwB,WAAnC,aAAoC,EAAzB,WAAwB,GAG0B,oBAAQ,EAArE,cAA8F,EAAjC,WAAQ,GAAvB,2BAAc,EAAtB,oBAAO,EAA7C,cAA8F,EAAhD,WAAc,EAAtB,WAAO,GAA7B,2BAAqB,EAAwB,oBAAQ,EAArE,cAA8F,EAA9E,WAAqB,EAAwB,WAAQ,GAC1D,gCAAyB,WAApC,cAAqC,EAA1B,WAAyB,GAGU,2BAAc,EAAtB,oBAAO,EAA7C,cAA6D,EAAf,WAAc,EAAtB,WAAO,GAA7B,2BAAqB,EAArC,cAA6D,EAA7C,WAAqB,GAGyE,oBAAQ,EAAtH,cAA8J,EAAhD,WAAQ,GAAC,qBAAa,EAApI,cAA8J,EAAvC,WAAa,GAA1E,4BAAe,EAAvB,oBAAO,EAAzD,cAA8J,EAApG,WAAe,EAAvB,WAAO,GAAzC,uCAAiC,EAA6D,oBAAQ,EAA5C,iDAAmC,GAA7G,cAA8J,EAA9I,WAAiC,EAA6D,WAAQ,EAA5C,WAAmC,GAC7G,cAAmE,GACxD,iCAA6B,WAAxC,cAAyC,EAA9B,WAA6B,GAEzB,qBAAmB,cAApC,cAAqC,EAApB,WAAmB,GAEoB,+BAAsB,WAApD,2BAAe,EAAzC,cAA+E,EAAvB,WAAsB,EAApD,WAAe,mDAvC3C,iaAAqF,GAG9B,sEAAyB,WAA1E,aAA2E,EAA1B,UAAyB,GAQ9E,82CAAgB,IACd,ygCAAqF,IAGvF,82CAAgB,IACd,ygCAA8F,IAGhG,s5CAAgB,IACd,iiDAAqH,IACrH,6UAAgD,GAIlD,s5CAAgB,IACd,6jCAA8F,IAGhG,26CAAgB,IACd,q/BAA6D,IAE/D,26CAAgB,IACd,8pCAA8J,IAC9J,sEAAmE,8FAA0C,GAK/G,kFAA+E;;;;;;;;;;;;;;;;;;;;ACvCjF,uEAAwE;AAExE,wGAA+C;AAE/C,oEAAoC;AAEpC,2GAAqD;AAKrD,6EAAyC;AAEzC;IAmBE,yBAAoB,KAA8B,EAAU,MAAc;QAAtD,UAAK,GAAL,KAAK,CAAyB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAV1E,aAAQ,GAAW,g6JAAg6J,CAAC;QAEp7J,WAAM,GAAG,IAAI,CAAC,QAAQ,CAAC;QAIvB,SAAI,GAAG,IAAI,CAAC;QACZ,gBAAW,GAAG,EAAE,CAAC;QACjB,gBAAW,GAAG,EAAE,CAAC;IAE6D,CAAC;IAE/E,kCAAQ,GAAR;QAAA,iBAaC;QAZC,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,uEAAsE;aAEpH,SAAS,CACR,mBAAS;YACP,EAAE,EAAC,SAAS,CAAC,mBAAmB,CAAC,EAAC;gBAChC,KAAI,CAAC,WAAW,GAAG,SAAS,CAAC,mBAAmB,CAAC;YACnD,CAAC;YACD,EAAE,EAAC,SAAS,CAAC,aAAa,IAAE,SAAS,CAAC,KAAK,CAAC,EAAC;gBACvC,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;YAChD,CAAC;QACH,CAAC,CACF;IACH,CAAC;IAED,uCAAa,GAAb,UAAc,KAAK;QAAnB,iBAsBC;QArBC,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;QACtB,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,IAAI,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjD,EAAE,EAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,GAAC,KAAK,CAAC,EAAC;gBACnC,MAAM,CAAC,IAAI,CAAC,WAAW,GAAG,sCAAsC,CAAC;YACnE,CAAC;YAED,IAAI,MAAM,GAAG,IAAI,UAAU,EAAE,CAAC;YAE9B,MAAM,CAAC,aAAa,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,wBAAwB;YAErE,MAAM,CAAC,MAAM,GAAG,UAAC,CAAM;gBACrB,sDAAsD;gBACvD,IAAI,KAAK,GAAG,IAAI,KAAK,EAAE,CAAC;gBACxB,KAAK,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;gBACxB,EAAE,EAAC,KAAK,CAAC,KAAK,GAAG,GAAG,IAAI,KAAK,CAAC,MAAM,GAAG,GAAG,CAAC,EAAC;oBAC1C,MAAM,CAAC,KAAI,CAAC,WAAW,GAAG,gDAAgD,CAAC;gBAC7E,CAAC;gBAED,KAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC;YAC/B,CAAC;QACH,CAAC;IACF,CAAC;IAGD,uCAAa,GAAb;QACE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC;YAC/D,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,mBAAmB,CAAC,CAAC;gBAChD,EAAE,CAAC;IACb,CAAC;IAED,0CAAgB,GAAhB;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC;YAClE,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,WAAW,CAAC,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC;gBAClE,EAAE,CAAC;IACb,CAAC;IAED,sCAAY,GAAZ,UAAa,MAAc;QACzB,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACpB,IAAM,IAAI,GAAG,IAAI,iBAAI,CACnB,IAAI,CAAC,MAAM,EACX,MAAM,CAAC,KAAK,CAAC,IAAI,EACjB,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,EAAE,sDAAsD;QAClF,MAAM,CAAC,KAAK,CAAC,KAAK,EAClB,MAAM,CAAC,KAAK,CAAC,OAAO,EACpB,MAAM,CAAC,KAAK,CAAC,OAAO,EACpB,MAAM,CAAC,KAAK,CAAC,QAAQ,CACtB;QACD,IAAI,CAAC,WAAW,GAAC,EAAE,CAAC;QACpB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;IAEpD,CAAC;IAED,qCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC;YAAC,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IAC5D,CAAC;IAEH,sBAAC;AAAD,CAAC;AAxFY,0CAAe;;;;;;;;;;;;;;;ACff,mBAAW,GAAG,aAAa,CAAC;AAC5B,mBAAW,GAAG,aAAa,CAAC;AAC5B,cAAM,GAAG,QAAQ,CAAC;AAClB,cAAM,GAAG,QAAQ,CAAC;AAClB,cAAM,GAAG,QAAQ,CAAC;AAClB,oBAAY,GAAG,cAAc,CAAC;AAC9B,iBAAS,GAAG,WAAW,CAAC;AAErC;IAGE,oBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,mBAAW,CAAC;IAEQ,CAAC;IAAA,CAAC;IACxC,iBAAC;AAAD,CAAC;AAJY,gCAAU;AAMvB;IAGE,oBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,mBAAW,CAAC;IAEQ,CAAC;IAAA,CAAC;IACxC,iBAAC;AAAD,CAAC;AAJY,gCAAU;AAMvB;IAGE,gBAAmB,OAAY;QAAZ,YAAO,GAAP,OAAO,CAAK;QAFtB,SAAI,GAAG,cAAM,CAAC;IAEU,CAAC;IACpC,aAAC;AAAD,CAAC;AAJY,wBAAM;AAKnB;IAGE,gBAAmB,OAAyC;QAAzC,YAAO,GAAP,OAAO,CAAkC;QAFnD,SAAI,GAAG,cAAM,CAAC;IAEuC,CAAC;IACjE,aAAC;AAAD,CAAC;AAJY,wBAAM;AAKnB;IAAA;QACW,SAAI,GAAG,cAAM,CAAC;IACzB,CAAC;IAAD,aAAC;AAAD,CAAC;AAFY,wBAAM;AAGnB;IAAA;QACW,SAAI,GAAG,oBAAY,CAAC;IAC/B,CAAC;IAAD,kBAAC;AAAD,CAAC;AAFY,kCAAW;AAIxB;IAGE,kBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,iBAAS,CAAC;IAEU,CAAC;IACvC,eAAC;AAAD,CAAC;AAJY,4BAAQ;;;;;;;;;;;;;;;;;;;;;;;;ACvCrB,0EAA6C;AAC7C,qFAAqE;AAErE,sHAAgE;AAChE,oGAA8C;AAG9C,qDAAkD,CAAC,uCAAuC;AAC1F,8EAAiE,CAAC,6BAA6B;AAE/F,IAAM,WAAW,GAAG,yBAAW,CAAC,MAAM,CAAC;AAEvC;IAyFE,qBAAoB,QAAiB,EAAU,UAAsB;QAArE,iBAAwE;QAApD,aAAQ,GAAR,QAAQ,CAAS;QAAU,eAAU,GAAV,UAAU,CAAY;QAtFrE,gBAAW,GAAG,IAAI,CAAC,QAAQ,CAAC,IAAI,CAC9B,eAAG,CAAC,gBAAM;YACR,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC;QACtB,CAAC,CAAC,CACH,CAAC;QAGF,eAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CACxD,eAAG,CAAC,UAAC,MAA0B;YAC7B,OAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;YACvC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC;YACtB,iCAAiC;QACnC,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,QAAc;YACvB,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,GAAC,OAAO,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EAChE;gBACE,OAAO,EAAC,EAAC,cAAc,EAAC,kBAAkB,EAAC;gBAC3C,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACpB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,GAAG,CAAC,CAAC;gBAClC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;gBACjC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,WAAW,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC;gBACjE,mDAAmD;YACrD,CAAC;YACD,+CAA+C;YAC/C,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;QAClE,CAAC,CAAC,CACH,CAAC;QAGF,eAAU,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CACxD,eAAG,CAAC,UAAC,MAA0B,IAAK,aAAM,CAAC,OAAO,EAAd,CAAc,CAAC,EACnD,qBAAS,CAAC,UAAC,QAAyC;YAClD,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,GAAC,aAAa,EAAC,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,EACtE;gBACE,OAAO,EAAC,EAAC,cAAc,EAAC,kBAAkB,EAAC;gBAC3C,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACpB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,GAAG,CAAC,CAAC;gBAClC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,OAAO,CAAC,GAAG,CAAC,mBAAmB,CAAC,CAAC;gBACjC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,WAAW,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC;gBACjE,mDAAmD;YACrD,CAAC;YACD,+CAA+C;YAC/C,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,WAAW,CAAC,SAAS,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;QAClE,CAAC,CAAC,CACH;QAGD,WAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,IAAI,CACpD,qBAAS,CAAC;YACR,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,MAAM,CAAC,WAAW,GAAC,gBAAgB,EAClD;gBACE,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACpB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,oBAAoB,EAAC,GAAG,CAAC,CAAC;gBACtC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;YAC3C,CAAC;YACD,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,WAAW,CAAC,YAAY,EAAC,CAAC,CAAC,WAAU;QACvD,CAAC,CAAC,CACH;IAEsE,CAAC;IAtFxE;QADC,gBAAM,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC;;oDAK1B;IAGF;QADC,gBAAM,EAAE;;mDA6BP;IAGF;QADC,gBAAM,EAAE;;mDAyBR;IAGD;QADC,gBAAM,EAAE;;+CAoBR;IAGH,kBAAC;CAAA;AAzFY,kCAAW;;;;;;;;;;;;;;;;;;;;;;;ACdxB,oGAA8C;AAW9C,IAAM,YAAY,GAAS;IACzB,KAAK,EAAG,IAAI;IACZ,KAAK,EAAE,IAAI;IACX,IAAI,EAAE,IAAI;IACV,aAAa,EAAG,KAAK;IACrB,mBAAmB,EAAE,IAAI;IACzB,mBAAmB,EAAE,IAAI;CAC1B;AAED,qBAA4B,KAAkB,EAAE,MAA+B;IAAnD,4CAAkB;IAC5C,MAAM,EAAC,MAAM,CAAC,IAAI,CAAC,EAAC;QAClB,KAAK,WAAW,CAAC,WAAW;YAC1B,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;YAC7C,MAAM,cACD,KAAK,IACR,mBAAmB,EAAE,MAAM,CAAC,OAAO,IACpC;QACH,KAAK,WAAW,CAAC,WAAW;YAC1B,OAAO,CAAC,GAAG,CAAC,+BAA+B,CAAC,CAAC;YAC7C,MAAM,cACD,KAAK,IACR,mBAAmB,EAAE,MAAM,CAAC,OAAO,IACpC;QACH,KAAK,WAAW,CAAC,MAAM;YACrB,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QACxC,KAAK,WAAW,CAAC,MAAM;YACrB,MAAM,cACD,KAAK,IACR,mBAAmB,EAAE,IAAI,EACzB,mBAAmB,EAAE,IAAI,IACzB;QACJ,KAAK,WAAW,CAAC,YAAY;YAC3B,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACpC,MAAM,cACD,KAAK,EACL,YAAY,EACf;QACJ,KAAK,WAAW,CAAC,SAAS;YACxB,IAAM,WAAW,GAAG,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACjD,IAAM,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC;YAClD,OAAO,CAAC,GAAG,CAAC,0BAA0B,EAAC,WAAW,CAAC,CAAC;YACpD,MAAM,cACD,KAAK,IACR,KAAK,EAAE,MAAM,CAAC,OAAO,EACrB,KAAK,EAAE,WAAW,CAAC,OAAO,CAAC,EAC3B,IAAI,EAAE,WAAW,CAAC,MAAM,CAAC,EACzB,aAAa,EAAE,IAAI,IACnB;QACJ;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AA1CD,kCA0CC;;;;;;;;;;;;;;;AC9DD,6EAAuD;AAEvD,iHAAsD;AAItD,IAAM,UAAU,GAAS;IACvB,EAAC,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,8BAAa;QACvC,QAAQ,EAAC;YACP,EAAC,IAAI,EAAC,QAAQ,EAAE,YAAY,EAAE,sCAAsC,EAAC;YACrE,EAAC,IAAI,EAAC,SAAS,EAAE,YAAY,EAAE,yCAAyC,EAAC;YACzE,EAAC,IAAI,EAAC,OAAO,EAAE,YAAY,EAAE,yCAAyC,EAAC;SACxE,EAAC;CACH;AAED;IAAA;IAO+B,CAAC;IAAD,wBAAC;AAAD,CAAC;AAAnB,8CAAiB;;;;;;;;;;;;;;;ACT9B;IAAA;IAoByB,CAAC;IAAD,iBAAC;AAAD,CAAC;AAAb,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DC5BnB,qKAAgG,YAArB;;wBAAoB;MAA/F,iKAAgG,qCAAO,iCAAvG,0EAAgG;0DAG9F;;;mUAA4C,qCAAO,MACnD;;;mUAA4C,qCAAO,2BADhC,6BAAwB,EAA3C,YAA4C,EAAzB,SAAwB,GACxB,6BAAwB,EAA3C,YAA4C,EAAzB,SAAwB,2BAD3C,0EAA4C,GAC5C,0EAA4C;0DAKhD,qOAAiD,sGAAiC,0BAA/E,qBAAiB,EAApB,YAAiD,EAA9C,SAAiB,mDAA6B,uGAAiC;0DAdpF,uOAAuB,IACrB,+xBAA4E,MAC1E;;;mUAAiC,4EAAG,2CAAS,MAC7C,4TAAqC,IAErC,wMAAgG,GAA7E,mDAAuD,KAE1E,gFAA+B,KAOjC,gLAAiD,GAA5B,mDAA2B,kDAd7C,wBAAiB,EAAtB,YAAuB,EAAlB,SAAiB,GACS,wBAAoB,EAAjD,YAA4E,EAA/C,SAAoB,GAAC,8BAAyB,EAA3E,YAA4E,EAA1B,SAAyB,GAA9D,yBAAe,EAA5B,YAA4E,EAA/D,SAAe,GACP,kBAAa,EAAhC,YAAiC,EAAd,SAAa,GAC1B,gCAA8B,EAApC,aAAqC,EAA/B,SAA8B,GAEjB,sHAAuD,GAA1E,aAAgG,EAA7E,qBAAuD,GASvD,iEAA2B,kBAAhD,aAAiD,EAA5B,UAA2B,2BAbhD,2IAA4E,GAC1E,0EAAiC;;;;;;;;;;;;;;;;;;;;ACFrC,uEAAkD;AAClD,oEAAoC;AAEpC,mHAA6D;AAC7D,kIAAsE;AACtE,wIAAwE;AACxE,6HAAmE;AACnE,kIAAsE;AAEtE,6EAAyC;AACzC,8EAAiD;AACjD,oHAA4D;AAE5D;IASE,yBAAoB,KAA8B,EAAU,MAAc,EAAU,aAA4B;QAA5F,UAAK,GAAL,KAAK,CAAyB;QAAU,WAAM,GAAN,MAAM,CAAQ;QAAU,kBAAa,GAAb,aAAa,CAAe;IAAI,CAAC;IAErH,kCAAQ,GAAR;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAC,eAAe,CAAC,CAAC;QACpE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAC,MAAM,CAAC,CAAC;IACxD,CAAC;IAED,kCAAQ,GAAR;QAAA,iBAiBC;QAhBC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,WAAW,CAAC,MAAM,EAAE,CAAC,CAAC;QAC9C,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAC,eAAe,CAAC,CAAC,IAAI,CAC5C,qBAAS,CAAC,UAAC,aAAqB,IAAG,oBAAa,KAAG,IAAI,EAApB,CAAoB,CAAC,EACxD,gBAAI,CAAC,CAAC,CAAC,CACR,CAAC,SAAS,CACT,UAAC,aAAa;YACZ,KAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;YAChC,KAAI,CAAC,MAAM,CAAC,aAAa,CAAC,cAAc,CAAC,CAAC;QAC5C,CAAC,CACF,CAAC;QAEF,sBAAsB;QACtB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,UAAU,EAAE,CAAC,CAAC;QACrD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,UAAU,EAAE,CAAC,CAAC;QACnD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC;QACpD,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,UAAU,EAAE,CAAC,CAAC;IACvD,CAAC;IAEH,sBAAC;AAAD,CAAC;AA9BY,0CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wDClB5B,0oBAAiF,IAC/E,0EAAG,qDAAmB,wGAAuB,qCAAc,MAC3D,gWAAqB,MACnB;;;;;;onBAG4B,yCAE5B,MACA;;;;;;onBAG4B,0CAE5B,MACA;;;;;;onBAG4B,wCAE5B,MAEF,0QAAe,yBAtBI,wBAAiB,EAAtC,YAAiF,EAA5D,SAAiB,GAAC,sBAAkB,EAAzD,YAAiF,EAA1C,SAAkB,GAAC,wBAAsB,EAAhF,YAAiF,EAAvB,SAAsB,GAIzE,+BAAyB,EAD5B,aAG4B,EAFzB,UAAyB,GACzB,mBAAgB,EAFnB,aAG4B,EADzB,UAAgB,GAChB,+BAAwB,YAH3B,aAG4B,EAAzB,UAAwB,GAIxB,gCAA0B,EAD7B,aAG4B,EAFzB,UAA0B,GAC1B,mBAAgB,EAFnB,aAG4B,EADzB,UAAgB,GAChB,+BAAwB,YAH3B,aAG4B,EAAzB,UAAwB,GAIxB,8BAAwB,EAD3B,aAG4B,EAFzB,UAAwB,GACxB,mBAAgB,EAFnB,aAG4B,EADzB,UAAgB,GAChB,+BAAwB,YAH3B,aAG4B,EAAzB,UAAwB,GAI7B,aAAe,mDArB8B,uDAAc,GAEzD,8UAG4B,GAG5B,0VAG4B,GAG5B,0VAG4B;;;;;;;;;;;;;;;;;;;;AClBhC,uEAA6D;AAC7D,oHAA4D;AAE5D,oEAAoC;AAEpC,kIAAsE;AAItE;IAUE,uBAAoB,aAA4B,EAAU,KAA8B;QAApE,kBAAa,GAAb,aAAa,CAAe;QAAU,UAAK,GAAL,KAAK,CAAyB;QADxF,eAAU,GAAG,EAAE,CAAC;IAC4E,CAAC;IAE7F,gCAAQ,GAAR;QAAA,iBAmBC;QAlBC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAEhC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC,SAAS,CAAC,kBAAkB;QAC7E,UAAC,QAAQ;YACP,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC;QACnE,CAAC;QACD,gEAAgE;SACjE;QAED,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAC,UAAU,CAAC,CAAC,SAAS,CAC7D,UAAC,QAAQ;YACP,IAAM,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,UAAC,GAAG,IAAG,UAAG,CAAC,MAAM,KAAG,MAAM,EAAnB,CAAmB,CAAC,CAAC;YAC3D,EAAE,EAAC,MAAM,CAAC,MAAM,GAAC,CAAC,CAAC;gBAAC,KAAI,CAAC,UAAU,GAAG,4CAA4C,CAAC;YACnF,IAAI;gBAAC,KAAI,CAAC,UAAU,GAAG,EAAE,CAAC;QAC5B,CAAC,CACF;QAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,gBAAgB,EAAE,CAAC,CAAC;IAC7D,CAAC;IAED,mCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAChD,EAAE,EAAC,IAAI,CAAC,MAAM,CAAC;YAAC,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE,CAAC;IAC5C,CAAC;IAEH,oBAAC;AAAD,CAAC;AAjCY,sCAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;yDCTlB,8MAAoF,mJAAa;yDAE/F,8MAAsC,8JAAwB;yDAHlE;;;;;;oMAA0H,GAAlE,4BAAiE,KAAzH,uKAA0H,MACxH,sMAAoF,IACpF,yEAAyB,KAGzB,2KAAW,IACT,8EAAM,sCAAgB,2BAN8B,6FAAiE,IAAzH,YAA0H,EAAlE,SAAiE,GAC3G,wFAA6C,GAAzD,YAAoF,EAAxE,oBAA6C,2BAD3D,kHAA0H,GAMhH,sEAAgB;yDAUxB,mMAAqC,2DAA0B,iCAA/D,0DAAqC;iGApB7C,8cAA0D,IACxD,8HAAwC,KACtC,oGAAyB,qCAAiB,MAC1C,6LAAU,IACR,0MAA0H,GAA3G,mDAAwC,KAW3D,mUAAa,IACb,qGAAwB,KACtB;;;;;wBAAmE;MAA7D;;wBAAiC;MAAvC,wfAAmE,IACjE,yhDAAmC,MACjC;;;;;;;;;;;;;;;;;;;;;8mCAAmJ,KACnJ,4KAAqC,IAEvC,gWAAyG,kCAAI,mDAtB7F,wBAAiB,EAAvC,YAA0D,EAApC,SAAiB,GAAC,qBAAiB,EAAzD,YAA0D,EAAlB,SAAiB,GAIpC,gEAAwC,gBAAvD,aAA0H,EAA3G,SAAwC,GAaL,sBAAc,EAAlE,aAAmE,EAAf,UAAc,GAC/C,2BAAiB,EAAlC,aAAmC,EAAlB,UAAiB,GACR,8BAAkB,EAA1B,mBAAO,EAAvB,aAAmJ,EAA3H,UAAkB,EAA1B,UAAO,GAAgC,uCAAkC,EAA9C,uBAAW,EAAtD,aAAmJ,EAA5F,UAAkC,EAA9C,UAAW,GAC3C,+BAAyB,WAApC,aAAqC,EAA1B,UAAyB,GAEkB,wDAAgD,YAA9E,0BAAe,EAAzC,aAAyG,EAAjD,UAAgD,EAA9E,UAAe,mDApBlB,0DAAiB,GAa5C,uMAAa,GAEX,ibAAmE,GACjE,82CAAmC,IACjC,o8BAAmJ,IAGrJ,8EAAyG;;;;;;;;;;;;;;;;;;;;ACtB/G,uEAA0G;AAC1G,oEAAoC;AAEpC,sHAAsD;AACtD,uHAA2D;AAE3D,8EAAiD;AAEjD,oHAA4D;AAI5D;IAmBE,4DAA4D;IAC5D,0FAA0F;IAE1F,wBAAoB,KAAoC,EAAU,aAA4B,EAAU,QAAmB;QAAvG,UAAK,GAAL,KAAK,CAA+B;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,aAAQ,GAAR,QAAQ,CAAW;QAhB3H,kBAAa,GAAC,+CAA+C,CAAC;QAC9D,oBAAe,GAAG,KAAK,CAAC;IAesG,CAAC;IAE/H,iCAAQ,GAAR;QAAA,iBAkCC;QAjCC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAC,MAAM,CAAC,CAAC,IAAI,CACnC,gBAAI,CAAC,CAAC,CAAC,CACR,CAAC,SAAS,CAAC,UAAC,IAAI,IAAG,YAAI,CAAC,QAAQ,GAAC,IAAI,EAAlB,CAAkB,CAAC,CAAC;QAExC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAC,aAAa,CAAC,CAAC;QAE5D,IAAI,CAAC,iBAAiB,GAAE,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,OAAO,EAAC,gBAAgB,CAAC,CAAC,SAAS,CAC3E,UAAC,cAAc;YACb,EAAE,EAAC,CAAC,cAAc,CAAC;gBAAC,MAAM,CAAC;YAC3B,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,EAAE,EAAC,cAAc,CAAC,MAAM,CAAC,EAAC;gBACxB,KAAI,CAAC,aAAa,GAAG,2BAAyB,cAAc,CAAC,IAAI,MAAG,CAAC;gBACrE,KAAI,CAAC,eAAe,GAAG,IAAI,CAAC;YAC9B,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,aAAa,GAAM,cAAc,CAAC,IAAI,2BAAwB;gBACnE,KAAI,CAAC,eAAe,GAAG,KAAK,CAAC;YAC/B,CAAC;YACD,KAAI,CAAC,cAAc,EAAE,CAAC;QACxB,CAAC,CACF,CAAC;QAEF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,wBAAwB,EAAE,CAAC,SAAS,CACtE,UAAC,QAAQ;YACP,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAC,QAAQ,CAAC,CAAC;YACvC,6FAA6F;YAC7F,EAAE,EAAC,KAAI,CAAC,cAAc,IAAE,KAAI,CAAC,cAAc,CAAC,KAAK,KAAG,QAAQ,CAAC,KAAK,IAAE,KAAI,CAAC,cAAc,CAAC,IAAI,KAAG,QAAQ,CAAC,IAAI,CAAC,EAAC;gBAC5G,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,eAAe,CAAC,QAAQ,CAAC,CAAC,CAAC;gBAChE,KAAI,CAAC,cAAc,EAAE,CAAC;YACxB,CAAC;YAAA,IAAI;gBACH,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,sBAAsB,CAAC,EAAC,KAAK,EAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAC,QAAQ,CAAC,IAAI,EAAE,MAAM,EAAE,KAAK,EAAC,CAAC,CAAC,CAAC;YAC5H,mDAAmD;QACrD,CAAC,CACF;IACH,CAAC;IAED,qBAAqB;IACrB,0CAA0C;IAC1C,iBAAiB;IACjB,0EAA0E;IAC1E,2CAA2C;IAC3C,QAAQ;IACR,MAAM;IACN,IAAI;IAEI,uCAAc,GAAtB;QAAA,iBASC;QARC,0DAA0D;QAC1D,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAA,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;QAC/C,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC;YAC1B,IAAM,MAAM,GAAoB,KAAI,CAAC,QAAQ,CAAC,aAAa,wBAAsB;YACjF,OAAO,CAAC,GAAG,CAAC,mBAAmB,EAAE,MAAM,CAAC,YAAY,EAAE,KAAK,EAAE,MAAM,CAAC,WAAW,CAAE,CAAC;YAClF,yCAAyC;YACzC,KAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,MAAM,EAAC,WAAW,EAAC,MAAM,CAAC,YAAY,CAAC,CAAC;QACpE,CAAC,EAAC,GAAG,CAAC,CAAC;IACT,CAAC;IAED,0CAAiB,GAAjB,UAAkB,MAAc;QAC/B,IAAI,IAAI,GAAW,MAAM,CAAC,KAAK,CAAC,WAAW,CAAC;QAE5C,IAAM,WAAW,GAAG,EAAC,OAAO,EAAC,IAAI,EAAC,OAAO,EAAC,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,EAAC,SAAS,EAAC,IAAI,EAAC,CAAC;QAC/E,kCAAkC;QAClC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,eAAe,CAAC,WAAW,CAAC,CAAC,CAAC;QAEnE,EAAE,EAAC,IAAI,CAAC,cAAc,CAAC,MAAM,CAAC;YAC7B,IAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,EAAC,KAAK,EAAC,IAAI,CAAC,cAAc,CAAC,KAAK,EAAC,IAAI,EAAC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAC,EAAC,WAAW,CAAC,CAAC;QAEnH,MAAM,CAAC,KAAK,EAAE,CAAC;QACf,IAAI,CAAC,cAAc,EAAE,CAAC;IACvB,CAAC;IAED,oCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,iBAAiB,CAAC;YAAC,IAAI,CAAC,iBAAiB,CAAC,WAAW,EAAE,CAAC;QAChE,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAC,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;QAChD,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAA,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACjD,CAAC;IAEH,qBAAC;AAAD,CAAC;AA/FY,wCAAc;;;;;;;;;;;;;;;ACdd,qBAAa,GAAG,eAAe,CAAC;AAAA,CAAC;AACjC,qCAA6B,GAAG,+BAA+B,CAAC;AAChE,wBAAgB,GAAG,kBAAkB,CAAC;AACtC,yBAAiB,GAAG,mBAAmB,CAAC;AACxC,sBAAc,GAAG,gBAAgB,CAAC;AAClC,mBAAW,GAAG,aAAa,CAAC;AAEzC;IAGE,sBAAmB,OAAoD;QAApD,YAAO,GAAP,OAAO,CAA6C;QAF9D,SAAI,GAAG,qBAAa;IAE4C,CAAC;IAC5E,mBAAC;AAAD,CAAC;AAJY,oCAAY;AAMzB;IAGE,oCAAmB,OAAoD;QAApD,YAAO,GAAP,OAAO,CAA6C;QAF9D,SAAI,GAAG,qCAA6B,CAAC;IAE2B,CAAC;IAC5E,iCAAC;AAAD,CAAC;AAJY,gEAA0B;AAMvC;IAGE,wBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,wBAAgB;IAEI,CAAC;IACvC,qBAAC;AAAD,CAAC;AAJY,wCAAc;AAM3B;IAGE,yBAAmB,OAAa;QAAb,YAAO,GAAP,OAAO,CAAM;QAFvB,SAAI,GAAG,mBAAmB;IAED,CAAC;IACrC,sBAAC;AAAD,CAAC;AAJY,0CAAe;AAM5B;IAGE,sBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,sBAAc;IAEM,CAAC;IACvC,mBAAC;AAAD,CAAC;AAJY,oCAAY;AAMzB;IAAA;QACW,SAAI,GAAG,mBAAW,CAAC;IAE9B,CAAC;IAAD,iBAAC;AAAD,CAAC;AAHY,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;ACvCvB,0EAA8C;AAC9C,qFAAqE;AAErE,yHAAmE;AACnE,gHAAgD;AAChD,8EAA4D;AAC5D,qDAA0B;AAE1B,IAAM,WAAW,GAAG,yBAAW,CAAC,MAAM,CAAC;AAEvC;IAyBE,sBAAoB,QAAiB,EAAU,UAAsB;QAArE,iBAAwE;QAApD,aAAQ,GAAR,QAAQ,CAAS;QAAU,eAAU,GAAV,UAAU,CAAY;QAtBrE,iBAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,CAAC,IAAI,CAClE,eAAG,CAAC,UAAC,MAAiC,IAAG,aAAM,CAAC,OAAO,EAAd,CAAc,CAAC,EACxD,qBAAS,CAAC,UAAC,MAAmD;YAC5D,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,GAAC,wBAAwB,GAAC,MAAM,CAAC,KAAK,GAAC,GAAG,GAAC,MAAM,CAAC,IAAI,EACtF;gBACI,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACtB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,GAAG,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACR,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,YAAY,CAAC,cAAc,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YACxE,CAAC;YACD,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,YAAY,CAAC,gBAAgB,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,EAAC,CAAC,CAAC;QACzE,CAAC,CAAC,CACH;IAEsE,CAAC;IAtBxE;QADC,gBAAM,EAAE;;sDAqBR;IAGH,mBAAC;CAAA;AAzBY,oCAAY;;;;;;;;;;;;;;;;;;;;;;;ACZzB,gHAAgD;AAchD,IAAM,YAAY,GAAS;IACzB,cAAc,EAAE,IAAI;IACpB,WAAW,EAAE,IAAI,KAAK,EAAQ;IAC9B,cAAc,EAAE,IAAI;CACrB;AAED,sBAA6B,KAAkB,EAAE,MAAiC;IAArD,4CAAkB;IAC7C,MAAM,EAAC,MAAM,CAAC,IAAI,CAAC,EAAC;QAClB,KAAI,CAAC,YAAY,CAAC,aAAa,CAAC;YAC9B,MAAM,cACD,KAAK,IACR,cAAc,EAAE,MAAM,CAAC,OAAO,IAC/B;QACH,KAAI,CAAC,YAAY,CAAC,6BAA6B,CAAC,CAAC,mDAAmD;YAClG,EAAE,EAAC,CAAC,KAAK,CAAC,cAAc,IAAE,KAAK,CAAC,cAAc,CAAC,KAAK,KAAG,MAAM,CAAC,OAAO,CAAC,KAAK,IAAE,KAAK,CAAC,cAAc,CAAC,IAAI,KAAG,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC;gBAC3H,MAAM,CAAC,KAAK,CAAC;YACf,IAAI,EAAC;gBACH,MAAM,cACD,KAAK,IACR,cAAc,EAAE,MAAM,CAAC,OAAO,IAC/B;YACH,CAAC;QACH,KAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC;YACjC,MAAM,cACD,KAAK,IACR,WAAW,EAAE,MAAM,CAAC,OAAO,EAC3B,cAAc,EAAE,IAAI,IACrB;QACH,KAAI,CAAC,YAAY,CAAC,iBAAiB,CAAC;YAClC,IAAM,WAAW,GAAO,KAAK,CAAC,WAAW,SAAE,MAAM,CAAC,OAAO,EAAC,CAAC;YAC3D,MAAM,cACD,KAAK,IACR,WAAW,EAAE,WAAW,IACzB;QACH,KAAI,CAAC,YAAY,CAAC,cAAc,CAAC;YAC/B,MAAM,cACD,KAAK,IACR,cAAc,EAAE,MAAM,CAAC,OAAO,IAC/B;QACH,KAAI,CAAC,YAAY,CAAC,WAAW,CAAC;YAC5B,MAAM,cACD,KAAK,EACL,YAAY,EAChB;QACH;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AAzCD,oCAyCC;;;;;;;;;;;;;;;AC7DD,6EAAuD;AAEvD,mHAAuD;AAEvD,IAAM,aAAa,GAAW;IAC5B,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,oCAAgB,EAAC;CACxC;AAED;IAAA;IAOkC,CAAC;IAAD,2BAAC;AAAD,CAAC;AAAtB,oDAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2DCb7B,4FAA2C,gQAA2B;2DACtE,2JAG0C,YAA1C;;wBAAyC;MAHzC,0MAG0C,GAD1C,0BAA8C,KAF9C,4HAG0C,GAF1C,kCAAuE,KADvE,qDAG0C,IACxC,2NAAiB,IACf,uNAA+D,IAC/D,+KAAgB,qCAAe,MAC/B,wLAAmB,qCAA4B,MAC/C,wLAAmB,+EAAG,sCAA8B,2BANxD,oEAA8C,IAF9C,YAG0C,EAD1C,SAA8C,GAD9C,uFAAuE,IADvE,YAG0C,EAF1C,SAAuE,mDAI9C,0EAAmB,GAAC,4EAAqB,GAA9D,YAA+D,EAA1C,SAAmB,EAAC,SAAqB,GAC9C,mEAAe,GACZ,oFAA4B,GACzB,sFAA8B;2DAX5D,gnBAA6D,IAC3D,koBAAmF,IACjF,gLAA2C,IAC3C,+MAG0C,GAHhC,mDAA6C,KAazD,oRAAuB,IACrB,2OAAW,iDAjBV,qBAAc,EAAnB,YAA6D,EAAxD,SAAc,GAAC,qBAAiB,EAArC,YAA6D,EAAzC,SAAiB,GAAC,wBAAsB,EAA5D,YAA6D,EAAvB,SAAsB,GACnB,wBAAiB,EAAxD,YAAmF,EAA5C,SAAiB,GAAC,2BAAyB,EAAlF,YAAmF,EAA1B,SAAyB,GAA7E,sBAAa,EAAlB,YAAmF,EAA9E,SAAa,GACC,mBAAyB,oBAA1C,YAA2C,EAA1B,SAAyB,GAChC,gEAA6C,qBAAvD,aAG0C,EAHhC,SAA6C,GAapD,0BAAiB,EAAtB,aAAuB,EAAlB,SAAiB,GACpB,aAAW;;;;;;;;;;;;;;;;;;;;ACjBf,uEAA6G;AAC7G,oEAAoC;AAIpC,sHAA0D;AAC1D,4HAA4D;AAG5D,iHAAyD;AAEzD;IAaE,0BAAoB,KAAsC,EAAU,aAA4B,EAAU,QAAmB;QAAzG,UAAK,GAAL,KAAK,CAAiC;QAAU,kBAAa,GAAb,aAAa,CAAe;QAAU,aAAQ,GAAR,QAAQ,CAAW;IAAI,CAAC;IAElI,mCAAQ,GAAR;QAAA,iBAeC;QAdC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,cAAc,EAAE,CAAC,CAAC;QACzD,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAC,aAAa,CAAC,CAAC;QACnE,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAC,sBAAsB,CAAC,CAAC;QAE7E,yDAAyD;QACzD,0EAA0E;QAC1E,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,2BAA2B,EAAE,CAAC,SAAS,CACvE,UAAC,MAAY;YACX,OAAO,CAAC,GAAG,CAAC,uBAAuB,EAAC,MAAM,CAAC,CAAC;YAC5C,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,wBAAwB,CAAC,MAAM,CAAC,CAAC,CAAC;YACzE,wDAAwD;YACxD,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,0BAA0B,CAAC,EAAC,KAAK,EAAC,MAAM,CAAC,KAAK,EAAC,IAAI,EAAC,MAAM,CAAC,IAAI,EAAC,MAAM,EAAC,MAAM,CAAC,MAAM,EAAC,CAAC,CAAC,CAAC;QAC/H,CAAC,CACF;IACH,CAAC;IAED,uCAAY,GAAZ,UAAa,IAAI;QACf,IAAM,GAAG,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;QAC9E,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,sCAAW,GAAX,UAAY,MAAM;QAChB,EAAE,EAAC,MAAM,CAAC;YAAA,MAAM,CAAC,QAAQ,CAAC;QAC1B,IAAI;YAAC,MAAM,CAAC,SAAS,CAAC;IACxB,CAAC;IAED,2CAAgB,GAAhB,UAAiB,MAAY,EAAC,KAAK;QACjC,mDAAmD;QACnD,IAAM,OAAO,GAAG,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;QACvD,EAAE,EAAC,OAAO,CAAC,EAAC;YACV,EAAE,EAAC,IAAI,CAAC,qBAAqB,CAAC;gBAAC,IAAI,CAAC,QAAQ,CAAC,WAAW,CAAC,IAAI,CAAC,qBAAqB,EAAC,QAAQ,CAAC,CAAC;YAC9F,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,OAAO,EAAC,QAAQ,EAAC,uBAAuB,CAAC,CAAC;YACjE,IAAI,CAAC,qBAAqB,GAAG,OAAO,CAAC;QACvC,CAAC;QAED,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,YAAY,CAAC,YAAY,CAAC,EAAC,KAAK,EAAC,MAAM,CAAC,KAAK,EAAC,IAAI,EAAC,MAAM,CAAC,IAAI,EAAC,MAAM,EAAC,MAAM,CAAC,MAAM,EAAC,CAAC,CAAC,CAAC;QAC/G,iDAAiD;QACjD,EAAE,EAAC,MAAM,CAAC,MAAM,KAAG,KAAK,CAAC;YAAC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,sBAAsB,CAAC,EAAC,KAAK,EAAC,MAAM,CAAC,KAAK,EAAC,IAAI,EAAC,MAAM,CAAC,IAAI,EAAC,MAAM,EAAC,MAAM,EAAC,CAAC,CAAC,CAAC;IAChJ,CAAC;IAEO,8CAAmB,GAA3B,UAA4B,GAAG;QAC7B,IAAI,WAAW,CAAC;QAChB,IAAI,OAAO,GAAG,CAAC,CAAC,mEAAkE;QAClF,EAAE,EAAC,CAAC,GAAG,CAAC;YAAC,MAAM,CAAC;QAChB,OAAM,GAAG,CAAC,OAAO,KAAG,UAAU,IAAE,OAAO,IAAE,CAAC,EAAC,CAAC;YAC1C,GAAG,GAAG,IAAI,CAAC,QAAQ,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC;YACpC,OAAO,EAAE,CAAC;QACZ,CAAC;QACD,EAAE,CAAC,CAAC,GAAG,CAAC,OAAO,KAAG,UAAU,CAAC;YAAC,MAAM,CAAC,GAAG,CAAC;QACzC,IAAI;YAAC,MAAM,CAAC;IACd,CAAC;IAED,sCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,OAAO,CAAC;YAAA,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE,CAAC;IAC7C,CAAC;IAEH,uBAAC;AAAD,CAAC;AAnEY,4CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACH7B;IAAA;IAgB2B,CAAC;IAAD,oBAAC;AAAD,CAAC;AAAf,sCAAa;;;;;;;;;;;;;;;AC1Bb,wBAAgB,GAAG,kBAAkB,CAAC;AACtC,0BAAkB,GAAG,oBAAoB,CAAC;AAC1C,wBAAgB,GAAG,kBAAkB,CAAC;AACtC,mCAA2B,GAAG,6BAA6B,CAAC;AAC5D,iCAAyB,GAAG,2BAA2B,CAAC;AACxD,mBAAW,GAAG,aAAa,CAAC;AAEzC;IAAA;QACW,SAAI,GAAG,wBAAgB,CAAC;IACnC,CAAC;IAAD,qBAAC;AAAD,CAAC;AAFY,wCAAc;AAI3B;IAGE,0BAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,0BAAkB,CAAC;IAEC,CAAC;IACvC,uBAAC;AAAD,CAAC;AAJY,4CAAgB;AAM7B;IAGE,wBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,wBAAgB,CAAC;IAEG,CAAC;IACvC,qBAAC;AAAD,CAAC;AAJY,wCAAc;AAM3B;IAGE,kCAAmB,OAAa;QAAb,YAAO,GAAP,OAAO,CAAM;QAFvB,SAAI,GAAG,mCAA2B,CAAC;IAEV,CAAC;IACrC,+BAAC;AAAD,CAAC;AAJY,4DAAwB;AAMrC;IAGE,gCAAmB,OAAiD;QAAjD,YAAO,GAAP,OAAO,CAA0C;QAF3D,SAAI,GAAG,iCAAyB,CAAC;IAE4B,CAAC;IACzE,6BAAC;AAAD,CAAC;AAJY,wDAAsB;AAMnC;IAAA;QACW,SAAI,GAAG,mBAAW,CAAC;IAE9B,CAAC;IAAD,iBAAC;AAAD,CAAC;AAHY,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;ACrCvB,0EAA8C;AAC9C,qFAAqE;AAErE,sHAAgE;AAChE,gHAAoD;AACpD,8EAAuD;AACvD,qDAA0B;AAE1B,IAAM,WAAW,GAAG,yBAAW,CAAC,MAAM,CAAC;AAEvC;IAyBE,wBAAoB,QAAiB,EAAU,UAAsB;QAArE,iBAAwE;QAApD,aAAQ,GAAR,QAAQ,CAAS;QAAU,eAAU,GAAV,UAAU,CAAY;QAtBrE,qBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC,IAAI,CAC3E,qBAAS,CAAC;YACR,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,GAAC,wBAAwB,EACvD;gBACI,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACtB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,wBAAwB,EAAC,GAAG,CAAC,CAAC;gBAC1C,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,gBAAgB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YAC5E,CAAC;YACD,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,kBAAkB,EAAE,OAAO,EAAE,IAAI,CAAC,SAAS,CAAC,EAAC,CAAC,CAAC;QAChF,CAAC,CAAC,CACH,CAAC;IAGqE,CAAC;IAtBxE;QADC,gBAAM,EAAE;;4DAoBP;IAIJ,qBAAC;CAAA;AAzBY,wCAAc;;;;;;;;;;;;;;;;;;;;;;;ACZ3B,gHAAoD;AAapD,IAAM,YAAY,GAAS;IACzB,WAAW,EAAE,IAAI,KAAK,EAAQ;IAC9B,oBAAoB,EAAE,IAAI;CAC3B;AAED,wBAA+B,KAAkB,EAAE,MAAqC;IAAzD,4CAAkB;IAC/C,MAAM,EAAC,MAAM,CAAC,IAAI,CAAC,EAAC;QAClB,KAAI,CAAC,cAAc,CAAC,kBAAkB,CAAC;YACrC,MAAM,cACD,KAAK,IACR,WAAW,EAAM,MAAM,CAAC,OAAO,UAC/B,oBAAoB,EAAE,IAAI,IAC3B;QACH,KAAI,CAAC,cAAc,CAAC,gBAAgB,CAAC;YACnC,MAAM,cACD,KAAK,IACR,oBAAoB,EAAE,MAAM,CAAC,OAAO,IACrC;QACH,KAAI,CAAC,cAAc,CAAC,2BAA2B,CAAC;YAC9C,IAAM,OAAO,GAAO,KAAK,CAAC,WAAW,QAAC,CAAC;YACvC,IAAM,YAAY,GAAG,OAAO,CAAC,SAAS,CAAC,UAAC,MAAM,IAAG,aAAM,CAAC,KAAK,KAAG,MAAM,CAAC,OAAO,CAAC,KAAK,IAAE,MAAM,CAAC,IAAI,KAAG,MAAM,CAAC,OAAO,CAAC,IAAI,EAAtE,CAAsE,CAAC,CAAC;YACzH,EAAE,EAAC,YAAY,GAAC,CAAC,CAAC,CAAC;gBAAA,OAAO,CAAC,YAAY,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YACxE,MAAM,cACD,KAAK,IACR,WAAW,EAAM,OAAO,YACzB;QACH,KAAI,CAAC,cAAc,CAAC,yBAAyB,CAAC;YAC5C,IAAM,UAAU,GAAO,KAAK,CAAC,WAAW,QAAC,CAAC;YAC1C,IAAM,MAAM,GAAG,UAAU,CAAC,SAAS,CAAC,UAAC,MAAM,IAAG,aAAM,CAAC,KAAK,KAAG,MAAM,CAAC,OAAO,CAAC,KAAK,IAAE,MAAM,CAAC,IAAI,KAAG,MAAM,CAAC,OAAO,CAAC,IAAI,EAAtE,CAAsE,CAAC,CAAC;YACtH,EAAE,EAAC,MAAM,GAAC,CAAC,CAAC,CAAC;gBAAA,UAAU,CAAC,MAAM,CAAC,CAAC,MAAM,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC;YAC/D,MAAM,cACD,KAAK,IACR,WAAW,EAAM,UAAU,YAC5B;QACH,KAAI,CAAC,cAAc,CAAC,WAAW,CAAC;YAC9B,MAAM,cACD,KAAK,EACL,YAAY,EAChB;QACH;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AArCD,wCAqCC;;;;;;;;;;;;;;;ACvDD,6EAAuD;AAEvD,mHAAuD;AAEvD,IAAM,aAAa,GAAW;IAC5B,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,oCAAgB,EAAC;CACxC;AAED;IAAA;IAOkC,CAAC;IAAD,2BAAC;AAAD,CAAC;AAAtB,oDAAoB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;2DCX3B,kMAAsG,YAA9B;;wBAA6B;MAArG,oLAAsG,oCAAM,2BAAlF,yBAAe,EAAzC,YAAsG,EAA5E,SAAe,2BAAzC,0EAAsG;2DACtG,+LAAmG,YAA9B;;wBAA6B;MAAlG,oLAAmG,oCAAM,2BAA/E,sBAAY,EAAtC,YAAmG,EAAzE,SAAY,2BAAtC,0EAAmG;2DACnG,4SAAmE,uCAAS,2BAAlD,kBAAQ,EAAlC,YAAmE,EAAzC,SAAQ,2BAAlC,0EAAmE;2DACnE,4SAAmE,uCAAS,2BAAlD,kBAAQ,EAAlC,YAAmE,EAAzC,SAAQ,2BAAlC,0EAAmE;2DALrE;;;;;;+OAAuD,MACrD,uEAAG,6CAAuD,MAC1D,6KAAsG,IACtG,6KAAmG,IACnG,8KAAmE,IACnE,8KAAmE,iDAHzB,uCAA6B,qBAAvE,YAAsG,EAA5D,SAA6B,GAChC,uCAA6B,qBAApE,YAAmG,EAA5D,SAA6B,GACjC,yCAA+B,qBAAlE,aAAmE,EAAhC,SAA+B,GAC/B,yCAA+B,qBAAlE,aAAmE,EAAhC,SAA+B,mDALpE,kHAAuD,GAClD,uJAAuD;2DAHhE,8FAAmB,KACjB,6LAAU,IACR,2MAAuD,GAAxC,mKAAuC,kBAAtD,YAAuD,EAAxC,SAAuC;;;;;;;;;;;;;;;;;;;;ACF1D,uEAA6D;AAC7D,oEAAoC;AAEpC,sHAA0D;AAK1D;IAUE,0BAAoB,KAAsC;QAAtC,UAAK,GAAL,KAAK,CAAiC;IAAI,CAAC;IAE/D,mCAAQ,GAAR;QAAA,iBAOC;QANC,OAAO,CAAC,GAAG,CAAC,wBAAwB,CAAC,CAAC;QAEtC,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,EAAC,UAAU,CAAC,CAAC;QAC7D,IAAI,CAAC,SAAS,GAAG,UAAU,CAAC;YAC1B,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,eAAe,EAAE,CAAC;QAC3D,CAAC,EAAC,IAAI,CAAC,CAAC;IACV,CAAC;IAED,8CAAmB,GAAnB,UAAoB,IAAI;QACtB,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC;IAED,2CAAgB,GAAhB,UAAiB,GAAW;QAC1B,MAAM,CAAC,GAAG,CAAC,IAAI,KAAG,KAAK,IAAE,GAAG,CAAC,KAAK,KAAG,UAAU,CAAC;IAClD,CAAC;IAED,6CAAkB,GAAlB,UAAmB,GAAW;QAC5B,MAAM,CAAC,GAAG,CAAC,IAAI,KAAG,KAAK,IAAE,GAAG,CAAC,KAAK,KAAG,QAAQ,CAAC;IAChD,CAAC;IAED,6CAAkB,GAAlB,UAAmB,GAAW;QAC5B,MAAM,CAAC,GAAG,CAAC,IAAI,KAAG,KAAK,IAAE,GAAG,CAAC,KAAK,KAAG,QAAQ,CAAC;IAChD,CAAC;IAED,yCAAc,GAAd,UAAe,GAAW;QACxB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,YAAY,CAAC,EAAC,KAAK,EAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,EAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC;IAClG,CAAC;IAED,yCAAc,GAAd,UAAe,GAAW;QACxB,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,cAAc,CAAC,YAAY,CAAC,EAAC,KAAK,EAAC,GAAG,CAAC,IAAI,CAAC,KAAK,EAAC,IAAI,EAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC;IAClG,CAAC;IAED,sCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAA,YAAY,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IACjD,CAAC;IAEH,uBAAC;AAAD,CAAC;AA5CY,4CAAgB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACR7B;IAAA;IAW4B,CAAC;IAAD,oBAAC;AAAD,CAAC;AAAhB,sCAAa;;;;;;;;;;;;;;;ACbb,0BAAkB,GAAG,oBAAoB,CAAC;AAC1C,yBAAiB,GAAG,mBAAmB,CAAC;AACxC,0BAAkB,GAAG,oBAAoB,CAAC;AAC1C,yBAAiB,GAAG,mBAAmB,CAAC;AACxC,yBAAiB,GAAG,mBAAmB,CAAC;AACxC,qBAAa,GAAG,eAAe,CAAC;AAChC,qBAAa,GAAG,eAAe,CAAC;AAChC,mBAAW,GAAG,aAAa,CAAC;AAEzC;IAAA;QACW,SAAI,GAAG,0BAAkB,CAAC;IACrC,CAAC;IAAD,uBAAC;AAAD,CAAC;AAFY,4CAAgB;AAI7B;IAAA;QACW,SAAI,GAAG,yBAAiB,CAAC;IACpC,CAAC;IAAD,sBAAC;AAAD,CAAC;AAFY,0CAAe;AAI5B;IAGE,0BAAmB,OAAkB;QAAlB,YAAO,GAAP,OAAO,CAAW;QAF5B,SAAI,GAAG,0BAAkB,CAAC;IAEI,CAAC;IAC1C,uBAAC;AAAD,CAAC;AAJY,4CAAgB;AAM7B;IAGE,yBAAmB,OAAkB;QAAlB,YAAO,GAAP,OAAO,CAAW;QAF5B,SAAI,GAAG,yBAAiB,CAAC;IAEK,CAAC;IAC1C,sBAAC;AAAD,CAAC;AAJY,0CAAe;AAM5B;IAGE,yBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,yBAAiB,CAAC;IAEE,CAAC;IACvC,sBAAC;AAAD,CAAC;AAJY,0CAAe;AAM5B;IAGE,sBAAmB,OAAoC;QAApC,YAAO,GAAP,OAAO,CAA6B;QAF9C,SAAI,GAAG,qBAAa,CAAC;IAE2B,CAAC;IAC5D,mBAAC;AAAD,CAAC;AAJY,oCAAY;AAMzB;IAGE,sBAAmB,OAAoC;QAApC,YAAO,GAAP,OAAO,CAA6B;QAF9C,SAAI,GAAG,qBAAa,CAAC;IAE2B,CAAC;IAC5D,mBAAC;AAAD,CAAC;AAJY,oCAAY;AAMzB;IAAA;QACW,SAAI,GAAG,mBAAW,CAAC;IAE9B,CAAC;IAAD,iBAAC;AAAD,CAAC;AAHY,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;ACjDvB,0EAA6C;AAC7C,qFAAqE;AAErE,sHAAgE;AAChE,gHAAoD;AAGpD,8EAA6F;AAC7F,qDAAmC;AACnC,oHAA4D;AAE5D,IAAM,WAAW,GAAG,yBAAW,CAAC,MAAM,CAAC;AAEvC;IA4HE,wBAAoB,QAAiB,EAAU,UAAsB,EAAU,aAA4B;QAA3G,iBAA8G;QAA1F,aAAQ,GAAR,QAAQ,CAAS;QAAU,eAAU,GAAV,UAAU,CAAY;QAAU,kBAAa,GAAb,aAAa,CAAe;QAxH3G,qBAAgB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,kBAAkB,CAAC,CAAC,IAAI,CAC7E,qBAAS,CAAC;YACR,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,GAAC,yBAAyB,EACxD;gBACI,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACtB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAC,GAAG,CAAC,CAAC;gBAC3C,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YAC7E,CAAC;YAED,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,kBAAkB,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC;QACjF,CAAC,CAAC,CACH,CAAC;QAGF,oBAAe,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,iBAAiB,CAAC,CAAC,IAAI,CAC3E,qBAAS,CAAC;YACR,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,GAAC,0BAA0B,EACzD;gBACI,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACtB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,yBAAyB,EAAC,GAAG,CAAC,CAAC;gBAC3C,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YAC7E,CAAC;YAED,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,kBAAkB,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC;QACjF,CAAC,CAAC,CACH,CAAC;QAGF,iBAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,IAAI,CACpE,eAAG,CAAC,UAAC,MAAmC,IAAG,aAAM,CAAC,OAAO,EAAd,CAAc,CAAC;QAC1D,wDAAwD;QACxD,iGAAiG;QACjG,cAAc;QACd,2DAA2D;QAC3D,8BAA8B;QAC9B,kCAAkC;QAClC,qBAAqB;QACrB,+BAA+B;QAC/B,uDAAuD;QACvD,8BAA8B;QAC9B,eAAe;QACf,YAAY;QACZ,MAAM;QACN,qBAAS,CAAC,UAAC,UAAsC;YAC/C,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,GAAC,uBAAuB,EAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EACnF;gBACE,OAAO,EAAC,EAAC,cAAc,EAAC,kBAAkB,EAAC;gBAC3C,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACpB,CAAC,CAAC,IAAI,CACL,eAAG,CAAC,cAAI;gBACJ,MAAM,CAAC,EAAC,IAAI,QAAE,UAAU,cAAC,CAAC;YAC5B,CAAC,CACF,EACD,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,GAAG,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACL;QACT,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YAC7E,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACnD,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,kBAAkB,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC;YACjF,CAAC;QACH,CAAC,CAAC,CACH,CAAC;QAGF,iBAAY,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC,IAAI,CACpE,eAAG,CAAC,UAAC,MAAmC,IAAG,aAAM,CAAC,OAAO,EAAd,CAAc,CAAC,EAC1D,qBAAS,CAAC,UAAC,UAAsC;YAC/C,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,KAAK,CAAC,WAAW,GAAC,uBAAuB,EAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EACnF;gBACE,OAAO,EAAC,EAAC,cAAc,EAAC,kBAAkB,EAAC;gBAC3C,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACpB,CAAC,CAAC,IAAI,CACL,eAAG,CAAC,cAAI;gBACJ,MAAM,CAAC,EAAC,IAAI,QAAE,UAAU,cAAC,CAAC;YAC5B,CAAC,CACF,EACD,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,GAAG,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACL,CAAC;QACV,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,IAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC;YACvB,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YAC7E,CAAC;YAAA,IAAI,EAAC;gBACJ,KAAI,CAAC,aAAa,CAAC,cAAc,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;gBACnD,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,cAAc,CAAC,kBAAkB,EAAE,OAAO,EAAE,IAAI,CAAC,UAAU,CAAC,EAAC,CAAC,CAAC;YACjF,CAAC;QACH,CAAC,CAAC,CACH,CAAC;IAE2G,CAAC;IAxH9G;QADC,gBAAM,EAAE;;4DAqBP;IAGF;QADC,gBAAM,EAAE;;2DAqBP;IAGF;QADC,gBAAM,EAAE;;wDA0CP;IAGF;QADC,gBAAM,EAAE;;wDA6BP;IAIJ,qBAAC;CAAA;AA7HY,wCAAc;;;;;;;;;;;;;;;;;;;;;;;ACf3B,gHAAoD;AAapD,IAAM,YAAY,GAAU;IAC1B,QAAQ,EAAE,IAAI,KAAK,EAAW;IAC9B,kBAAkB,EAAE,IAAI;CACzB;AAED,wBAA+B,KAAkB,EAAE,MAAqC;IAAzD,4CAAkB;IAC/C,MAAM,EAAC,MAAM,CAAC,IAAI,CAAC,EAAC;QAClB,KAAK,cAAc,CAAC,kBAAkB;YACpC,MAAM,cACD,KAAK,IACR,QAAQ,EAAM,MAAM,CAAC,OAAO,UAC5B,kBAAkB,EAAE,IAAI,IACzB;QACH,KAAK,cAAc,CAAC,iBAAiB;YACnC,IAAM,WAAW,GAAO,KAAK,CAAC,QAAQ,SAAE,MAAM,CAAK,MAAM,CAAC,OAAO,SAAE,CAAC;YACpE,MAAM,cACD,KAAK,IACR,QAAQ,EAAM,WAAW,YAC1B;QACH,KAAK,cAAc,CAAC,iBAAiB;YACnC,MAAM,cACD,KAAK,IACR,kBAAkB,EAAE,MAAM,CAAC,OAAO,IACnC;QACH,KAAK,cAAc,CAAC,WAAW;YAC7B,MAAM,cACD,KAAK,EACL,YAAY,EAChB;QACH;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AA3BD,wCA2BC;;;;;;;;;;;;;;;AC7CD;IAEE,cAAmB,MAAa,EAAS,IAAW,EAC3C,GAAQ,EAAS,KAAY,EAC7B,OAAc,EAAS,OAAc,EAAS,QAAiB,EAC/D,OAAgB,EAAS,gBAAyB,EAAS,MAAgB,EAAS,MAAe;QAHzF,WAAM,GAAN,MAAM,CAAO;QAAS,SAAI,GAAJ,IAAI,CAAO;QAC3C,QAAG,GAAH,GAAG,CAAK;QAAS,UAAK,GAAL,KAAK,CAAO;QAC7B,YAAO,GAAP,OAAO,CAAO;QAAS,YAAO,GAAP,OAAO,CAAO;QAAS,aAAQ,GAAR,QAAQ,CAAS;QAC/D,YAAO,GAAP,OAAO,CAAS;QAAS,qBAAgB,GAAhB,gBAAgB,CAAS;QAAS,WAAM,GAAN,MAAM,CAAU;QAAS,WAAM,GAAN,MAAM,CAAS;IAAE,CAAC;IAEjH,WAAC;AAAD,CAAC;AAPY,oBAAI;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gECCf,4FAAsE,iDAAe;gEAY7E;;;;;;;;;;;;gVAAiF,sCAAe,2BAA9C,wBAAc,EAAC,sBAAe,EAAhF,YAAiF,EAA/B,SAAc,EAAC,SAAe,2BAAhF,yfAAiF,uEAAe;gEAFpG;;;;;;iPAAiD,8EAAI,6CAAW,MAC9D;;;;;;;;;sXAAe,MACb,kNAAiF,iDADnF,YAAe,GACH,oBAAuC,mBAAjD,aAAiF,EAAvE,UAAuC,2BAFrD,kHAAiD,GAC/C,irBAAe;gEARnB,0JAAkF,KAClF,8LAAU,IACR;;;;;;+OAAe,8EAAI,wCAAM,MAAK,8BAAkB,MAChD;;;;;;gPAAe,+EAAI,yCAAO,MAAK,+BAAmB,MAClD;;;;;;gPAAe,+EAAI,uCAAK,MAAK,+BAAsC,MACnE;;;;;;gPAAe,+EAAI,2CAAS,MAAK,+BAAqB,MACtD;;;;;;iPAAe,+EAAI,2CAAS,MAAK,+BAAqB,MACtD,oLAAiD,IAMnD,4EAAI,KACJ,4EAAI,KACJ,mMAAyG,YAA9B;;wBAA6B;MAAxG,oNAAyG,kCAAoB,mDAR5G,iDAAiC,GAAhD,aAAiD,EAAlC,UAAiC,GAQR,oBAAgC,sBAAhD,0BAAe,EAAzC,aAAyG,EAA/D,UAAgC,EAAhD,UAAe,mDAfpC,oEAAyB,GAA9B,YAAkF,EAA7E,SAAyB,GAE5B,kHAAe,GAAe,0DAAkB,GAChD,qHAAe,GAAgB,4DAAmB,GAClD,qHAAe,GAAc,mFAAsC,GACnE,yHAAe,GAAkB,gEAAqB,GACtD,yHAAe,GAAkB,gEAAqB,GASxD,8EAAyG,mEAAoB;gEAnBjI,ydAA+D,IAC7D,iNAAsE,IAEtE,kFAAwB,kDAHrB,wBAAiB,EAAtB,YAA+D,EAA1D,SAAiB,GAAC,sBAAkB,EAAzC,YAA+D,EAAxC,SAAkB,GACtB,qFAAoD,GAArE,YAAsE,EAArD,oBAAoD;;;;;;;;;;;;;;;;;;;;ACDvE,uEAA6D;AAC7D,6EAAyD;AACzD,oEAAoC;AAEpC,mHAAyD;AACzD,8EAAsC;AAItC;IAaE,+BAAoB,KAAqB,EAAU,KAA8B;QAA7D,UAAK,GAAL,KAAK,CAAgB;QAAU,UAAK,GAAL,KAAK,CAAyB;QAHjF,qBAAgB,GAAG,wBAAwB,CAAC;QAC5C,wBAAmB,GAAG,KAAK,CAAC;IAEyD,CAAC;IAEtF,wCAAQ,GAAR;QAAA,iBAqCC;QApCC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,SAAS,CAC1C,UAAC,MAAc;YACb,IAAI,KAAK,GAAG,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;YAEpC,sCAAsC;YACtC,EAAE,EAAC,KAAK,KAAG,IAAI,IAAE,KAAK,KAAG,SAAS,CAAC;gBAAC,MAAM,CAAC,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;YAEhE,KAAI,CAAC,gBAAgB,GAAG,wBAAwB,CAAC;YACjD,KAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YAEjC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAC,WAAW,CAAC,CAAC,IAAI,CAC1C,gBAAI,CAAC,CAAC,CAAC,CACR,CAAC,SAAS,CACT,UAAC,SAAkB;gBACjB,EAAE,EAAC,SAAS,CAAC,MAAM,GAAC,CAAC,IAAE,SAAS,CAAC,KAAK,CAAC,CAAC,EAAC;oBACvC,KAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,CAAC;oBAEjC,KAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,EAAC,OAAO,CAAC,CAAC,IAAI,CACpC,gBAAI,CAAC,CAAC,CAAC,CACR,CAAC,SAAS,CACT,UAAC,OAAe;wBACd,0BAA0B;wBAC1B,EAAE,EAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,KAAG,OAAO,CAAC;4BAAC,MAAM,CAAC,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;wBACnF,0CAA0C;wBAC1C,IAAM,aAAa,GAAG,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,UAAC,IAAI,IAAG,WAAI,CAAC,KAAK,KAAG,OAAO,EAApB,CAAoB,CAAC;wBAChF,EAAE,EAAC,aAAa,CAAC,MAAM,GAAC,CAAC,CAAC;4BAAA,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;wBACpE,6CAA6C;wBAC7C,IAAM,WAAW,GAAG,KAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,MAAM,CAAC,UAAC,IAAI,IAAG,WAAI,CAAC,KAAK,KAAG,OAAO,EAApB,CAAoB,CAAC;wBACvF,EAAE,EAAC,WAAW,CAAC,MAAM,GAAC,CAAC,CAAC;4BAAC,KAAI,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;oBAC/E,CAAC,CACF,CAAC;gBACJ,CAAC;YACH,CAAC,CACF;QACH,CAAC,CACF,CAAC;IACJ,CAAC;IAED,mDAAmB,GAAnB,UAAoB,IAAI;QACtB,MAAM,CAAC,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,YAAY,EAAE,CAAC;IACzC,CAAC;IAED,iDAAiB,GAAjB;QACE,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,iBAAiB,CAAC,EAAC,KAAK,EAAE,IAAI,CAAC,QAAQ,CAAC,KAAK,EAAE,IAAI,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAC,CAAC,CAAC,CAAC;QAEjH,IAAI,CAAC,oBAAoB,CAAC,wBAAwB,CAAC,CAAC;IACtD,CAAC;IAED,oDAAoB,GAApB,UAAqB,SAAiB;QACpC,IAAI,CAAC,gBAAgB,GAAG,SAAS,CAAC;QAClC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;IAClC,CAAC;IAED,2CAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,SAAS,CAAC;YAAA,IAAI,CAAC,SAAS,CAAC,WAAW,EAAE,CAAC;IACjD,CAAC;IAEH,4BAAC;AAAD,CAAC;AApEY,sDAAqB;;;;;;;;;;;;;;;ACdlC,6EAAuD;AAEvD,+GAAqD;AACrD,gKAAgF;AAEhF,IAAM,YAAY,GAAW;IAC3B,EAAC,IAAI,EAAE,EAAE,EAAE,SAAS,EAAE,kCAAe;QACrC,QAAQ,EAAC;YACP,EAAC,IAAI,EAAE,kBAAkB,EAAE,SAAS,EAAE,+CAAqB,EAAC;SAC7D,EAAC;CACH;AAED;IAAA;IAOiC,CAAC;IAAD,0BAAC;AAAD,CAAC;AAArB,kDAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0DCd5B,4FAA0C,+PAA0B;0DAIlE;;;iLAAuH,GAArG,YAA4C,IAC5D,6LAAU,IACR,yOAAuE,IACvE,mLAAkB,IAChB,2EAAI,4CAAmB,MACvB,2EAAG,2CAA+B,2BALtB,4EAA4C,iBAA9D,YAAuH,EAArG,SAA4C,mDAA9D,8GAAuH,GAElF,4EAAmB,GAAC,0EAAiB,GAAtE,YAAuE,EAAtC,SAAmB,EAAC,SAAiB,GAEhE,mEAAmB,GACpB,oFAA+B;0DAd9C,mnBAAgE,IAC9D;;;;;;+XAA+B,IAC7B,k1CAAgB,MACd;;;;;;;;;;;;;;;;;;;;;+5BAA2E,KAE7E,gLAA0C,IAE5C,qnBAA8D,IAC5D,01BAAwG,IACtG,8MAAuH,GAAxD,mDAAuD,KAUxH,gRAAmB,IACjB,0QAAe,iDApBhB,wBAAiB,EAAtB,YAAgE,EAA3D,SAAiB,GAAC,qBAAiB,EAAxC,YAAgE,EAAzC,SAAiB,GAAC,wBAAsB,EAA/D,YAAgE,EAAvB,SAAsB,GACvD,oBAAwB,aAA9B,YAA+B,EAAzB,UAAwB,GAEwB,yBAAwB,EAA1E,aAA2E,EAAzB,UAAwB,GAA1D,sCAAiC,EAAjD,aAA2E,EAA3D,UAAiC,GAElC,oBAAwB,mBAAzC,aAA0C,EAAzB,UAAwB,GAEtC,sBAAc,EAAnB,aAA8D,EAAzD,UAAc,GAAC,uBAAkB,EAAtC,aAA8D,EAA1C,UAAkB,GAAC,yBAAsB,EAA7D,aAA8D,EAAvB,UAAsB,GACtD,yBAAiB,EAAtB,aAAwG,EAAnG,UAAiB,GAAC,uBAAkB,EAAzC,aAAwG,EAAjF,UAAkB,GAAqC,4BAAyB,EAAvG,aAAwG,EAA1B,UAAyB,GAA7D,uBAAa,EAAvD,aAAwG,EAA9D,UAAa,GACU,iEAAuD,mBAAtH,aAAuH,EAAxD,UAAuD,GAUnH,uBAAa,EAAlB,aAAmB,EAAd,UAAa,GAChB,aAAe,2BAnBnB,iaAA+B,GAC7B,62CAAgB,IACd,o8BAA2E;;;;;;;;;;;;;;;;;;;;ACHjF,uEAA6D;AAC7D,0EAAwD;AACxD,8EAA8C;AAE9C,oEAAoC;AAEpC,kHAAwD;AAGxD;IAcE,yBAAoB,KAA8B;QAA9B,UAAK,GAAL,KAAK,CAAyB;QAPlD,eAAU,GAAG,IAAI,iBAAS,CAAC;YACzB,MAAM,EAAE,IAAI,mBAAW,EAAE;SAC1B,CAAC,CAAC;IAKmD,CAAC;IAEvD,kCAAQ,GAAR;QAAA,iBAgBC;QAfC,IAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC;QAErD,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,UAAU,CAAC,YAAY,CAAC,IAAI,CACpD,wBAAY,CAAC,GAAG,CAAC,CAClB,CAAC,SAAS,CAAC,UAAC,KAAK;YAChB,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;YACnB,EAAE,EAAC,KAAK,CAAC,MAAM,IAAE,EAAE,CAAC,EAAC;gBACnB,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,WAAW,EAAE,CAAC,CAAC;YACvD,CAAC;YACD,EAAE,EAAC,KAAK,CAAC,MAAM,CAAC;gBAAA,KAAI,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,aAAa,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;QAE9E,CAAC,CAAC;QAEF,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAC,WAAW,CAAC,CAAC;QAC9D,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,EAAC,qBAAqB,CAAC,CAAC;IAC5E,CAAC;IAED,sCAAY,GAAZ,UAAa,IAAI;QACf,IAAM,GAAG,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,GAAG,EAAE,CAAC,CAAC,WAAW,EAAE,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,CAAC,WAAW,EAAE,CAAC;QAC9E,MAAM,CAAC,GAAG,CAAC;IACb,CAAC;IAED,qCAAW,GAAX;QACE,EAAE,EAAC,IAAI,CAAC,aAAa,CAAC;YAAC,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;IAC1D,CAAC;IAEH,sBAAC;AAAD,CAAC;AAtCY,0CAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACH5B;IAAA;IAc2B,CAAC;IAAD,mBAAC;AAAD,CAAC;AAAf,oCAAY;;;;;;;;;;;;;;;ACtBZ,oBAAY,GAAG,cAAc,CAAC;AAC9B,cAAM,GAAG,QAAQ,CAAC;AAClB,yBAAiB,GAAG,mBAAmB,CAAC;AACxC,mBAAW,GAAG,aAAa,CAAC;AAC5B,2BAAmB,GAAG,qBAAqB,CAAC;AAC5C,mBAAW,GAAG,aAAa,CAAC;AAC5B,mBAAW,GAAG,aAAa,CAAC;AAEzC;IAAA;QACW,SAAI,GAAG,oBAAY,CAAC;IAE/B,CAAC;IAAD,kBAAC;AAAD,CAAC;AAHY,kCAAW;AAKxB;IAGE,gBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,cAAM,CAAC;IAEa,CAAC;IACvC,aAAC;AAAD,CAAC;AAJY,wBAAM;AAMnB;IAGE,yBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,yBAAiB,CAAC;IAEG,CAAC;IACxC,sBAAC;AAAD,CAAC;AAJY,0CAAe;AAM5B;IAGE,oBAAmB,OAAa;QAAb,YAAO,GAAP,OAAO,CAAM;QAFvB,SAAI,GAAG,mBAAW,CAAC;IAEM,CAAC;IACrC,iBAAC;AAAD,CAAC;AAJY,gCAAU;AAMvB;IAGE,oBAAmB,OAAe;QAAf,YAAO,GAAP,OAAO,CAAQ;QAFzB,SAAI,GAAG,mBAAW,CAAC;IAEQ,CAAC;IACvC,iBAAC;AAAD,CAAC;AAJY,gCAAU;AAMvB;IAGE,2BAAmB,OAAsB;QAAtB,YAAO,GAAP,OAAO,CAAe;QAFhC,SAAI,GAAG,2BAAmB,CAAC;IAEQ,CAAC;IAC/C,wBAAC;AAAD,CAAC;AAJY,8CAAiB;AAM9B;IAAA;QACW,SAAI,GAAG,mBAAW,CAAC;IAE9B,CAAC;IAAD,iBAAC;AAAD,CAAC;AAHY,gCAAU;;;;;;;;;;;;;;;;;;;;;;;;AC7CvB,0EAA6C;AAC7C,qFAAqE;AACrE,sHAAgE;AAEhE,4GAAkD;AAClD,8EAA4D;AAC5D,qDAA0B;AAE1B,oHAA4D;AAC5D,IAAM,WAAW,GAAG,yBAAW,CAAC,MAAM,CAAC;AAEvC;IAuDE,uBAAoB,QAAiB,EAAU,UAAsB,EAAU,aAA4B;QAA3G,iBAA8G;QAA1F,aAAQ,GAAR,QAAQ,CAAS;QAAU,eAAU,GAAV,UAAU,CAAY;QAAU,kBAAa,GAAb,aAAa,CAAe;QApD3G,WAAM,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,IAAI,CACtD,eAAG,CAAC,UAAC,MAA4B,IAAK,aAAM,CAAC,OAAO,EAAd,CAAc,CAAC,EAAC,uBAAuB;QAC7E,qBAAS,CAAC,UAAC,SAAkB;YAC3B,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,GAAG,CAAC,WAAW,GAAC,eAAe,GAAC,SAAS,EAC1D;gBACI,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACtB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,kBAAkB,EAAC,GAAG,CAAC,CAAC;gBACpC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH,CAAC;QACR,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,CAAC,CAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACrC,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;gBAChC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,aAAa,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YACtE,CAAC;YAED,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,aAAa,CAAC,iBAAiB,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;QAC5E,CAAC,CAAC,CACH,CAAC;QAGF,sBAAiB,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,aAAa,CAAC,mBAAmB,CAAC,CAAC,IAAI,CAC9E,eAAG,CAAC,UAAC,MAAuC,IAAK,aAAM,CAAC,OAAO,EAAd,CAAc,CAAC,EAChE,qBAAS,CAAC,UAAC,UAAuC;YAChD,MAAM,CAAC,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW,GAAC,gCAAgC,EAAC,IAAI,CAAC,SAAS,CAAC,UAAU,CAAC,EAC3F;gBACE,OAAO,EAAC,EAAC,cAAc,EAAC,kBAAkB,EAAC;gBAC3C,OAAO,EAAC,MAAM;gBACd,YAAY,EAAC,MAAM;aACpB,CAAC,CAAC,IAAI,CACP,sBAAU,CAAC,aAAG;gBACZ,OAAO,CAAC,GAAG,CAAC,sBAAsB,EAAC,GAAG,CAAC,CAAC;gBACxC,MAAM,CAAC,SAAE,CAAC,GAAG,CAAC,CAAC;YACjB,CAAC,CAAC,CACH;QACT,CAAC,CAAC,EACF,qBAAS,CAAC,UAAC,IAAI;YACb,EAAE,EAAC,IAAI,YAAY,wBAAiB,CAAC,EAAC;gBACpC,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,aAAa,CAAC,WAAW,EAAE,OAAO,EAAE,IAAI,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;YACtE,CAAC;YAAA,IAAI,EAAC;gBACJ,yBAAyB;gBACzB,IAAM,MAAM,GAAS,IAAI,CAAC,MAAM,CAAC,CAAC;gBAClC,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC,EAAC,KAAK,EAAC,MAAM,CAAC,KAAK,EAAE,IAAI,EAAC,MAAM,CAAC,IAAI,EAAC,CAAC,CAAC;gBAC7E,MAAM,CAAC,SAAE,CAAC,EAAC,IAAI,EAAC,aAAa,CAAC,WAAW,EAAE,OAAO,EAAE,MAAM,EAAC,CAAC,CAAC;YAC/D,CAAC;QACH,CAAC,CAAC,CACH;IAE4G,CAAC;IAAA,CAAC;IApD/G;QADC,gBAAM,EAAE;;iDAuBP;IAGF;QADC,gBAAM,EAAE;;4DA0BR;IAGH,oBAAC;CAAA;AAvDY,sCAAa;;;;;;;;;;;;;;;;;;;;;;;ACb1B,4GAAkD;AAalD,IAAM,YAAY,GAAS;IACzB,SAAS,EAAE,IAAI,KAAK,EAAQ;IAC5B,mBAAmB,EAAE,IAAI;CAC1B;AAED,uBAA8B,KAAkB,EAAE,MAAmC;IAAvD,4CAAkB;IAC9C,MAAM,EAAC,MAAM,CAAC,IAAI,CAAC,EAAC;QAClB,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC;YAC9B,MAAM,cACD,KAAK,IACR,SAAS,EAAE,EAAE,EACb,mBAAmB,EAAE,IAAI,IAC1B;QACH,KAAI,CAAC,aAAa,CAAC,iBAAiB,CAAC;YACnC,MAAM,cACD,KAAK,IACR,SAAS,EAAM,MAAM,CAAC,OAAO,UAC7B,mBAAmB,EAAE,IAAI,IAC1B;QACH,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YAC7B,IAAM,gBAAgB,GAAO,KAAK,CAAC,SAAS,QAAC,CAAC;YAC9C,IAAM,KAAK,GAAG,gBAAgB,CAAC,SAAS,CAAC,UAAC,IAAI;gBAC5C,MAAM,CAAC,IAAI,CAAC,KAAK,KAAG,MAAM,CAAC,OAAO,CAAC,KAAK,IAAI,IAAI,CAAC,IAAI,KAAG,MAAM,CAAC,OAAO,CAAC,IAAI;YAC7E,CAAC,CAAC,CAAC;YACH,EAAE,EAAC,KAAK,GAAC,CAAC,CAAC,CAAC;gBAAA,gBAAgB,CAAC,KAAK,CAAC,GAAG,MAAM,CAAC,OAAO,CAAC;YACrD,MAAM,cACD,KAAK,IACR,SAAS,EAAE,gBAAgB,IAC5B;QACH,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YAC7B,MAAM,cACD,KAAK,IACR,mBAAmB,EAAE,MAAM,CAAC,OAAO,IACpC;QACH,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC;YAC7B,MAAM,cACD,KAAK,EACL,YAAY,EAChB;QACH;YACE,MAAM,CAAC,KAAK,CAAC;IACjB,CAAC;AACH,CAAC;AArCD,sCAqCC;;;;;;;;;;;;;;;ACvDD,0EAA2E;AAG3E;IAAA;IAYA,CAAC;IAPC,4CAAQ,GAAR,UAAS,OAAwB;QAC/B,EAAE,EAAC,CAAC,OAAO,CAAC,KAAK,CAAC;YAAC,MAAM,CAAC,IAAI,CAAC;QAC/B,EAAE,EAAC,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,EAAC;YACxB,MAAM,CAAC,EAAC,kBAAkB,EAAC,kBAAkB,EAAC,CAAC;QACjD,CAAC;QACD,IAAI;YAAC,MAAM,CAAC,IAAI;IAClB,CAAC;IACH,gCAAC;AAAD,CAAC;AARY,8DAAyB;;;;;;;;;;;;;;;ACNtC,2GAAyD;AAEzD;IAEE,sBAAoB,SAAsB;QAAtB,cAAS,GAAT,SAAS,CAAa;IAAE,CAAC;IAE7C,gCAAS,GAAT,UAAU,GAAG;QACX,MAAM,CAAC,IAAI,CAAC,SAAS,CAAC,8BAA8B,CAAC,GAAG,CAAC,CAAC;IAC5D,CAAC;IACH,mBAAC;AAAD,CAAC;AANY,oCAAY;;;;;;;;;;;;;;;ACFzB,oEAAoC;AAKpC,8EAAiD;AAEjD;IAEE,2BAAoB,KAA8B;QAA9B,UAAK,GAAL,KAAK,CAAyB;IAAE,CAAC;IAErD,qCAAS,GAAT,UAAU,GAAqB,EAAE,IAAiB;QAChD,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CACnC,gBAAI,CAAC,CAAC,CAAC,EACP,qBAAS,CAAC,UAAC,SAAmC;YAC1C,oDAAoD;YACpD,EAAE,EAAC,SAAS,CAAC,aAAa,IAAE,SAAS,CAAC,KAAK,CAAC,EAAC;gBAC3C,IAAM,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,EAAC,OAAO,EAAE,GAAG,CAAC,OAAO,CAAC,MAAM,CAAC,QAAQ,EAAE,SAAS,CAAC,KAAK,CAAC,EAAC,CAAC,CAAC;gBACtF,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAChC,CAAC;YAAA,IAAI;gBAAC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;QAClC,CAAC,CAAC,CACH;IACH,CAAC;IACH,wBAAC;AAAD,CAAC;AAfY,8CAAiB;;;;;;;;;;;;;;;ACG9B;IAAA;IAsB0B,CAAC;IAAD,mBAAC;AAAD,CAAC;AAAd,oCAAY;;;;;;;;;;;;;;;AClCzB,mHAA6D;AAC7D,+EAA6C;AAC7C,qDAAkC;AAClC,oEAAoC;AAEpC,8EAAsC;AAKtC,IAAM,UAAU,GAAG,yBAAW,CAAC,MAAM,CAAC;AAEtC;IAGE,uBAAoB,KAA8B;QAA9B,UAAK,GAAL,KAAK,CAAyB;IAAE,CAAC;IAE9C,kCAAU,GAAjB;QACE,IAAI,KAAK,GAAG,EAAE,CAAC;QACf,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,IAAI,CAC5B,gBAAI,CAAC,CAAC,CAAC,CACR,CAAC,SAAS,CACT,UAAC,IAAI;YACH,EAAE,EAAC,CAAC,IAAI,CAAC,aAAa,CAAC;gBAAC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC,4DAA4D,CAAC,CAAC;YACzG,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;QACrB,CAAC,CACF;QAED,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC;QAEnC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC;YACzB,EAAE,EAAC,CAAC,KAAK,CAAC;gBAAC,MAAM,CAAC;YAElB,IAAI,CAAC,MAAM;iBACR,IAAI,CAAC,cAAc,EAAE,EAAC,KAAK,SAAC,CAAC,CAAC,cAAc;iBAC5C,EAAE,CAAC,eAAe,EAAE;gBACnB,OAAO,CAAC,GAAG,CAAC,sBAAsB,CAAC,CAAC;YACtC,CAAC,CAAC;iBACD,EAAE,CAAC,cAAc,EAAE,UAAS,GAAG;gBAC9B,OAAO,CAAC,GAAG,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;gBACzD,MAAM,IAAI,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;YACjC,CAAC,CAAC;QAEN,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,6EAA4E;IAC7F,CAAC;IAEM,sCAAc,GAArB,UAAsB,MAAmC;QACvD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAC,MAAM,CAAC,CAAC;IAC5C,CAAC;IAEM,sCAAc,GAArB,UAAsB,MAAmC;QACvD,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB,EAAC,MAAM,CAAC,CAAC;IAC5C,CAAC;IAEM,yCAAiB,GAAxB,UAAyB,MAAoC;QAC3D,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAC,MAAM,CAAC,CAAC;IAC/C,CAAC;IAEM,oCAAY,GAAnB;QAAA,iBAMC;QALC,MAAM,CAAC,IAAI,iBAAU,CACnB,kBAAQ;YACN,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAC,UAAC,IAAe,IAAI,eAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAnB,CAAmB,CAAC,CAAC;QACvE,CAAC,CACF;IACH,CAAC;IAEM,mDAA2B,GAAlC;QAAA,iBAMC;QALC,MAAM,CAAC,IAAI,iBAAU,CACnB,kBAAQ;YACN,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,oBAAoB,EAAC,UAAC,IAAU,IAAI,eAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAnB,CAAmB,CAAC,CAAC;QAC1E,CAAC,CACF;IACH,CAAC;IAEM,gDAAwB,GAA/B;QAAA,iBAOC;QANC,MAAM,CAAC,IAAI,iBAAU,CACnB,kBAAQ;YACN,KAAI,CAAC,MAAM,CAAC,EAAE,CAAC,wBAAwB,EAAC,UAAC,IAAU,IAAI,eAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,EAAnB,CAAmB,CACzE,CAAC;QACJ,CAAC,CACF;IACH,CAAC;IAEM,yCAAiB,GAAxB,UAAyB,MAAmC,EAAE,QAAQ;QACpE,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,mBAAmB,EAAC,MAAM,EAAC,QAAQ,CAAC,CAAC;IACxD,CAAC;IAEM,kCAAU,GAAjB;QACE,IAAI,CAAC,MAAM,CAAC,UAAU,EAAE,CAAC;IAC3B,CAAC;IAEH,oBAAC;AAAD,CAAC;AA9EY,sCAAa;;;;;;;;;;;;;;ACd1B,mFAAmF;AACnF,8FAA8F;AAC9F,yEAAyE;AACzE,gFAAgF;;AAEnE,mBAAW,GAAG;IACzB,UAAU,EAAE,KAAK;IACjB,MAAM,EAAE,uBAAuB;CAChC,CAAC;;;;;;;;;;;;;;;;;;;;ACRF,uEAA+C;AAC/C,+GAA0D;AAAjD,6DAAe;AACxB,+GAAyD;AAEzD,EAAE,CAAC,CAAC,yBAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,qBAAc,EAAE,CAAC;AACnB,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;ACND,gD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,8C;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,kD;;;;;;;;;;;ACAA,gD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,0D;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,wD;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,yD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,oD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,mD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,sD;;;;;;;;;;;ACAA,iE;;;;;;;;;;;ACAA,qD;;;;;;;;;;;ACAA,4C;;;;;;;;;;;ACAA,0C;;;;;;;;;;;ACAA,wC;;;;;;;;;;;ACAA,iD;;;;;;;;;;;ACAA,qE;;;;;;;;;;;ACAA,iC;;;;;;;;;;;ACAA,2C;;;;;;;;;;;ACAA,6C","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","<span class=\"mat-button-wrapper\"><ng-content></ng-content></span><div matRipple class=\"mat-button-ripple\" [class.mat-button-ripple-round]=\"_isRoundButton || _isIconButton\" [matRippleDisabled]=\"_isRippleDisabled()\" [matRippleCentered]=\"_isIconButton\" [matRippleTrigger]=\"_getHostElement()\"></div><div class=\"mat-button-focus-overlay\"></div>","<span class=\"mat-button-wrapper\"><ng-content></ng-content></span><div matRipple class=\"mat-button-ripple\" [class.mat-button-ripple-round]=\"_isRoundButton || _isIconButton\" [matRippleDisabled]=\"_isRippleDisabled()\" [matRippleCentered]=\"_isIconButton\" [matRippleTrigger]=\"_getHostElement()\"></div><div class=\"mat-button-focus-overlay\"></div>","<ng-content></ng-content><ng-content select=\"mat-card-footer\"></ng-content>","<ng-content select=\"[mat-card-avatar], [matCardAvatar]\"></ng-content><div class=\"mat-card-header-text\"><ng-content select=\"mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]\"></ng-content></div><ng-content></ng-content>","<div><ng-content select=\"mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]\"></ng-content></div><ng-content select=\"img\"></ng-content><ng-content></ng-content>","<div class=\"mat-chip-list-wrapper\"><ng-content></ng-content></div>","<mat-pseudo-checkbox *ngIf=\"multiple\" class=\"mat-option-pseudo-checkbox\" [state]=\"selected ? 'checked' : ''\" [disabled]=\"disabled\"></mat-pseudo-checkbox><span class=\"mat-option-text\"><ng-content></ng-content></span><div class=\"mat-option-ripple\" mat-ripple [matRippleTrigger]=\"_getHostElement()\" [matRippleDisabled]=\"disabled || disableRipple\"></div>","<label class=\"mat-optgroup-label\" [id]=\"_labelId\">{{ label }}</label><ng-content select=\"mat-option, ng-container\"></ng-content>","<div class=\"mat-calendar-header\"><div class=\"mat-calendar-controls\"><button mat-button type=\"button\" class=\"mat-calendar-period-button\" (click)=\"currentPeriodClicked()\" [attr.aria-label]=\"periodButtonLabel\">{{periodButtonText}}<div class=\"mat-calendar-arrow\" [class.mat-calendar-invert]=\"calendar.currentView != 'month'\"></div></button><div class=\"mat-calendar-spacer\"></div><button mat-icon-button type=\"button\" class=\"mat-calendar-previous-button\" [disabled]=\"!previousEnabled()\" (click)=\"previousClicked()\" [attr.aria-label]=\"prevButtonLabel\"></button> <button mat-icon-button type=\"button\" class=\"mat-calendar-next-button\" [disabled]=\"!nextEnabled()\" (click)=\"nextClicked()\" [attr.aria-label]=\"nextButtonLabel\"></button></div></div>","<ng-template [cdkPortalOutlet]=\"_calendarHeaderPortal\"></ng-template><div class=\"mat-calendar-content\" [ngSwitch]=\"currentView\" cdkMonitorSubtreeFocus tabindex=\"-1\"><mat-month-view *ngSwitchCase=\"'month'\" [(activeDate)]=\"activeDate\" [selected]=\"selected\" [dateFilter]=\"dateFilter\" [maxDate]=\"maxDate\" [minDate]=\"minDate\" (selectedChange)=\"_dateSelected($event)\" (_userSelection)=\"_userSelected()\"></mat-month-view><mat-year-view *ngSwitchCase=\"'year'\" [activeDate]=\"activeDate\" [selected]=\"selected\" [dateFilter]=\"dateFilter\" [maxDate]=\"maxDate\" [minDate]=\"minDate\" (monthSelected)=\"_monthSelectedInYearView($event)\" (selectedChange)=\"_goToDateInView($event, 'month')\"></mat-year-view><mat-multi-year-view *ngSwitchCase=\"'multi-year'\" [activeDate]=\"activeDate\" [selected]=\"selected\" [dateFilter]=\"dateFilter\" [maxDate]=\"maxDate\" [minDate]=\"minDate\" (yearSelected)=\"_yearSelectedInMultiYearView($event)\" (selectedChange)=\"_goToDateInView($event, 'year')\"></mat-multi-year-view></div>","<tr *ngIf=\"_firstRowOffset < labelMinRequiredCells\" aria-hidden=\"true\"><td class=\"mat-calendar-body-label\" [attr.colspan]=\"numCols\" [style.paddingTop.%]=\"50 * cellAspectRatio / numCols\" [style.paddingBottom.%]=\"50 * cellAspectRatio / numCols\">{{label}}</td></tr><tr *ngFor=\"let row of rows; let rowIndex = index\" role=\"row\"><td *ngIf=\"rowIndex === 0 && _firstRowOffset\" aria-hidden=\"true\" class=\"mat-calendar-body-label\" [attr.colspan]=\"_firstRowOffset\" [style.paddingTop.%]=\"50 * cellAspectRatio / numCols\" [style.paddingBottom.%]=\"50 * cellAspectRatio / numCols\">{{_firstRowOffset >= labelMinRequiredCells ? label : ''}}</td><td *ngFor=\"let item of row; let colIndex = index\" role=\"gridcell\" class=\"mat-calendar-body-cell\" [tabindex]=\"_isActiveCell(rowIndex, colIndex) ? 0 : -1\" [class.mat-calendar-body-disabled]=\"!item.enabled\" [class.mat-calendar-body-active]=\"_isActiveCell(rowIndex, colIndex)\" [attr.aria-label]=\"item.ariaLabel\" [attr.aria-disabled]=\"!item.enabled || null\" (click)=\"_cellClicked(item)\" [style.width.%]=\"100 / numCols\" [style.paddingTop.%]=\"50 * cellAspectRatio / numCols\" [style.paddingBottom.%]=\"50 * cellAspectRatio / numCols\"><div class=\"mat-calendar-body-cell-content\" [class.mat-calendar-body-selected]=\"selectedValue === item.value\" [class.mat-calendar-body-today]=\"todayValue === item.value\">{{item.displayValue}}</div></td></tr>","<mat-calendar cdkTrapFocus [id]=\"datepicker.id\" [ngClass]=\"datepicker.panelClass\" [startAt]=\"datepicker.startAt\" [startView]=\"datepicker.startView\" [minDate]=\"datepicker._minDate\" [maxDate]=\"datepicker._maxDate\" [dateFilter]=\"datepicker._dateFilter\" [headerComponent]=\"datepicker.calendarHeaderComponent\" [selected]=\"datepicker._selected\" [@fadeInCalendar]=\"'enter'\" (selectedChange)=\"datepicker._select($event)\" (yearSelected)=\"datepicker._selectYear($event)\" (monthSelected)=\"datepicker._selectMonth($event)\" (_userSelection)=\"datepicker.close()\"></mat-calendar>","<button mat-icon-button type=\"button\" [attr.aria-label]=\"_intl.openCalendarLabel\" [disabled]=\"disabled\" (click)=\"_open($event)\"><svg *ngIf=\"!_customIcon\" class=\"mat-datepicker-toggle-default-icon\" viewBox=\"0 0 24 24\" width=\"24px\" height=\"24px\" fill=\"currentColor\" focusable=\"false\"><path d=\"M0 0h24v24H0z\" fill=\"none\"/><path d=\"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z\"/></svg><ng-content select=\"[matDatepickerToggleIcon]\"></ng-content></button>","<table class=\"mat-calendar-table\"><thead class=\"mat-calendar-table-header\"><tr><th *ngFor=\"let day of _weekdays\" [attr.aria-label]=\"day.long\">{{day.narrow}}</th></tr><tr><th class=\"mat-calendar-table-header-divider\" colspan=\"7\" aria-hidden=\"true\"></th></tr></thead><tbody mat-calendar-body [label]=\"_monthLabel\" [rows]=\"_weeks\" [todayValue]=\"_todayDate\" [selectedValue]=\"_selectedDate\" [labelMinRequiredCells]=\"3\" [activeCell]=\"_dateAdapter.getDate(activeDate) - 1\" (selectedValueChange)=\"_dateSelected($event)\" (keydown)=\"_handleCalendarBodyKeydown($event)\"></tbody></table>","<table class=\"mat-calendar-table\"><thead class=\"mat-calendar-table-header\"><tr><th class=\"mat-calendar-table-header-divider\" colspan=\"4\"></th></tr></thead><tbody mat-calendar-body allowDisabledSelection=\"true\" [label]=\"_yearLabel\" [rows]=\"_months\" [todayValue]=\"_todayMonth\" [selectedValue]=\"_selectedMonth\" [labelMinRequiredCells]=\"2\" [numCols]=\"4\" [cellAspectRatio]=\"4 / 7\" [activeCell]=\"_dateAdapter.getMonth(activeDate)\" (selectedValueChange)=\"_monthSelected($event)\" (keydown)=\"_handleCalendarBodyKeydown($event)\"></tbody></table>","<table class=\"mat-calendar-table\"><thead class=\"mat-calendar-table-header\"><tr><th class=\"mat-calendar-table-header-divider\" colspan=\"4\"></th></tr></thead><tbody mat-calendar-body allowDisabledSelection=\"true\" [rows]=\"_years\" [todayValue]=\"_todayYear\" [selectedValue]=\"_selectedYear\" [numCols]=\"4\" [cellAspectRatio]=\"4 / 7\" [activeCell]=\"_getActiveCell()\" (selectedValueChange)=\"_yearSelected($event)\" (keydown)=\"_handleCalendarBodyKeydown($event)\"></tbody></table>","<ng-template cdkPortalOutlet></ng-template>","<div class=\"mat-form-field-wrapper\"><div class=\"mat-form-field-flex\" #connectionContainer (click)=\"_control.onContainerClick && _control.onContainerClick($event)\"><div class=\"mat-form-field-prefix\" *ngIf=\"_prefixChildren.length\"><ng-content select=\"[matPrefix]\"></ng-content></div><div class=\"mat-form-field-infix\" #inputContainer><ng-content></ng-content><span class=\"mat-form-field-label-wrapper\"><label class=\"mat-form-field-label\" [attr.for]=\"_control.id\" [attr.aria-owns]=\"_control.id\" [class.mat-empty]=\"_control.empty && !_shouldAlwaysFloat\" [class.mat-form-field-empty]=\"_control.empty && !_shouldAlwaysFloat\" [class.mat-accent]=\"color == 'accent'\" [class.mat-warn]=\"color == 'warn'\" #label *ngIf=\"_hasFloatingLabel()\" [ngSwitch]=\"_hasLabel()\"><ng-container *ngSwitchCase=\"false\"><ng-content select=\"mat-placeholder\"></ng-content>{{_control.placeholder}}</ng-container><ng-content select=\"mat-label\" *ngSwitchCase=\"true\"></ng-content><span class=\"mat-placeholder-required mat-form-field-required-marker\" aria-hidden=\"true\" *ngIf=\"!hideRequiredMarker && _control.required && !_control.disabled\">&nbsp;*</span></label></span></div><div class=\"mat-form-field-suffix\" *ngIf=\"_suffixChildren.length\"><ng-content select=\"[matSuffix]\"></ng-content></div></div><div class=\"mat-form-field-underline\" #underline *ngIf=\"appearance != 'outline'\"><span class=\"mat-form-field-ripple\" [class.mat-accent]=\"color == 'accent'\" [class.mat-warn]=\"color == 'warn'\"></span></div><ng-container *ngIf=\"appearance == 'outline'\"><div class=\"mat-form-field-outline\"><div class=\"mat-form-field-outline-start\" [style.width.px]=\"_outlineGapStart\"></div><div class=\"mat-form-field-outline-gap\" [style.width.px]=\"_outlineGapWidth\"></div><div class=\"mat-form-field-outline-end\"></div></div><div class=\"mat-form-field-outline mat-form-field-outline-thick\"><div class=\"mat-form-field-outline-start\" [style.width.px]=\"_outlineGapStart\"></div><div class=\"mat-form-field-outline-gap\" [style.width.px]=\"_outlineGapWidth\"></div><div class=\"mat-form-field-outline-end\"></div></div></ng-container><div class=\"mat-form-field-subscript-wrapper\" [ngSwitch]=\"_getDisplayedMessages()\"><div *ngSwitchCase=\"'error'\" [@transitionMessages]=\"_subscriptAnimationState\"><ng-content select=\"mat-error\"></ng-content></div><div class=\"mat-form-field-hint-wrapper\" *ngSwitchCase=\"'hint'\" [@transitionMessages]=\"_subscriptAnimationState\"><div *ngIf=\"hintLabel\" [id]=\"_hintLabelId\" class=\"mat-hint\">{{hintLabel}}</div><ng-content select=\"mat-hint:not([align='end'])\"></ng-content><div class=\"mat-form-field-hint-spacer\"></div><ng-content select=\"mat-hint[align='end']\"></ng-content></div></div></div>","<ng-content></ng-content>","<ng-content></ng-content>","<ng-content></ng-content>","<div class=\"mat-list-item-content\"><div class=\"mat-list-item-ripple\" mat-ripple [matRippleTrigger]=\"_getHostElement()\" [matRippleDisabled]=\"_isRippleDisabled()\"></div><ng-content select=\"[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]\"></ng-content><div class=\"mat-list-text\"><ng-content select=\"[mat-line], [matLine]\"></ng-content></div><ng-content></ng-content></div>","<div class=\"mat-list-item-content\" [class.mat-list-item-content-reverse]=\"checkboxPosition == 'after'\"><div mat-ripple class=\"mat-list-item-ripple\" [matRippleTrigger]=\"_getHostElement()\" [matRippleDisabled]=\"_isRippleDisabled()\"></div><mat-pseudo-checkbox [state]=\"selected ? 'checked' : 'unchecked'\" [disabled]=\"disabled\"></mat-pseudo-checkbox><div class=\"mat-list-text\" #text><ng-content></ng-content></div></div>","<ng-content></ng-content>","<mat-tab-header #tabHeader [selectedIndex]=\"selectedIndex\" [disableRipple]=\"disableRipple\" (indexFocused)=\"_focusChanged($event)\" (selectFocusedIndex)=\"selectedIndex = $event\"><div class=\"mat-tab-label\" role=\"tab\" matTabLabelWrapper mat-ripple *ngFor=\"let tab of _tabs; let i = index\" [id]=\"_getTabLabelId(i)\" [attr.tabIndex]=\"_getTabIndex(tab, i)\" [attr.aria-controls]=\"_getTabContentId(i)\" [attr.aria-selected]=\"selectedIndex == i\" [class.mat-tab-label-active]=\"selectedIndex == i\" [disabled]=\"tab.disabled\" [matRippleDisabled]=\"tab.disabled || disableRipple\" (click)=\"_handleClick(tab, tabHeader, i)\"><div class=\"mat-tab-label-content\"><ng-template [ngIf]=\"tab.templateLabel\"><ng-template [cdkPortalOutlet]=\"tab.templateLabel\"></ng-template></ng-template><ng-template [ngIf]=\"!tab.templateLabel\">{{tab.textLabel}}</ng-template></div></div></mat-tab-header><div class=\"mat-tab-body-wrapper\" #tabBodyWrapper><mat-tab-body role=\"tabpanel\" *ngFor=\"let tab of _tabs; let i = index\" [id]=\"_getTabContentId(i)\" [attr.aria-labelledby]=\"_getTabLabelId(i)\" [class.mat-tab-body-active]=\"selectedIndex == i\" [content]=\"tab.content\" [position]=\"tab.position\" [origin]=\"tab.origin\" (_onCentered)=\"_removeTabBodyWrapperHeight()\" (_onCentering)=\"_setTabBodyWrapperHeight($event)\"></mat-tab-body></div>","<div class=\"mat-tab-body-content\" #content [@translateTab]=\"_position\" (@translateTab.start)=\"_onTranslateTabStarted($event)\" (@translateTab.done)=\"_onTranslateTabComplete($event)\"><ng-template matTabBodyHost></ng-template></div>","<div class=\"mat-tab-header-pagination mat-tab-header-pagination-before mat-elevation-z4\" aria-hidden=\"true\" mat-ripple [matRippleDisabled]=\"_disableScrollBefore || disableRipple\" [class.mat-tab-header-pagination-disabled]=\"_disableScrollBefore\" (click)=\"_scrollHeader('before')\"><div class=\"mat-tab-header-pagination-chevron\"></div></div><div class=\"mat-tab-label-container\" #tabListContainer (keydown)=\"_handleKeydown($event)\"><div class=\"mat-tab-list\" #tabList role=\"tablist\" (cdkObserveContent)=\"_onContentChanges()\"><div class=\"mat-tab-labels\"><ng-content></ng-content></div><mat-ink-bar></mat-ink-bar></div></div><div class=\"mat-tab-header-pagination mat-tab-header-pagination-after mat-elevation-z4\" aria-hidden=\"true\" mat-ripple [matRippleDisabled]=\"_disableScrollAfter || disableRipple\" [class.mat-tab-header-pagination-disabled]=\"_disableScrollAfter\" (click)=\"_scrollHeader('after')\"><div class=\"mat-tab-header-pagination-chevron\"></div></div>","<ng-template><ng-content></ng-content></ng-template>","<div class=\"mat-tab-links\" (cdkObserveContent)=\"_alignInkBar()\"><ng-content></ng-content><mat-ink-bar></mat-ink-bar></div>","<ng-content></ng-content><ng-content select=\"mat-toolbar-row\"></ng-content>","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\n\nconst appRoutes: Routes=[\n  {path: '', redirectTo: 'auth/signup', pathMatch: 'full'},\n  // {path: '**', redirectTo: '/'}\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forRoot(appRoutes)\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule{}\n","<!--The content below is only a placeholder and can be replaced.-->\n<div fxLayout=\"column\" fxLayoutGap=\"1vh\" fxLayoutAlign=\"center\">\n  <app-header></app-header>\n  <router-outlet></router-outlet>\n</div>\n","import { Component } from '@angular/core';\nimport { ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule } from \"@angular/common/http\";\n\nimport { AppComponent } from './app.component';\n\nimport { AppRoutingModule }from './app-routing.module';\nimport { AuthModule } from './auth/auth.module';\nimport { CoreModule } from './core/core.module';\n\nimport { StoreModule} from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { reducers } from './store/app.reducers';\nimport { AuthEffects } from './auth/store/auth.effects';\n\nimport {StoreDevtoolsModule} from '@ngrx/store-devtools';\nimport {environment} from '../environments/environment';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({appId: 'my-app'}),\n    FlexLayoutModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    AppRoutingModule,\n    AuthModule,\n    CoreModule,\n    StoreModule.forRoot(reducers),\n    EffectsModule.forRoot([AuthEffects]),\n    !environment.production ? StoreDevtoolsModule.instrument() : []\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import {NgModule} from '@angular/core';\nimport {ServerModule} from '@angular/platform-server';\nimport {ModuleMapLoaderModule} from '@nguniversal/module-map-ngfactory-loader';\nimport {FlexLayoutServerModule} from '@angular/flex-layout/server';\nimport {AppModule} from './app.module';\nimport {AppComponent} from './app.component';\n\n@NgModule({\n  imports: [\n    // The AppServerModule should import your AppModule followed\n    // by the ServerModule from @angular/platform-server.\n    AppModule,\n    ServerModule,\n    ModuleMapLoaderModule, // <-- *Important* to have lazy-loaded routes work\n    FlexLayoutServerModule //need to run ssr with flexlayout\n  ],\n  // Since the bootstrapped component is not inherited from your\n  // imported AppModule, it needs to be repeated here.\n  bootstrap: [AppComponent],\n})\nexport class AppServerModule {}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { AuthComponent } from './auth.component';\nimport { SignupComponent } from './signup/signup.component';\nimport { SigninComponent } from './signin/signin.component';\n\nconst authRoutes: Routes=[\n  {path: 'auth', component: AuthComponent,//need to take care IF i wan to lazy load this later\n  children:[\n    {path:'signup', component: SignupComponent},\n    {path:'signin', component: SigninComponent}\n  ]},\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(authRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class AuthRoutingModule{}\n","<div fxLayout=\"column\" fxLayoutAlign=\"center center\" style=\"margin-bottom: 15px\">\n  <mat-card>\n    <mat-card-title>Welcome!</mat-card-title>\n    <mat-card-content>\n      {{content}}\n    </mat-card-content>\n  </mat-card>\n</div>\n\n\n<router-outlet (activate)=\"onActivate($event)\"></router-outlet>\n","import { Component, OnInit, Input } from '@angular/core';\nimport { SigninComponent } from './signin/signin.component';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  content = 'This app lets you connect and chat with friends.';\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onActivate(event){\n    if(event instanceof SigninComponent)\n      this.content = 'This app lets you connect and chat with friends.'\n    else\n      this.content = 'Just fill up the fields below and you are ready to go!'\n  }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { SignupComponent } from \"./signup/signup.component\";\nimport { SigninComponent } from './signin/signin.component';\nimport { AuthRoutingModule } from \"./auth-routing.module\";\nimport { AuthComponent } from \"./auth.component\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { SafeHtmlPipe } from \"../shared/safeHtml.pipe\";\n\n@NgModule({\n    declarations:[\n      AuthComponent,\n      SignupComponent,\n      SigninComponent,\n      SafeHtmlPipe\n    ],\n    imports:[\n      AuthRoutingModule,\n      SharedModule\n    ]\n})\n\nexport class AuthModule{}\n","<form (ngSubmit)=\"onSubmitForm(f)\" #f=\"ngForm\" fxLayout=\"column\" fxLayoutGap=\"15px;\">\n  <mat-form-field>\n    <input matInput placeholder=\"Email\" ngModel name=\"email\" email required #emailInput=\"ngModel\">\n    <mat-error *ngIf=\"emailInput.invalid\">{{getEmailError()}}</mat-error>\n  </mat-form-field>\n  <mat-form-field>\n    <input matInput placeholder=\"Enter your password\" ngModel name=\"password\" [type]=\"hide ? 'password' : 'text'\" required minlength=\"6\" #passwordInput=\"ngModel\">\n    <mat-icon matSuffix (click)=\"hide = !hide\" style=\"cursor: pointer\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\n    <mat-error *ngIf=\"passwordInput.invalid\">{{getPasswordError()}}</mat-error>\n  </mat-form-field>\n  <p class=\"error\" *ngIf=\"signinError\">{{signinError}}</p>\n  <br>\n  <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"f.invalid\">Sign In</button>\n</form>\n","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as AuthActions from '../store/auth.actions';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.css']\n})\nexport class SigninComponent implements OnInit, OnDestroy {\n  @ViewChild('emailInput') email;\n  @ViewChild('passwordInput') password;\n  hide = true;\n  signinError = '';\n  authStateError: Subscription;\n\n  constructor(private store: Store<fromApp.AppState>, private router: Router) { }\n\n  ngOnInit() {\n    this.authStateError = this.store.select('auth')\n    .subscribe(\n      authState =>{\n        if(authState.signin_fail_message) this.signinError = authState.signin_fail_message;\n        if(authState.authenticated&&authState.token){\n            this.router.navigateByUrl(\"/main/search\");\n        }\n      }\n    )\n  }\n\n  getEmailError(){\n    return this.email.hasError('required') ? 'You must enter a value' :\n        this.email.hasError('email') ? 'Not a valid email' :\n            '';\n  }\n\n  getPasswordError(){\n    return this.password.hasError('required') ? 'You must enter a value' :\n        this.password.hasError('minlength') ? 'Minimum password length is 6' :\n            '';\n  }\n\n  onSubmitForm(myForm: NgForm){\n    const email = myForm.value.email;\n    const password = myForm.value.password;\n    console.log(email+\"   \"+password);\n    this.signinError = '';\n    //signup the user\n    this.store.dispatch(new AuthActions.Signin({email, password}));\n    //populate the to do list with data from db\n  }\n\n  ngOnDestroy(){\n    if(this.authStateError)this.authStateError.unsubscribe();\n  }\n}\n","<form (ngSubmit)=\"onSubmitForm(f)\" #f=\"ngForm\" fxLayout=\"column\" fxLayoutGap=\"15px;\">\n  <div fxLayout=\"row\" fxLayoutAlign=\"space-between\">\n    <div fxFlex>\n      <img alt=\"Angular Logo\" width=120px height=120px [src]=\"avatar | safeHtml\">\n    </div>\n    <div fxFlex fxFlexAlign=\"center\">\n      <p>Please upload picture smaller than 50kb and size smaller than 200px x 200px.</p>\n      <input type=\"file\" id=\"filePicker\"  (change)=\"onSelectImage($event)\">\n    </div>\n  </div>\n  <p class=\"error\" *ngIf=\"uploadError\">{{uploadError}}</p>\n  <mat-form-field>\n    <input matInput placeholder=\"Name\" ngModel name=\"name\" required #nameInput=\"ngModel\">\n    <mat-error *ngIf=\"nameInput.invalid\">You must enter a value</mat-error>\n  </mat-form-field>\n  <mat-form-field>\n    <input matInput placeholder=\"Email\" ngModel name=\"email\" email required #emailInput=\"ngModel\">\n    <mat-error *ngIf=\"emailInput.invalid\">{{getEmailError()}}</mat-error>\n  </mat-form-field>\n  <mat-form-field>\n    <input matInput [matDatepicker]=\"picker\" ngModel name=\"dob\" placeholder=\"Choose a date\" required #dobInput=\"ngModel\">\n    <mat-datepicker-toggle matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n    <mat-datepicker #picker></mat-datepicker>\n    <mat-error *ngIf=\"dobInput.invalid\">You must enter a valid DOB</mat-error>\n  </mat-form-field>\n  <mat-form-field>\n    <input matInput placeholder=\"Address\" ngModel name=\"address\" required #addressInput=\"ngModel\">\n    <mat-error *ngIf=\"nameInput.invalid\">You must enter an valid address</mat-error>\n  </mat-form-field>\n  <mat-form-field>\n    <input matInput placeholder=\"Hobbies\" ngModel name=\"hobbies\">\n  </mat-form-field>\n  <mat-form-field>\n    <input matInput placeholder=\"Enter your password\" ngModel name=\"password\" [type]=\"hide ? 'password' : 'text'\" required minlength=\"6\" #passwordInput=\"ngModel\">\n    <mat-icon matSuffix (click)=\"hide = !hide\" style=\"cursor: pointer\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\n    <mat-error *ngIf=\"passwordInput.invalid\">{{getPasswordError()}}</mat-error>\n  </mat-form-field>\n  <p class=\"error\" *ngIf=\"signupError\">{{signupError}}</p>\n  <br>\n  <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"f.invalid\">Sign Up</button>\n</form>\n","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { User } from '../../models/user.model';\n\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as AuthActions from '../store/auth.actions';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { Observable } from 'rxjs';\nimport { skipWhile, take } from 'rxjs/operators'; //tap is what-used-to be 'do'\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit, OnDestroy {\n  @ViewChild('emailInput') email;\n  @ViewChild('passwordInput') password;\n\n  noavatar: string = \"data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QCARXhpZgAASUkqAAgAAAAEABoBBQABAAAAPgAAABsBBQABAAAARgAAACgBAwABAAAAAgAAAGmHBAABAAAATgAAAAAAAABIAAAAAQAAAEgAAAABAAAAAwAAkAcABAAAADAyMTAAoAcABAAAADAxMDABoAMAAQAAAP//AAAAAAAA/+EDDGh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPgogIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHhtbG5zOnhtcE1NPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vJz4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjI4N0JFQzI0RDgxMzExRTVCOThBQ0Q4OTc1RjNCODlCPC94bXBNTTpJbnN0YW5jZUlEPgogIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6Mjg3QkVDMjREODEzMTFFNUI5OEFDRDg5NzVGM0I4OUI8L3htcE1NOkluc3RhbmNlSUQ+CiAgPHhtcE1NOkRvY3VtZW50SUQgcmRmOnJlc291cmNlPSd4bXAuZGlkOjI4N0JFQzI1RDgxMzExRTVCOThBQ0Q4OTc1RjNCODlCJyAvPgogIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSdSZXNvdXJjZSc+CiAgPC94bXBNTTpEZXJpdmVkRnJvbT4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKPC9yZGY6UkRGPgo8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\";\n\n  avatar = this.noavatar;\n\n  authStateError: Subscription;\n\n  hide = true;\n  uploadError = '';\n  signupError = '';\n\n  constructor(private store: Store<fromApp.AppState>, private router: Router) { }\n\n  ngOnInit() {\n    this.authStateError = this.store.select('auth')//i dont want to take 1 coz I want this observation to keep continuing\n    //even though after first auth failure\n    .subscribe(\n      authState =>{\n        if(authState.signup_fail_message){\n          this.signupError = authState.signup_fail_message;\n        }\n        if(authState.authenticated&&authState.token){\n              this.router.navigateByUrl(\"/main/search\");\n        }\n      }\n    )\n  }\n\n  onSelectImage(event){\n    this.uploadError = \"\";\n    if (event.target.files && event.target.files[0]) {\n     if(event.target.files[0].size>51200){\n       return this.uploadError = \"please upload file smaller than 50kb\";\n     }\n\n     let reader = new FileReader();\n\n     reader.readAsDataURL(event.target.files[0]); // read file as data url\n\n     reader.onload = (e: any) => { // called once readAsDataURL is completed\n       //check image size before assigning to avatar variable\n      let image = new Image();\n      image = e.target.result;\n      if(image.width > 200 || image.height > 200){\n        return this.uploadError = 'please upload image smaller than 200px x 200px';\n      }\n\n      this.avatar = e.target.result;\n     }\n   }\n  }\n\n\n  getEmailError(){\n    return this.email.hasError('required') ? 'You must enter a value' :\n        this.email.hasError('email') ? 'Not a valid email' :\n            '';\n  }\n\n  getPasswordError(){\n    return this.password.hasError('required') ? 'You must enter a value' :\n        this.password.hasError('minlength') ? 'Minimum password length is 6' :\n            '';\n  }\n\n  onSubmitForm(myForm: NgForm){\n    console.log(myForm);\n    const user = new User(\n      this.avatar,\n      myForm.value.name,\n      myForm.value.dob.getTime(), //dob is a Date object, convert it to unix time number\n      myForm.value.email,\n      myForm.value.address,\n      myForm.value.hobbies,\n      myForm.value.password\n    )\n    this.signupError='';\n    this.store.dispatch(new AuthActions.Signup(user));\n\n  }\n\n  ngOnDestroy(){\n    if(this.authStateError) this.authStateError.unsubscribe();\n  }\n\n}\n","import { Action } from \"@ngrx/store\";\nimport { User } from \"../../models/user.model\";\n\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\nexport const SIGNIN_FAIL = 'SIGNIN_FAIL';\nexport const SIGNUP = 'SIGNUP';\nexport const SIGNIN = 'SIGNIN';\nexport const LOGOUT = 'LOGOUT';\nexport const AFTER_LOGOUT = 'AFTER_LOGOUT';\nexport const SET_TOKEN = 'SET_TOKEN';\n\nexport class SignupFail implements Action{\n  readonly type = SIGNUP_FAIL;\n\n  constructor(public payload: string){};\n}\n\nexport class SigninFail implements Action{\n  readonly type = SIGNIN_FAIL;\n\n  constructor(public payload: string){};\n}\n\nexport class Signup implements Action{\n  readonly type = SIGNUP;\n\n  constructor(public payload:User){}\n}\nexport class Signin implements Action{\n  readonly type = SIGNIN;\n\n  constructor(public payload:{email: string, password: string}){}\n}\nexport class Logout implements Action{\n  readonly type = LOGOUT;\n}\nexport class AfterLogout implements Action{\n  readonly type = AFTER_LOGOUT;\n}\n\nexport class SetToken implements Action{\n  readonly type = SET_TOKEN;\n\n  constructor(public payload: string){}\n}\n\n\nexport type AuthActions = Signin | Signup | Logout | AfterLogout | SetToken | SignupFail | SigninFail;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects'\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { environment } from '../../../environments/environment';\nimport * as AuthActions from './auth.actions';\nimport { User } from '../../models/user.model';\n\nimport { Observable, of, pipe, from } from 'rxjs'; //from is what used to be 'fromPromise'\nimport { map, tap, switchMap, catchError } from 'rxjs/operators'; //tap is what-used-to be 'do'\n\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class AuthEffects{\n  @Effect({ dispatch: false })\n  logActions$ = this.actions$.pipe(\n    tap(action => {\n      console.log(action);\n    })\n  );\n\n  @Effect()\n  authSignup = this.actions$.ofType(AuthActions.SIGNUP).pipe(\n    map((action: AuthActions.Signup) =>{\n      console.log(\"auth actions try signup\");\n      return action.payload;\n      //return Observable<payload:User>\n    }),\n    switchMap((authData: User)=>{\n      return this.httpClient.post(SERVER_PATH+'/user',JSON.stringify(authData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error sign up \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('signup error resp');\n        return of({type:AuthActions.SIGNUP_FAIL, payload: resp['error']})\n        //the last return is going to be handled by effects\n      }\n      //else its going to be an object with the token\n      return of({type:AuthActions.SET_TOKEN, payload: resp['token']});\n    })\n  );\n\n  @Effect()\n  authSignin = this.actions$.ofType(AuthActions.SIGNIN).pipe(\n    map((action: AuthActions.Signin) => action.payload),\n    switchMap((authData: {email:string, password:string})=>{\n      return this.httpClient.post(SERVER_PATH+'/user/login',JSON.stringify(authData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error sign in \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('signin error resp');\n        return of({type:AuthActions.SIGNIN_FAIL, payload: resp['error']})\n        //the last return is going to be handled by effects\n      }\n      //else its going to be an object with the token\n      return of({type:AuthActions.SET_TOKEN, payload: resp['token']});\n    })\n  )\n\n  @Effect()\n  logout = this.actions$.ofType(AuthActions.LOGOUT).pipe(\n    switchMap(()=>{\n      return this.httpClient.delete(SERVER_PATH+'/user/me/token',\n              {\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error logging out \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('log out error', resp.error);\n      }\n      return of({type:AuthActions.AFTER_LOGOUT});//clean up\n    })\n  )\n\n  constructor(private actions$: Actions, private httpClient: HttpClient){}\n}\n","import * as AuthActions from './auth.actions';\n\nexport interface State{\n    token : string;\n    email: string;\n    name: string;\n    authenticated : boolean;\n    signup_fail_message: string;\n    signin_fail_message: string;\n}\n\nconst initialState: State ={\n  token : null,\n  email: null,\n  name: null,\n  authenticated : false,\n  signup_fail_message: null,\n  signin_fail_message: null\n}\n\nexport function authReducer(state=initialState, action: AuthActions.AuthActions){\n  switch(action.type){\n    case AuthActions.SIGNUP_FAIL:\n      console.log(\"sign up failed reducer called\");\n      return {\n        ...state,\n        signup_fail_message: action.payload\n      }\n    case AuthActions.SIGNIN_FAIL:\n      console.log(\"sign in failed reducer called\");\n      return {\n        ...state,\n        signin_fail_message: action.payload\n      }\n    case AuthActions.SIGNUP:\n      console.log(\"sign up reducer called\");\n    case AuthActions.SIGNIN:\n      return{\n        ...state,\n        signup_fail_message: null,\n        signin_fail_message: null\n      };\n    case AuthActions.AFTER_LOGOUT:\n      console.log(\"reducer after logout\");\n      return{\n        ...state,\n        ...initialState\n      };\n    case AuthActions.SET_TOKEN:\n      const jwt_payload = action.payload.split('.')[1];\n      const obj_payload = JSON.parse(atob(jwt_payload));\n      console.log(\"set token reducer called\",obj_payload);\n      return{\n        ...state,\n        token: action.payload,\n        email: obj_payload['email'],\n        name: obj_payload['name'],\n        authenticated: true\n      };\n    default:\n      return state;\n  }\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { MainComponent } from './main/main.component';\nimport { SearchComponent } from '../search/search.component';\nimport { FriendsComponent } from '../friends/friends.component';\n\nconst mainRoutes: Routes=[\n  {path: 'main', component: MainComponent,//need to take care IF i wan to lazy load this later\n  children:[\n    {path:'search', loadChildren: '../search/search.module#SearchModule'},\n    {path:'friends', loadChildren: '../friends/friends.module#FriendsModule'},\n    {path:'inbox', loadChildren: '../message/message.module#MessageModule'}\n  ]},\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(mainRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class CoreRoutingModule{}\n","import { NgModule } from \"@angular/core\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { HeaderComponent } from \"./header/header.component\";\nimport { MainComponent } from \"./main/main.component\";\nimport { CoreRoutingModule } from \"./core-routing.module\";\nimport { HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { ServerInterceptor } from \"../shared/server.interceptor\";\nimport { SocketService } from \"../shared/socket.service\";\nimport { StoreModule } from \"@ngrx/store\";\nimport { EffectsModule } from \"@ngrx/effects\";\nimport { messageReducer } from \"../message/store/message.reducers\";\nimport { MessageEffects } from \"../message/store/message.effects\";\n\n@NgModule({\n  declarations:[\n    HeaderComponent,\n    MainComponent\n  ],\n  imports:[\n    CoreRoutingModule,\n    SharedModule,\n    StoreModule.forFeature('message',messageReducer),\n    EffectsModule.forFeature([MessageEffects])\n  ],\n  exports:[\n    HeaderComponent\n  ],\n  providers:[\n    {provide: HTTP_INTERCEPTORS, useClass: ServerInterceptor, multi: true },\n    SocketService\n  ]\n\n})\nexport class CoreModule {}\n","<div fxLayout=\"column\">\n  <mat-toolbar color='primary' fxLayout.xs=\"column\" ngStyle.xs=\"height: 7em;\">\n    <button mat-button routerLink=\"\"><b>Chat-wall</b></button>\n    <span ngStyle.gt-xs=\"flex: 1 1 100%\"></span>\n\n    <button mat-button *ngIf=\"authenticatedState|async; else notAuthenticated\" (click)=\"onLogout()\">Log Out</button>\n\n    <ng-template #notAuthenticated>\n      <button mat-button routerLink=\"auth/signup\">Sign up</button>\n      <button mat-button routerLink=\"auth/signin\">Sign In</button>\n    </ng-template>\n\n  </mat-toolbar>\n\n  <p fxFlexAlign=\"end\" *ngIf=\"usernameState|async\">Welcome, {{usernameState|async}}!</p>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as AuthActions from '../../auth/store/auth.actions';\nimport * as FriendsActions from '../../friends/store/friends.actions';\nimport * as ChatsActions from '../../friends/chats/store/chats.actions';\nimport * as SearchActions from '../../search/store/search.actions';\nimport * as MessageActions from '../../message/store/message.actions';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { SocketService } from '../../shared/socket.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  authenticatedState: Observable<boolean>;\n  usernameState: Observable<string>;\n  constructor(private store: Store<fromApp.AppState>, private router: Router, private socketService: SocketService) { }\n\n  ngOnInit() {\n    this.authenticatedState = this.store.select('auth','authenticated');\n    this.usernameState = this.store.select('auth','name');\n  }\n\n  onLogout(){\n    this.store.dispatch(new AuthActions.Logout());\n    this.store.select('auth','authenticated').pipe(\n      skipWhile((authenticated:boolean)=>authenticated===true),\n      take(1)\n    ).subscribe(\n      (authenticated)=>{\n        this.socketService.disconnect();\n        this.router.navigateByUrl('/auth/signin');\n      }\n    );\n\n    //clear all the stores\n    this.store.dispatch(new FriendsActions.ClearStore());\n    this.store.dispatch(new ChatsActions.ClearStore());\n    this.store.dispatch(new SearchActions.ClearStore());\n    this.store.dispatch(new MessageActions.ClearStore());\n  }\n\n}\n","<div class=\"nav-tab\" fxLayout=\"column\" fxLayoutGap=\".5vh\" fxLayoutAlign=\"center\">\n  <p>Notification area: <span class=\"blink_me\">{{newMessage}}</span></p>\n  <nav mat-tab-nav-bar>\n    <a mat-tab-link\n       routerLink=\"/main/search\"\n       routerLinkActive #rla1=\"routerLinkActive\"\n       [active]=\"rla1.isActive\">\n      Search\n    </a>\n    <a mat-tab-link\n       routerLink=\"/main/friends\"\n       routerLinkActive #rla2=\"routerLinkActive\"\n       [active]=\"rla2.isActive\">\n      Friends\n    </a>\n    <a mat-tab-link\n       routerLink=\"/main/inbox\"\n       routerLinkActive #rla3=\"routerLinkActive\"\n       [active]=\"rla3.isActive\">\n      Inbox\n    </a>\n  </nav>\n  <router-outlet></router-outlet>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SocketService } from '../../shared/socket.service';\nimport { Subscription } from 'rxjs';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as MessageActions from '../../message/store/message.actions';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit, OnDestroy {\n\n  private socketSub: Subscription;\n  private msgSub: Subscription;\n  newMessage = '';\n  constructor(private socketService: SocketService, private store: Store<fromApp.AppState>) { }\n\n  ngOnInit() {//main should only init once login\n    this.socketService.initSocket();\n\n    this.socketSub = this.socketService.onNewMessage().subscribe(//active listening\n      (messages)=>{\n        this.store.dispatch(new MessageActions.PushNewMessages(messages))\n      }\n      //when get that 1 new message, push message into message's store\n    )\n\n    this.msgSub = this.store.select('message','messages').subscribe(\n      (messages)=>{\n        const newMsg = messages.filter((msg)=>msg.status!=='READ');\n        if(newMsg.length>0) this.newMessage = 'You\\'ve got new message! Check your inbox.';\n        else this.newMessage = '';\n      }\n    )\n\n    this.store.dispatch(new MessageActions.FetchAllMessages());\n  }\n\n  ngOnDestroy(){\n    if(this.socketSub) this.socketSub.unsubscribe();\n    if(this.msgSub) this.msgSub.unsubscribe();\n  }\n\n}\n","<div class=\"chatarea\" fxLayout=\"column\" fxLayoutGap=\"1vh\">\n  <div class=\"chatmessages\" #chatmessages>\n    <p class=\"messagetouser\">{{messageToUser}}</p>\n    <mat-list>\n      <mat-list-item *ngFor=\"let chat of (curChatList|async)\" [ngStyle]=\"{'text-align':chat.direction==='FROM'?'right':'left'}\">\n        <h4 matLine *ngIf=\"chat.direction==='TO';else friendName\" style=\"font-weight: bold\">{{userName}}:</h4>\n        <ng-template #friendName>\n          <h4 matLine style=\"font-weight: bold\">{{friendSelected.name}}:</h4>\n        </ng-template>\n        <p matLine>\n          <span>{{chat.content}}</span>\n        </p>\n      </mat-list-item>\n    </mat-list>\n  </div>\n  <mat-divider></mat-divider>\n  <div class=\"chatfooter\">\n    <form (ngSubmit)=\"onSendChatMessage(f)\" #f=\"ngForm\" fxLayout=\"row\">\n      <mat-form-field  fxFlex=\"1 0 auto\">\n        <input matInput ngModel name=\"chatMessage\" type=\"text\" placeholder=\"Enter a message here\" autocomplete=\"off\" emptyStringCheck #chatInput=\"ngModel\">\n        <mat-error *ngIf=\"chatInput.invalid\">Please enter proper value.</mat-error>\n      </mat-form-field>\n      <button mat-raised-button color=\"primary\" type=\"submit\" [disabled]=\"!friendAvailable||chatInput.invalid\">Send</button>\n    </form>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy, ViewChild, QueryList, ElementRef, Renderer2 } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as fromChats from './store/chats.reducers';\nimport * as ChatsActions from './store/chats.actions';\nimport * as FriendsActions from '../store/friends.actions';\nimport { Subscription, Observable } from 'rxjs';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { NgForm } from '@angular/forms';\nimport { SocketService } from '../../shared/socket.service';\nimport { Chat } from '../../models/chat.model';\nimport { MatListItem, MatList } from '@angular/material';\n\n@Component({\n  selector: 'app-chats',\n  templateUrl: './chats.component.html',\n  styleUrls: ['./chats.component.css']\n})\nexport class ChatsComponent implements OnInit, OnDestroy {\n  messageToUser='Select an available friend to start chatting!';\n  friendAvailable = false;\n  curChatList: Observable<Chat[]>;\n  userName: string;\n\n  friendSelected: {email:string, name:string, online:boolean};\n  private friendSelectedSub: Subscription;\n  private socketSub: Subscription;\n  private timeoutid: any;\n\n  // getting a reference to the overall list, which is the parent container of the list items\n  @ViewChild('chatmessages' ,{read: ElementRef}) chatList: ElementRef;\n\n  // getting a reference to the items/messages within the list\n  // @ViewChildren(MatListItem, { read: ElementRef }) chatListItems: QueryList<MatListItem>;\n\n  constructor(private store: Store<fromChats.FeatureState>, private socketService: SocketService, private renderer: Renderer2) {}\n\n  ngOnInit() {\n    this.store.select('auth','name').pipe(\n      take(1)\n    ).subscribe((name)=>this.userName=name);\n\n    this.curChatList = this.store.select('chats','curChatList');\n\n    this.friendSelectedSub= this.store.select('chats','friendSelected').subscribe(\n      (friendSelected)=>{\n        if(!friendSelected) return;\n        this.friendSelected = friendSelected;\n        if(friendSelected.online){\n          this.messageToUser = `You are chatting with ${friendSelected.name}.`;\n          this.friendAvailable = true;\n        }else{\n          this.messageToUser = `${friendSelected.name} is currently offline.`\n          this.friendAvailable = false;\n        }\n        this.scrollToBottom();\n      }\n    );\n\n    this.socketSub = this.socketService.onNewChatMessageReceived().subscribe(\n      (chatItem)=>{\n        console.log('chat received ',chatItem);\n        //if a friend is selected and there's message from the selected friend, update the chat array\n        if(this.friendSelected&&this.friendSelected.email===chatItem.email&&this.friendSelected.name===chatItem.name){\n          this.store.dispatch(new ChatsActions.UpdateChatArray(chatItem));\n          this.scrollToBottom();\n        }else\n          this.store.dispatch(new FriendsActions.UpdateFriendChatStatus({email:chatItem.email, name:chatItem.name, status: 'NEW'}));\n        //else update the 'new chat status' for this friend\n      }\n    )\n  }\n\n  // ngAfterViewInit(){\n  //   this.chatListItems.changes.subscribe(\n  //     (ele) => {\n  //       const parent = this.renderer.parentNode(ele.first.nativeElement);\n  //       console.log('ele parent ',parent);\n  //     }\n  //   )\n  // }\n\n  private scrollToBottom(){\n    //needs some delay in getting the real scroll height value\n    if(this.timeoutid)clearTimeout(this.timeoutid);\n    this.timeoutid = setTimeout(()=>{\n      const divEle : HTMLDivElement = this.chatList.nativeElement//this may crap in SSR\n      console.log('chatlist change  ', divEle.scrollHeight, ' : ', divEle.scrollWidth );\n      // this.getMatList.setScrollTop(realscr);\n      this.renderer.setProperty(divEle,'scrollTop',divEle.scrollHeight);\n    },200);\n  }\n\n  onSendChatMessage(myForm: NgForm){\n   let chat: string = myForm.value.chatMessage;\n\n   const newChatItem = {content:chat,created:new Date(Date.now()),direction:'TO'};\n   //push this chat to cur chat state\n   this.store.dispatch(new ChatsActions.UpdateChatArray(newChatItem));\n\n   if(this.friendSelected.online)\n    this.socketService.sendChatMessageTo({email:this.friendSelected.email,name:this.friendSelected.name},newChatItem);\n\n   myForm.reset();\n   this.scrollToBottom();\n  }\n\n  ngOnDestroy(){\n    if(this.friendSelectedSub) this.friendSelectedSub.unsubscribe();\n    if(this.socketSub) this.socketSub.unsubscribe();\n    if(this.timeoutid)clearTimeout(this.timeoutid);\n  }\n\n}\n","import { Action } from \"@ngrx/store\";\nimport { Chat } from \"../../../models/chat.model\";\n\nexport const SELECT_FRIEND = 'SELECT_FRIEND';;\nexport const UPDATE_SELECTED_FRIEND_STATUS = 'UPDATE_SELECTED_FRIEND_STATUS';\nexport const STORE_CHAT_ARRAY = 'STORE_CHAT_ARRAY';\nexport const UPDATE_CHAT_ARRAY = 'UPDATE_CHAT_ARRAY';\nexport const READ_CHAT_FAIL = 'READ_CHAT_FAIL';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class SelectFriend implements Action{\n  readonly type = SELECT_FRIEND\n\n  constructor(public payload: {email:string, name:string, online:boolean}){}\n}\n\nexport class UpdateSelectedFriendStatus implements Action{\n  readonly type = UPDATE_SELECTED_FRIEND_STATUS;\n\n  constructor(public payload: {email:string, name:string, online:boolean}){}\n}\n\nexport class StoreChatArray implements Action{\n  readonly type = STORE_CHAT_ARRAY\n\n  constructor(public payload: Chat[]){}\n}\n\nexport class UpdateChatArray implements Action{\n  readonly type = 'UPDATE_CHAT_ARRAY'\n\n  constructor(public payload: Chat){}\n}\n\nexport class ReadChatFail implements Action{\n  readonly type = READ_CHAT_FAIL\n\n  constructor(public payload: string){}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type ChatsActions = SelectFriend | UpdateSelectedFriendStatus| StoreChatArray | UpdateChatArray | ReadChatFail | ClearStore;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { environment } from '../../../../environments/environment';\nimport * as ChatsActions from './chats.actions';\nimport { map, switchMap, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class ChatsEffects{\n  @Effect()\n  selectFriend = this.actions$.ofType(ChatsActions.SELECT_FRIEND).pipe(\n    map((action: ChatsActions.SelectFriend)=>action.payload),\n    switchMap((friend: {email:string, name:string, online:boolean})=>{\n      return this.httpClient.get(SERVER_PATH+'/friends/readallchats/'+friend.email+'/'+friend.name,\n            {\n                observe:'body',\n                responseType:'json'\n            }).pipe(\n            catchError(err =>{\n              console.log(\"error reading chats \",err);\n              return of(err);\n            })\n          );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        return of({type:ChatsActions.READ_CHAT_FAIL, payload: resp['error']});\n      }\n      return of({type:ChatsActions.STORE_CHAT_ARRAY, payload: resp['chat']});\n    })\n  )\n\n  constructor(private actions$: Actions, private httpClient: HttpClient){}\n}\n","import * as ChatsActions from './chats.actions';\nimport * as fromFriends from '../../store/friends.reducers';\nimport { Chat } from '../../../models/chat.model';\n\nexport interface FeatureState extends fromFriends.FeatureState{\n  chats: State;\n}\n\nexport interface State{\n  friendSelected: {email: string, name: string, online:boolean},\n  curChatList: Chat[],\n  read_chat_fail: string\n}\n\nconst initialState: State ={\n  friendSelected: null,\n  curChatList: new Array<Chat>(),\n  read_chat_fail: null\n}\n\nexport function chatsReducer(state=initialState, action: ChatsActions.ChatsActions){\n  switch(action.type){\n    case(ChatsActions.SELECT_FRIEND):\n      return{\n        ...state,\n        friendSelected: action.payload\n      }\n    case(ChatsActions.UPDATE_SELECTED_FRIEND_STATUS)://only update status if this is the selected friend\n      if(!state.friendSelected||state.friendSelected.email!==action.payload.email||state.friendSelected.name!==action.payload.name)\n        return state;\n      else{\n        return{\n          ...state,\n          friendSelected: action.payload\n        }\n      }\n    case(ChatsActions.STORE_CHAT_ARRAY):\n      return{\n        ...state,\n        curChatList: action.payload,\n        read_chat_fail: null\n      }\n    case(ChatsActions.UPDATE_CHAT_ARRAY):\n      const newChatList = [...state.curChatList, action.payload];\n      return{\n        ...state,\n        curChatList: newChatList\n      }\n    case(ChatsActions.READ_CHAT_FAIL):\n      return{\n        ...state,\n        read_chat_fail: action.payload\n      }\n    case(ChatsActions.CLEAR_STORE):\n      return{\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { FriendsComponent } from './friends.component';\n\nconst friendsRoutes: Routes = [\n  {path: '', component: FriendsComponent}\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(friendsRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class FriendsRoutingModule{}\n","<div fxLayout=\"row\" fxLayoutGap=\"1vh\" fxLayoutAlign=\"center\">\n  <div fxFlex=\"15vw\" class=\"friendslist\" fxLayout=\"column\" fxLayoutAlign=\"start end\">\n    <p class=\"error\" *ngIf=\"friendsErrorState\">{{friendsErrorState|async}}</p>\n    <mat-card *ngFor=\"let friend of friendsListState|async\"\n    [ngStyle]=\"{'background-color':friend.online?'lightgreen':'indianred'}\"\n    [ngClass]=\"{'blink_me':friend.status==='NEW'}\"\n    (click)=\"onFriendSelected(friend,$event)\">\n      <mat-card-header>\n        <img mat-card-avatar alt={{friend.name}} src={{friend.avatar}}>\n        <mat-card-title>{{friend.name}}</mat-card-title>\n        <mat-card-subtitle>{{convertToAge(friend.dob)}}</mat-card-subtitle>\n        <mat-card-subtitle><i>{{checkOnline(friend.online)}}</i></mat-card-subtitle>\n      </mat-card-header>\n    </mat-card>\n  </div>\n  <!-- <mat-divider [vertical]=\"true\"></mat-divider> -->\n  <div fxFlex=\"0 1 60vw\">\n    <app-chats></app-chats>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy, Renderer2, ViewChildren, QueryList, ElementRef } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport { User } from '../models/user.model';\n\nimport * as fromFriends from './store/friends.reducers';\nimport * as FriendsActions from './store/friends.actions';\nimport * as ChatsActions from './chats/store/chats.actions';\n\nimport { Observable, Subscription } from 'rxjs';\nimport { SocketService } from '../shared/socket.service';\n\n@Component({\n  selector: 'app-friends',\n  templateUrl: './friends.component.html',\n  styleUrls: ['./friends.component.css']\n})\nexport class FriendsComponent implements OnInit, OnDestroy {\n\n  friendsListState: Observable<User[]>;\n  friendsErrorState: Observable<String>;\n  private userSub: Subscription;\n\n  prev_selected_matCard: ElementRef; //Assign with type ElementRef ok, but don't access the nativeElement\n\n  constructor(private store: Store<fromFriends.FeatureState>, private socketService: SocketService, private renderer: Renderer2) { }\n\n  ngOnInit() {\n    this.store.dispatch(new FriendsActions.GetFriendsList());\n    this.friendsListState = this.store.select('friends','friendsList');\n    this.friendsErrorState = this.store.select('friends','friends_fail_message');\n\n    //only need to listen to friend online status change here\n    //since will get fresh friends list everytime friends component init again\n    this.userSub = this.socketService.onFriendOnlineStatusChanged().subscribe(\n      (friend: User)=>{\n        console.log('friends online status',friend);\n        this.store.dispatch(new FriendsActions.UpdateFriendOnlineStatus(friend));\n        //friend list wont be updated if no such friend is found\n        this.store.dispatch(new ChatsActions.UpdateSelectedFriendStatus({email:friend.email,name:friend.name,online:friend.online}));\n      }\n    )\n  }\n\n  convertToAge(date){\n    const age = new Date(Date.now()).getFullYear() - new Date(date).getFullYear();\n    return age;\n  }\n\n  checkOnline(online){\n    if(online)return 'online';\n    else return 'offline';\n  }\n\n  onFriendSelected(friend: User,event){\n    // console.log('selected:',event,' ',event.target);\n    const matCard = this.getToMatCardRootEle(event.target);\n    if(matCard){\n      if(this.prev_selected_matCard) this.renderer.removeStyle(this.prev_selected_matCard,'border');\n      this.renderer.setStyle(matCard,'border','.2em inset blueviolet');\n      this.prev_selected_matCard = matCard;\n    }\n\n    this.store.dispatch(new ChatsActions.SelectFriend({email:friend.email,name:friend.name,online:friend.online}));\n    //---- need to update the status from NEW to READ\n    if(friend.status==='NEW') this.store.dispatch(new FriendsActions.UpdateFriendChatStatus({email:friend.email,name:friend.name,status:'READ'}));\n  }\n\n  private getToMatCardRootEle(ele){\n    let rootMatCard;\n    let max_try = 0;//i dont want this to become infinite loop! its just aesthetic fix\n    if(!ele) return;\n    while(ele.tagName!=='MAT-CARD'&&max_try<=6){\n      ele = this.renderer.parentNode(ele);\n      max_try++;\n    }\n    if (ele.tagName==='MAT-CARD') return ele;\n    else return;\n  }\n\n  ngOnDestroy(){\n    if(this.userSub)this.userSub.unsubscribe();\n  }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { FriendsComponent } from \"./friends.component\";\nimport { ChatsComponent} from './chats/chats.component';\nimport { SharedModule } from \"../shared/shared.module\";\nimport { FriendsRoutingModule } from \"./friends-routing.module\";\nimport { StoreModule } from \"@ngrx/store\";\nimport { EffectsModule } from \"@ngrx/effects\";\nimport { chatsReducer } from './chats/store/chats.reducers';\nimport { friendsReducer } from './store/friends.reducers';\nimport { FriendsEffects } from \"./store/friends.effects\";\nimport { ChatsEffects } from \"./chats/store/chats.effects\";\nimport { EmptyStringCheckDirective } from \"../shared/emptyStringCheck.directive\";\n\n@NgModule({\n  declarations:[\n    FriendsComponent,\n    ChatsComponent,\n    EmptyStringCheckDirective\n  ],\n  imports:[\n    FriendsRoutingModule,\n    SharedModule,\n    StoreModule.forFeature('chats',chatsReducer),\n    StoreModule.forFeature('friends',friendsReducer),\n    EffectsModule.forFeature([FriendsEffects,ChatsEffects])\n\n  ]\n})\n\nexport class FriendsModule{}\n","import { Action } from \"@ngrx/store\";\nimport { User } from \"../../models/user.model\";\n\nexport const GET_FRIENDS_LIST = 'GET_FRIENDS_LIST';\nexport const STORE_FRIENDS_LIST = 'STORE_FRIENDS_LIST';\nexport const GET_FRIENDS_FAIL = 'GET_FRIENDS_FAIL';\nexport const UPDATE_FRIEND_ONLINE_STATUS = 'UPDATE_FRIEND_ONLINE_STATUS';\nexport const UPDATE_FRIEND_CHAT_STATUS = 'UPDATE_FRIEND_CHAT_STATUS';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class GetFriendsList implements Action{\n  readonly type = GET_FRIENDS_LIST;\n}\n\nexport class StoreFriendsList implements Action{\n  readonly type = STORE_FRIENDS_LIST;\n\n  constructor(public payload: User[]){}\n}\n\nexport class GetFriendsFail implements Action{\n  readonly type = GET_FRIENDS_FAIL;\n\n  constructor(public payload: String){}\n}\n\nexport class UpdateFriendOnlineStatus implements Action{\n  readonly type = UPDATE_FRIEND_ONLINE_STATUS;\n\n  constructor(public payload: User){}\n}\n\nexport class UpdateFriendChatStatus implements Action{\n  readonly type = UPDATE_FRIEND_CHAT_STATUS;\n\n  constructor(public payload: {email:string,name:string,status:string}){}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type FriendsActions = GetFriendsList | StoreFriendsList | GetFriendsFail | UpdateFriendOnlineStatus | UpdateFriendChatStatus | ClearStore;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { environment } from '../../../environments/environment';\nimport * as FriendsActions from './friends.actions';\nimport { switchMap, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\n\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class FriendsEffects{\n  @Effect()\n  fetchFriendsList = this.actions$.ofType(FriendsActions.GET_FRIENDS_LIST).pipe(\n    switchMap(()=>{\n      return this.httpClient.get(SERVER_PATH+'/friends/getallfriends',\n              {\n                  observe:'body',\n                  responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error getting friends \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        return of({type:FriendsActions.GET_FRIENDS_FAIL, payload: resp['error']});\n      }\n      return of({type:FriendsActions.STORE_FRIENDS_LIST, payload: resp['friends']});\n    })\n  );\n\n\n  constructor(private actions$: Actions, private httpClient: HttpClient){}\n}\n","import * as FriendsActions from './friends.actions';\nimport * as fromApp from '../../store/app.reducers';\nimport { User } from '../../models/user.model';\n\nexport interface FeatureState extends fromApp.AppState{\n  friends: State;\n}\n\nexport interface State{\n  friendsList: User[];\n  friends_fail_message: String;\n}\n\nconst initialState: State ={\n  friendsList: new Array<User>(),\n  friends_fail_message: null\n}\n\nexport function friendsReducer(state=initialState, action: FriendsActions.FriendsActions){\n  switch(action.type){\n    case(FriendsActions.STORE_FRIENDS_LIST):\n      return{\n        ...state,\n        friendsList: [...action.payload],\n        friends_fail_message: null\n      }\n    case(FriendsActions.GET_FRIENDS_FAIL):\n      return{\n        ...state,\n        friends_fail_message: action.payload\n      }\n    case(FriendsActions.UPDATE_FRIEND_ONLINE_STATUS):\n      const oldList = [...state.friendsList];\n      const oldFriendInd = oldList.findIndex((friend)=>friend.email===action.payload.email&&friend.name===action.payload.name);\n      if(oldFriendInd>-1)oldList[oldFriendInd].online = action.payload.online;\n      return{\n        ...state,\n        friendsList: [...oldList]\n      }\n    case(FriendsActions.UPDATE_FRIEND_CHAT_STATUS):\n      const statusList = [...state.friendsList];\n      const oldInd = statusList.findIndex((friend)=>friend.email===action.payload.email&&friend.name===action.payload.name);\n      if(oldInd>-1)statusList[oldInd].status = action.payload.status;\n      return{\n        ...state,\n        friendsList: [...statusList]\n      }\n    case(FriendsActions.CLEAR_STORE):\n      return{\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { MessageComponent } from './message.component';\n\nconst messageRoutes: Routes = [\n  {path: '', component: MessageComponent}\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(messageRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class MessageRoutingModule{}\n","<div class=\"inbox\">\n  <mat-list>\n    <mat-list-item *ngFor=\"let msg of messagesState|async\">\n      <p> {{convertDateToString(msg.created)}} - {{msg.content}}</p>\n      <button mat-raised-button color=\"primary\" *ngIf=\"showActiveButton(msg)\" (click)=\"onAcceptFriend(msg)\">Accept</button>\n      <button mat-raised-button color=\"warn\" *ngIf=\"showActiveButton(msg)\" (click)=\"onRejectFriend(msg)\">Reject</button>\n      <button mat-raised-button disabled *ngIf=\"showAcceptedButton(msg)\">Accepted!</button>\n      <button mat-raised-button disabled *ngIf=\"showRejectedButton(msg)\">Rejected!</button>\n    </mat-list-item>\n  </mat-list>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as fromMessage from './store/message.reducers';\nimport * as MessageActions from './store/message.actions';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { Message } from '../models/message.model';\nimport { Observable } from 'rxjs';\n\n@Component({\n  selector: 'app-message',\n  templateUrl: './message.component.html',\n  styleUrls: ['./message.component.css']\n})\nexport class MessageComponent implements OnInit, OnDestroy {\n\n  messagesState: Observable<Message[]>;\n  private timeoutid: any;//should be an timeout id\n\n  constructor(private store: Store<fromMessage.FeatureState>) { }\n\n  ngOnInit() {\n    console.log('message component init');\n\n    this.messagesState = this.store.select('message','messages');\n    this.timeoutid = setTimeout(()=>{\n      this.store.dispatch(new MessageActions.ReadAllMessages())\n    },2000);\n  }\n\n  convertDateToString(date){\n    return (new Date(date)).toString().split('GMT')[0];\n  }\n\n  showActiveButton(msg:Message){\n    return msg.type==='REQ'&&msg.value==='UNDECIDE';\n  }\n\n  showAcceptedButton(msg:Message){\n    return msg.type==='REQ'&&msg.value==='ACCEPT';\n  }\n\n  showRejectedButton(msg:Message){\n    return msg.type==='REQ'&&msg.value==='REJECT';\n  }\n\n  onAcceptFriend(msg:Message){\n    this.store.dispatch(new MessageActions.AcceptFriend({email:msg.from.email,name:msg.from.name}));\n  }\n\n  onRejectFriend(msg:Message){\n    this.store.dispatch(new MessageActions.RejectFriend({email:msg.from.email,name:msg.from.name}));\n  }\n\n  ngOnDestroy(){\n    if(this.timeoutid)clearTimeout(this.timeoutid);\n  }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { MessageComponent } from \"./message.component\";\nimport { MessageRoutingModule } from \"./message-routing.module\";\n\n@NgModule({\n  declarations:[\n    MessageComponent\n  ],\n  imports:[\n    MessageRoutingModule,\n    SharedModule\n  ],\n  providers:[]\n\n})\nexport class MessageModule {}\n","import { Action } from \"@ngrx/store\";\nimport { Message } from \"../../models/message.model\";\n\nexport const FETCH_ALL_MESSAGES = 'FETCH_ALL_MESSAGES';\nexport const READ_ALL_MESSAGES = 'READ_ALL_MESSAGES';\nexport const STORE_ALL_MESSAGES = 'STORE_ALL_MESSAGES';\nexport const PUSH_NEW_MESSAGES = 'PUSH_NEW_MESSAGES';\nexport const GET_MESSAGES_FAIL = 'GET_MESSAGES_FAIL';\nexport const ACCEPT_FRIEND = 'ACCEPT_FRIEND';\nexport const REJECT_FRIEND = 'REJECT_FRIEND';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class FetchAllMessages implements Action{\n  readonly type = FETCH_ALL_MESSAGES;\n}\n\nexport class ReadAllMessages implements Action{\n  readonly type = READ_ALL_MESSAGES;\n}\n\nexport class StoreAllMessages implements Action{\n  readonly type = STORE_ALL_MESSAGES;\n\n  constructor(public payload: Message[]){}\n}\n\nexport class PushNewMessages implements Action{\n  readonly type = PUSH_NEW_MESSAGES;\n\n  constructor(public payload: Message[]){}\n}\n\nexport class GetMessagesFail implements Action{\n  readonly type = GET_MESSAGES_FAIL;\n\n  constructor(public payload: String){}\n}\n\nexport class AcceptFriend implements Action{\n  readonly type = ACCEPT_FRIEND;\n\n  constructor(public payload: {email:string, name:string}){}\n}\n\nexport class RejectFriend implements Action{\n  readonly type = REJECT_FRIEND;\n\n  constructor(public payload: {email:string, name:string}){}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type MessageActions = FetchAllMessages | ReadAllMessages | StoreAllMessages | PushNewMessages | GetMessagesFail | AcceptFriend | RejectFriend | ClearStore;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects'\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { environment } from '../../../environments/environment';\nimport * as MessageActions from './message.actions';\nimport { Message } from '../../models/message.model';\n\nimport { switchMap, catchError, map, concat, mergeMap, combineLatest } from 'rxjs/operators';\nimport { of, forkJoin} from 'rxjs';\nimport { SocketService } from '../../shared/socket.service';\n\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class MessageEffects{\n\n  @Effect()\n  fetchAllMessages = this.actions$.ofType(MessageActions.FETCH_ALL_MESSAGES).pipe(\n    switchMap(()=>{\n      return this.httpClient.get(SERVER_PATH+'/message/getallmessages',\n              {\n                  observe:'body',\n                  responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error getting messages \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }\n\n      return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n    })\n  );\n\n  @Effect()\n  readAllMessages = this.actions$.ofType(MessageActions.READ_ALL_MESSAGES).pipe(\n    switchMap(()=>{\n      return this.httpClient.get(SERVER_PATH+'/message/readallmessages',\n              {\n                  observe:'body',\n                  responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error reading messages \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }\n\n      return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n    })\n  );\n\n  @Effect()\n  acceptFriend = this.actions$.ofType(MessageActions.ACCEPT_FRIEND).pipe(\n    map((action: MessageActions.AcceptFriend)=>action.payload),\n    // switchMap((friendData:{email:string, name:string})=>{\n    //   return this.httpClient.patch(SERVER_PATH+'/message/acceptfriend',JSON.stringify(friendData),\n    //           {\n    //             headers:{'Content-Type':'application/json'},\n    //             observe:'body',\n    //             responseType:'json'\n    //           }).pipe(\n    //           catchError(err =>{\n    //             console.log(\"error friend request\",err);\n    //             return of(err);\n    //           })\n    //         )\n    // }),\n    switchMap((friendData:{email:string, name:string})=>{\n      return this.httpClient.patch(SERVER_PATH+'/message/acceptfriend',JSON.stringify(friendData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n                map(resp=>{\n                    return {resp, friendData};\n                  }\n                ),\n                catchError(err =>{\n                  console.log(\"error friend request\",err);\n                  return of(err);\n                })\n            )\n    }),\n    switchMap((pair)=>{\n      const resp = pair.resp;\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }else{\n        this.socketService.friendAccepted(pair.friendData);\n        return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n      }\n    })\n  );\n\n  @Effect()\n  rejectFriend = this.actions$.ofType(MessageActions.REJECT_FRIEND).pipe(\n    map((action: MessageActions.RejectFriend)=>action.payload),\n    switchMap((friendData:{email:string, name:string})=>{\n      return this.httpClient.patch(SERVER_PATH+'/message/rejectfriend',JSON.stringify(friendData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n                map(resp=>{\n                    return {resp, friendData};\n                  }\n                ),\n                catchError(err =>{\n                  console.log(\"error friend request\",err);\n                  return of(err);\n                })\n            );\n    }),\n    switchMap((pair)=>{\n      const resp = pair.resp;\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }else{\n        this.socketService.friendRejected(pair.friendData);\n        return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n      }\n    })\n  );\n\n  constructor(private actions$: Actions, private httpClient: HttpClient, private socketService: SocketService){}\n\n}\n","import * as MessageActions from './message.actions';\nimport * as fromApp from '../../store/app.reducers';\nimport { Message } from '../../models/message.model';\n\nexport interface FeatureState extends fromApp.AppState{\n  message: State;\n}\n\nexport interface State{\n  messages: Message[];\n  getMessagesFailure: String;\n}\n\nconst initialState: State = {\n  messages: new Array<Message>(),\n  getMessagesFailure: null\n}\n\nexport function messageReducer(state=initialState, action: MessageActions.MessageActions){\n  switch(action.type){\n    case MessageActions.STORE_ALL_MESSAGES:\n      return{\n        ...state,\n        messages: [...action.payload],\n        getMessagesFailure: null\n      }\n    case MessageActions.PUSH_NEW_MESSAGES:\n      const newMessages = [...state.messages].concat([...action.payload]);\n      return{\n        ...state,\n        messages: [...newMessages]\n      }\n    case MessageActions.GET_MESSAGES_FAIL:\n      return{\n        ...state,\n        getMessagesFailure: action.payload\n      }\n    case MessageActions.CLEAR_STORE:\n      return{\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}\n","export class User{\n\n  constructor(public avatar:string, public name:string,\n    public dob:Date, public email:string,\n    public address:string, public hobbies:string, public password?: string,\n    public friends?: User[], public friends_requests?: User[], public online?: boolean, public status?: string){}\n\n}\n","<div fxLayout=\"column\" fxLayoutGap=\"15px\" class=\"searchdetail\">\n  <p class=\"error\" *ngIf=\"!userInfo || !userInfo.email; else userFound\">User not found.</p>\n\n  <ng-template #userFound>\n    <img src=\"{{userInfo.avatar}}\" alt=\"profile picture\" height=\"148px\" width=\"148px\">\n    <mat-list>\n      <mat-list-item><h4>Name: </h4> {{userInfo.name}}</mat-list-item>\n      <mat-list-item><h4>Email: </h4> {{userInfo.email}}</mat-list-item>\n      <mat-list-item><h4>DOB: </h4> {{convertToDateString(userInfo.dob)}}</mat-list-item>\n      <mat-list-item><h4>Address: </h4> {{userInfo.address}}</mat-list-item>\n      <mat-list-item><h4>Hobbies: </h4> {{userInfo.hobbies}}</mat-list-item>\n      <mat-list-item *ngIf=\"userInfo.friends.length>0\"><h4>Friend(s): </h4>\n        <mat-chip-list>\n          <mat-chip *ngFor=\"let friend of userInfo.friends\" color=\"accent\" selected=\"true\">{{friend.name}}</mat-chip>\n        </mat-chip-list>\n      </mat-list-item>\n    </mat-list>\n    <br>\n    <br>\n    <button mat-raised-button color=\"primary\" [disabled]=\"friendRequestToggle\" (click)=\"sendFriendRequest()\">{{friendRequestStr}}</button>\n  </ng-template>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { ActivatedRoute, Params } from '@angular/router';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as SearchActions from '../store/search.actions';\nimport { take } from 'rxjs/operators';\nimport { User } from '../../models/user.model';\nimport { Subscription } from 'rxjs';\n\n@Component({\n  selector: 'app-search-detail',\n  templateUrl: './search-detail.component.html',\n  styleUrls: ['./search-detail.component.css']\n})\nexport class SearchDetailComponent implements OnInit, OnDestroy {\n\n  userInfo: User;\n  routeSubs: Subscription;\n\n  friendRequestStr = 'Send friend\\'s request';\n  friendRequestToggle = false;\n\n  constructor(private route: ActivatedRoute, private store: Store<fromApp.AppState>) { }\n\n  ngOnInit() {\n    this.routeSubs = this.route.params.subscribe(\n      (params: Params) => {\n        let index = Number(params['index']);\n\n        //clear this userInfo if index is null\n        if(index===null||index===undefined) return this.userInfo = null;\n\n        this.friendRequestStr = 'Send friend\\'s request';\n        this.friendRequestToggle = false;\n\n        this.store.select('search','usersList').pipe(\n          take(1)\n        ).subscribe(\n          (usersList : User[])=>{\n            if(usersList.length>0&&usersList[index]){\n              this.userInfo = usersList[index];\n\n              this.store.select('auth','email').pipe(\n                take(1)\n              ).subscribe(\n                (myemail: string)=>{\n                  //check if this user is me\n                  if(this.userInfo.email===myemail) return this.disableFriendRequest('Eh?? Si moi!');\n                  //check if this user's friend including me\n                  const alreadyFriend = this.userInfo.friends.filter((user)=>user.email===myemail)\n                  if(alreadyFriend.length>0)this.disableFriendRequest('Mon Ami(e)!!');\n                  //check if this user's friend requests has me\n                  const reqUserSent = this.userInfo.friends_requests.filter((user)=>user.email===myemail)\n                  if(reqUserSent.length>0) this.disableFriendRequest('Friend\\'s request sent');\n                }\n              );\n            }\n          }\n        )\n      }\n    );\n  }\n\n  convertToDateString(date){\n    return (new Date(date)).toDateString();\n  }\n\n  sendFriendRequest(){\n    this.store.dispatch(new SearchActions.SendFriendRequest({email: this.userInfo.email, name: this.userInfo.name}));\n\n    this.disableFriendRequest('Friend\\'s request sent');\n  }\n\n  disableFriendRequest(buttonStr: string){\n    this.friendRequestStr = buttonStr;\n    this.friendRequestToggle = true;\n  }\n\n  ngOnDestroy(){\n    if(this.routeSubs)this.routeSubs.unsubscribe();\n  }\n\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { SearchComponent } from './search.component';\nimport { SearchDetailComponent } from './search-detail/search-detail.component';\n\nconst searchRoutes: Routes = [\n  {path: '', component: SearchComponent,\n  children:[\n    {path: ':username/:index', component: SearchDetailComponent}\n  ]}\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(searchRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class SearchRoutingModule{}\n","<div fxLayout=\"column\" fxLayoutGap=\"1vh\" fxLayoutAlign=\"center\">\n  <form [formGroup]=\"searchForm\">\n    <mat-form-field>\n      <input matInput placeholder=\"Search by user name\" formControlName=\"search\">\n    </mat-form-field>\n    <p class=\"error\" *ngIf=\"searchErrorState\">{{searchErrorState|async}}</p>\n  </form>\n  <div fxLayout=\"row\" fxLayoutGap=\"15px\" fxLayoutAlign=\"center\">\n    <div fxLayout=\"column\" fxLayoutGap=\"15px\" fxFlex=\"20vw\" class=\"searchresults\" fxLayoutAlign=\"start end\">\n      <a class=\"result \"[routerLink]=\"['/main/search/',user.name,i]\" *ngFor=\"let user of (usersListState|async); index as i\">\n        <mat-card>\n          <img mat-card-image height=148px src={{user.avatar}} alt={{user.name}}>\n          <mat-card-content>\n            <h3>Name: {{user.name}}</h3>\n            <p>Age: {{convertToAge(user.dob)}}</p>\n          </mat-card-content>\n        </mat-card>\n      </a>\n    </div>\n    <div fxFlex=\"60vw\">\n      <router-outlet></router-outlet>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\nimport { Subscription, Observable } from 'rxjs';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../store/app.reducers';\nimport * as SearchActions from './store/search.actions';\nimport { User } from '../models/user.model';\n\n@Component({\n  selector: 'app-search',\n  templateUrl: './search.component.html',\n  styleUrls: ['./search.component.css']\n})\nexport class SearchComponent implements OnInit, OnDestroy {\n\n  searchForm = new FormGroup({\n    search: new FormControl()\n  });\n  searchFormSub: Subscription;\n  usersListState: Observable<User[]>;\n  searchErrorState: Observable<string>;\n\n  constructor(private store: Store<fromApp.AppState>) { }\n\n  ngOnInit() {\n    this.store.dispatch(new SearchActions.ClearSearch());\n\n    this.searchFormSub = this.searchForm.valueChanges.pipe(\n      debounceTime(200)\n    ).subscribe((value)=>{\n      console.log(value);\n      if(value.search==''){\n        this.store.dispatch(new SearchActions.ClearSearch());\n      }\n      if(value.search)this.store.dispatch(new SearchActions.Search(value.search));\n\n    })\n\n    this.usersListState = this.store.select('search','usersList');\n    this.searchErrorState = this.store.select('search','search_fail_message');\n  }\n\n  convertToAge(date){\n    const age = new Date(Date.now()).getFullYear() - new Date(date).getFullYear();\n    return age;\n  }\n\n  ngOnDestroy(){\n    if(this.searchFormSub) this.searchFormSub.unsubscribe();\n  }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { ReactiveFormsModule } from \"@angular/forms\";\nimport { SearchRoutingModule } from \"./search-routing.module\";\nimport { SearchComponent } from \"./search.component\";\nimport { SearchDetailComponent } from './search-detail/search-detail.component';\nimport { searchReducer } from './store/search.reducers';\nimport { SearchEffects } from './store/search.effects';\nimport { StoreModule } from \"@ngrx/store\";\nimport { EffectsModule } from \"@ngrx/effects\";\n\n@NgModule({\n  declarations:[\n    SearchComponent,\n    SearchDetailComponent\n  ],\n  imports:[\n    SearchRoutingModule,\n    SharedModule,\n    ReactiveFormsModule,\n    StoreModule.forFeature('search',searchReducer),\n    EffectsModule.forFeature([SearchEffects])\n  ]\n})\n\nexport class SearchModule {}\n","import { Action } from \"@ngrx/store\";\nimport { User } from \"../../models/user.model\";\n\nexport const CLEAR_SEARCH = 'CLEAR_SEARCH';\nexport const SEARCH = 'SEARCH';\nexport const UPDATE_USERS_LIST = 'UPDATE_USERS_LIST';\nexport const SEARCH_FAIL = 'SEARCH_FAIL';\nexport const SEND_FRIEND_REQUEST = 'SEND_FRIEND_REQUEST';\nexport const UPDATE_USER = 'UPDATE_USER';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class ClearSearch implements Action{\n  readonly type = CLEAR_SEARCH;\n\n}\n\nexport class Search implements Action{\n  readonly type = SEARCH;\n\n  constructor(public payload: string){}\n}\n\nexport class UpdateUsersList implements Action{\n  readonly type = UPDATE_USERS_LIST;\n\n  constructor(public payload: User[]) {}\n}\n\nexport class UpdateUser implements Action{\n  readonly type = UPDATE_USER;\n\n  constructor(public payload: User){}\n}\n\nexport class SearchFail implements Action{\n  readonly type = SEARCH_FAIL;\n\n  constructor(public payload: string){}\n}\n\nexport class SendFriendRequest implements Action{\n  readonly type = SEND_FRIEND_REQUEST;\n\n  constructor(public payload: {email, name}) {}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type SearchActions = ClearSearch | Search | UpdateUsersList | UpdateUser | SearchFail | SendFriendRequest | ClearStore;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects'\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { environment } from '../../../environments/environment';\n\nimport * as SearchActions from './search.actions';\nimport { map, switchMap, catchError } from 'rxjs/operators';\nimport { of } from 'rxjs';\nimport { User } from '../../models/user.model';\nimport { SocketService } from '../../shared/socket.service';\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class SearchEffects{\n  @Effect()\n  search = this.actions$.ofType(SearchActions.SEARCH).pipe(\n    map((action: SearchActions.Search) => action.payload),//get the search string\n    switchMap((searchStr : string) =>{\n      return this.httpClient.get(SERVER_PATH+'/user/search/'+searchStr,\n            {\n                observe:'body',\n                responseType:'json'\n            }).pipe(\n            catchError(err =>{\n              console.log(\"error searching \",err);\n              return of(err);\n            })\n          );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('search fail resp');\n        return of({type:SearchActions.SEARCH_FAIL, payload: resp['error']});\n      }\n\n      return of({type:SearchActions.UPDATE_USERS_LIST, payload: resp['users']});\n    })\n  );\n\n  @Effect()\n  sendFriendRequest = this.actions$.ofType(SearchActions.SEND_FRIEND_REQUEST).pipe(\n    map((action: SearchActions.SendFriendRequest) => action.payload),\n    switchMap((friendData: {email:string, name:string})=>{\n      return this.httpClient.post(SERVER_PATH+'/user/search/sendfriendrequest',JSON.stringify(friendData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error friend request\",err);\n                return of(err);\n              })\n            )\n    }),\n    switchMap((resp)=>{\n      if(resp instanceof HttpErrorResponse){\n        return of({type:SearchActions.SEARCH_FAIL, payload: resp['error']});\n      }else{\n        //call the socket service\n        const friend: User = resp['user'];\n        this.socketService.friendRequestSent({email:friend.email, name:friend.name});\n        return of({type:SearchActions.UPDATE_USER, payload: friend});\n      }\n    })\n  )\n\n  constructor(private actions$: Actions, private httpClient: HttpClient, private socketService: SocketService){};\n}\n","import * as SearchActions from './search.actions';\nimport * as fromApp from '../../store/app.reducers';\nimport { User } from '../../models/user.model';\n\nexport interface FeatureState extends fromApp.AppState{\n  search: State;\n}\n\nexport interface State{\n  usersList: User[];\n  search_fail_message: string;\n}\n\nconst initialState: State ={\n  usersList: new Array<User>(),\n  search_fail_message: null\n}\n\nexport function searchReducer(state=initialState, action: SearchActions.SearchActions){\n  switch(action.type){\n    case(SearchActions.CLEAR_SEARCH):\n      return{\n        ...state,\n        usersList: [],\n        search_fail_message: null\n      }\n    case(SearchActions.UPDATE_USERS_LIST):\n      return{\n        ...state,\n        usersList: [...action.payload],\n        search_fail_message: null\n      }\n    case(SearchActions.UPDATE_USER):\n      const updatedUsersList = [...state.usersList];\n      const index = updatedUsersList.findIndex((user)=>{\n        return user.email===action.payload.email && user.name===action.payload.name\n      });\n      if(index>-1)updatedUsersList[index] = action.payload;\n      return{\n        ...state,\n        usersList: updatedUsersList\n      }\n    case(SearchActions.SEARCH_FAIL):\n      return{\n        ...state,\n        search_fail_message: action.payload\n      }\n    case(SearchActions.CLEAR_STORE):\n      return{\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}\n","import { Validator, AbstractControl, NG_VALIDATORS } from '@angular/forms';\nimport { Directive } from '@angular/core';\n\n@Directive({\n  selector: '[emptyStringCheck]',\n  providers: [{provide: NG_VALIDATORS, useExisting: EmptyStringCheckDirective, multi: true}]\n})\nexport class EmptyStringCheckDirective implements Validator {\n  validate(control: AbstractControl): {[key: string]: any} {\n    if(!control.value) return null;\n    if(!control.value.trim()){\n      return {'emptyStringCheck':'string is empty!'};\n    }\n    else return null\n  }\n}\n","import { Pipe } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({name: 'safeHtml'})\nexport class SafeHtmlPipe {\n  constructor(private sanitizer:DomSanitizer){}\n\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n}\n","import { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Store } from \"@ngrx/store\";\n\nimport * as fromApp from '../store/app.reducers';\n\nimport { Observable } from \"rxjs\";\nimport { take, switchMap } from 'rxjs/operators';\n\n@Injectable()\nexport class ServerInterceptor implements HttpInterceptor{\n  constructor(private store: Store<fromApp.AppState>){}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return this.store.select('auth').pipe(\n      take(1),\n      switchMap((authState: fromApp.AppState['auth']) =>{\n          // console.log(\"token fetched is \"+ authState.token)\n          if(authState.authenticated&&authState.token){\n            const clonedReq = req.clone({headers: req.headers.append('x-auth', authState.token)});\n            return next.handle(clonedReq);\n          }else return next.handle(req);\n      })\n    )\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\n\nimport { MatButtonModule, MatDatepickerModule, MatListModule,\n  MatToolbarModule, MatInputModule,\n  MatIconModule, MatFormFieldModule,\n  MatCardModule, MatTabsModule,\n  MatNativeDateModule,\n  MatChipsModule,\n  MatDividerModule} from \"@angular/material\";\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\n\n@NgModule({\n  declarations:[],\n  exports:[\n    CommonModule,\n    FormsModule,\n    FlexLayoutModule,\n    MatCardModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatInputModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatDatepickerModule,\n    MatListModule,\n    MatChipsModule,\n    MatNativeDateModule,\n    MatDividerModule\n  ],\n  providers: []\n})\n\nexport class SharedModule{}\n","import { Injectable } from \"@angular/core\";\nimport { environment } from \"../../environments/environment\";\nimport * as socketIo from 'socket.io-client';\nimport { Observable } from \"rxjs\";\nimport { Store } from \"@ngrx/store\";\nimport * as fromApp from '../store/app.reducers';\nimport { take } from \"rxjs/operators\";\nimport { Message } from \"../models/message.model\";\nimport { User } from \"../models/user.model\";\nimport { Chat } from \"../models/chat.model\";\n\nconst SERVER_URL = environment.server;\n\n@Injectable()\nexport class SocketService{\n  private socket;\n  constructor(private store: Store<fromApp.AppState>){}\n\n  public initSocket(){\n    let token = '';\n    this.store.select('auth').pipe(\n      take(1)\n    ).subscribe(\n      (auth)=>{\n        if(!auth.authenticated) return console.log('Not authenticated. Socket not initialized. Please sign in!');\n        token = auth.token;\n      }\n    )\n\n    this.socket = socketIo(SERVER_URL);\n\n    this.socket.on('connect', (function(){\n      if(!token) return;\n\n      this.socket\n        .emit('authenticate', {token}) //send the jwt\n        .on('authenticated', function () {\n          console.log('socket authenticated');\n        })\n        .on('unauthorized', function(msg) {\n          console.log(\"unauthorized: \" + JSON.stringify(msg.data));\n          throw new Error(msg.data.type);\n        })\n\n    }).bind(this));// this keyword for global scope is not within the scope of a local callback\n  }\n\n  public friendAccepted(friend: {email:string, name:string}){\n    this.socket.emit('friendAccepted',friend);\n  }\n\n  public friendRejected(friend: {email:string, name:string}){\n    this.socket.emit('friendRejected',friend);\n  }\n\n  public friendRequestSent(friend: {email:string, name: string}){\n    this.socket.emit('friendRequestSent',friend);\n  }\n\n  public onNewMessage(): Observable<Message[]>{\n    return new Observable<Message[]>(\n      observer =>{\n        this.socket.on('newMessage',(data: Message[])=> observer.next(data));\n      }\n    )\n  }\n\n  public onFriendOnlineStatusChanged(): Observable<User>{\n    return new Observable<User>(\n      observer => {\n        this.socket.on('friendOnlineStatus',(data: User)=> observer.next(data));\n      }\n    )\n  }\n\n  public onNewChatMessageReceived(): Observable<Chat>{\n    return new Observable<Chat>(\n      observer=>{\n        this.socket.on('newChatMessageReceived',(chat: Chat)=> observer.next(chat)\n        );\n      }\n    )\n  }\n\n  public sendChatMessageTo(friend: {email:string, name:string}, chatItem){\n    this.socket.emit('sendChatMessageTo',friend,chatItem);\n  }\n\n  public disconnect(){\n    this.socket.disconnect();\n  }\n\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  server: 'http://localhost:3000'\n};\n","import { enableProdMode } from '@angular/core';\nexport { AppServerModule } from './app/app.server.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n","module.exports = require(\"@angular/animations\");","module.exports = require(\"@angular/animations/browser\");","module.exports = require(\"@angular/cdk/a11y\");","module.exports = require(\"@angular/cdk/bidi\");","module.exports = require(\"@angular/cdk/keycodes\");","module.exports = require(\"@angular/cdk/observers\");","module.exports = require(\"@angular/cdk/overlay\");","module.exports = require(\"@angular/cdk/platform\");","module.exports = require(\"@angular/cdk/portal\");","module.exports = require(\"@angular/cdk/scrolling\");","module.exports = require(\"@angular/cdk/text-field\");","module.exports = require(\"@angular/common\");","module.exports = require(\"@angular/common/http\");","module.exports = require(\"@angular/core\");","module.exports = require(\"@angular/flex-layout\");","module.exports = require(\"@angular/flex-layout/core\");","module.exports = require(\"@angular/flex-layout/extended\");","module.exports = require(\"@angular/flex-layout/flex\");","module.exports = require(\"@angular/flex-layout/server\");","module.exports = require(\"@angular/forms\");","module.exports = require(\"@angular/http\");","module.exports = require(\"@angular/material/button\");","module.exports = require(\"@angular/material/card\");","module.exports = require(\"@angular/material/chips\");","module.exports = require(\"@angular/material/core\");","module.exports = require(\"@angular/material/datepicker\");","module.exports = require(\"@angular/material/dialog\");","module.exports = require(\"@angular/material/divider\");","module.exports = require(\"@angular/material/form-field\");","module.exports = require(\"@angular/material/icon\");","module.exports = require(\"@angular/material/input\");","module.exports = require(\"@angular/material/list\");","module.exports = require(\"@angular/material/tabs\");","module.exports = require(\"@angular/material/toolbar\");","module.exports = require(\"@angular/platform-browser\");","module.exports = require(\"@angular/platform-browser/animations\");","module.exports = require(\"@angular/platform-server\");","module.exports = require(\"@angular/router\");","module.exports = require(\"@ngrx/effects\");","module.exports = require(\"@ngrx/store\");","module.exports = require(\"@ngrx/store-devtools\");","module.exports = require(\"@nguniversal/module-map-ngfactory-loader\");","module.exports = require(\"rxjs\");","module.exports = require(\"rxjs/operators\");","module.exports = require(\"socket.io-client\");"],"sourceRoot":""}