{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app-routing.module.ts","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/auth/auth-routing.module.ts","webpack:///./src/app/auth/auth.component.css","webpack:///./src/app/auth/auth.component.html","webpack:///./src/app/auth/auth.component.ts","webpack:///./src/app/auth/auth.module.ts","webpack:///./src/app/auth/signin/signin.component.css","webpack:///./src/app/auth/signin/signin.component.html","webpack:///./src/app/auth/signin/signin.component.ts","webpack:///./src/app/auth/signup/signup.component.css","webpack:///./src/app/auth/signup/signup.component.html","webpack:///./src/app/auth/signup/signup.component.ts","webpack:///./src/app/auth/store/auth.actions.ts","webpack:///./src/app/auth/store/auth.effects.ts","webpack:///./src/app/auth/store/auth.reducers.ts","webpack:///./src/app/core/core-routing.module.ts","webpack:///./src/app/core/core.module.ts","webpack:///./src/app/core/header/header.component.css","webpack:///./src/app/core/header/header.component.html","webpack:///./src/app/core/header/header.component.ts","webpack:///./src/app/core/main/main.component.css","webpack:///./src/app/core/main/main.component.html","webpack:///./src/app/core/main/main.component.ts","webpack:///./src/app/friends/chats/store/chats.actions.ts","webpack:///./src/app/friends/store/friends.actions.ts","webpack:///./src/app/message/store/message.actions.ts","webpack:///./src/app/message/store/message.effects.ts","webpack:///./src/app/message/store/message.reducers.ts","webpack:///./src/app/models/user.model.ts","webpack:///./src/app/search/store/search.actions.ts","webpack:///./src/app/shared/safeHtml.pipe.ts","webpack:///./src/app/shared/server.interceptor.ts","webpack:///./src/app/shared/shared.module.ts","webpack:///./src/app/shared/socket.service.ts","webpack:///./src/app/store/app.reducers.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts","webpack:///ws (ignored)"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["var map = {\n\t\"../friends/friends.module\": [\n\t\t\"./src/app/friends/friends.module.ts\",\n\t\t\"friends-friends-module\"\n\t],\n\t\"../message/message.module\": [\n\t\t\"./src/app/message/message.module.ts\",\n\t\t\"message-message-module\"\n\t],\n\t\"../search/search.module\": [\n\t\t\"./src/app/search/search.module.ts\",\n\t\t\"search-search-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar module = __webpack_require__(ids[0]);\n\t\treturn module;\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\n\nconst appRoutes: Routes=[\n  {path: '', redirectTo: 'auth/signup', pathMatch: 'full'},\n  // {path: '**', redirectTo: '/'}\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forRoot(appRoutes)\n  ],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule{}\n","module.exports = \"\"","module.exports = \"<!--The content below is only a placeholder and can be replaced.-->\\n<div fxLayout=\\\"column\\\" fxLayoutGap=\\\"1vh\\\" fxLayoutAlign=\\\"center\\\">\\n  <app-header></app-header>\\n  <router-outlet></router-outlet>\\n</div>\\n\"","import { Component } from '@angular/core';\nimport { ViewChild } from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.css']\n})\nexport class AppComponent {\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\nimport { FlexLayoutModule } from '@angular/flex-layout';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\nimport { HttpClientModule } from \"@angular/common/http\";\n\nimport { AppComponent } from './app.component';\n\nimport { AppRoutingModule }from './app-routing.module';\nimport { AuthModule } from './auth/auth.module';\nimport { CoreModule } from './core/core.module';\n\nimport { StoreModule} from '@ngrx/store';\nimport { EffectsModule } from '@ngrx/effects';\nimport { reducers } from './store/app.reducers';\nimport { AuthEffects } from './auth/store/auth.effects';\n\nimport {StoreDevtoolsModule} from '@ngrx/store-devtools';\nimport {environment} from '../environments/environment';\n\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserModule.withServerTransition({appId: 'my-app'}),\n    FlexLayoutModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    AppRoutingModule,\n    AuthModule,\n    CoreModule,\n    StoreModule.forRoot(reducers),\n    EffectsModule.forRoot([AuthEffects]),\n    !environment.production ? StoreDevtoolsModule.instrument() : []\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { AuthComponent } from './auth.component';\nimport { SignupComponent } from './signup/signup.component';\nimport { SigninComponent } from './signin/signin.component';\n\nconst authRoutes: Routes=[\n  {path: 'auth', component: AuthComponent,//need to take care IF i wan to lazy load this later\n  children:[\n    {path:'signup', component: SignupComponent},\n    {path:'signin', component: SigninComponent}\n  ]},\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(authRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class AuthRoutingModule{}\n","module.exports = \"\"","module.exports = \"<div fxLayout=\\\"column\\\" fxLayoutAlign=\\\"center center\\\" style=\\\"margin-bottom: 15px\\\">\\n  <mat-card>\\n    <mat-card-title>Welcome!</mat-card-title>\\n    <mat-card-content>\\n      {{content}}\\n    </mat-card-content>\\n  </mat-card>\\n</div>\\n\\n\\n<router-outlet (activate)=\\\"onActivate($event)\\\"></router-outlet>\\n\"","import { Component, OnInit, Input } from '@angular/core';\nimport { SigninComponent } from './signin/signin.component';\n\n@Component({\n  selector: 'app-auth',\n  templateUrl: './auth.component.html',\n  styleUrls: ['./auth.component.css']\n})\nexport class AuthComponent implements OnInit {\n\n  content = 'This app lets you connect and chat with friends.';\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n  onActivate(event){\n    if(event instanceof SigninComponent)\n      this.content = 'This app lets you connect and chat with friends.'\n    else\n      this.content = 'Just fill up the fields below and you are ready to go!'\n  }\n\n}\n","import { NgModule } from \"@angular/core\";\nimport { SignupComponent } from \"./signup/signup.component\";\nimport { SigninComponent } from './signin/signin.component';\nimport { AuthRoutingModule } from \"./auth-routing.module\";\nimport { AuthComponent } from \"./auth.component\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { SafeHtmlPipe } from \"../shared/safeHtml.pipe\";\n\n@NgModule({\n    declarations:[\n      AuthComponent,\n      SignupComponent,\n      SigninComponent,\n      SafeHtmlPipe\n    ],\n    imports:[\n      AuthRoutingModule,\n      SharedModule\n    ]\n})\n\nexport class AuthModule{}\n","module.exports = \"form{\\n  max-width: 600px;\\n  margin: 0 auto;\\n}\\n\\n.mat-raised-button{\\n  max-width:1.8em;\\n  align-self: flex-end;\\n}\\n\"","module.exports = \"<form (ngSubmit)=\\\"onSubmitForm(f)\\\" #f=\\\"ngForm\\\" fxLayout=\\\"column\\\" fxLayoutGap=\\\"15px;\\\">\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Email\\\" ngModel name=\\\"email\\\" email required #emailInput=\\\"ngModel\\\">\\n    <mat-error *ngIf=\\\"emailInput.invalid\\\">{{getEmailError()}}</mat-error>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Enter your password\\\" ngModel name=\\\"password\\\" [type]=\\\"hide ? 'password' : 'text'\\\" required minlength=\\\"6\\\" #passwordInput=\\\"ngModel\\\">\\n    <mat-icon matSuffix (click)=\\\"hide = !hide\\\" style=\\\"cursor: pointer\\\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\\n    <mat-error *ngIf=\\\"passwordInput.invalid\\\">{{getPasswordError()}}</mat-error>\\n  </mat-form-field>\\n  <p class=\\\"error\\\" *ngIf=\\\"signinError\\\">{{signinError}}</p>\\n  <br>\\n  <button mat-raised-button color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"f.invalid\\\">Sign In</button>\\n</form>\\n\"","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as AuthActions from '../store/auth.actions';\nimport { NgForm } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signin',\n  templateUrl: './signin.component.html',\n  styleUrls: ['./signin.component.css']\n})\nexport class SigninComponent implements OnInit, OnDestroy {\n  @ViewChild('emailInput') email;\n  @ViewChild('passwordInput') password;\n  hide = true;\n  signinError = '';\n  authStateError: Subscription;\n\n  constructor(private store: Store<fromApp.AppState>, private router: Router) { }\n\n  ngOnInit() {\n    this.authStateError = this.store.select('auth')\n    .subscribe(\n      authState =>{\n        if(authState.signin_fail_message) this.signinError = authState.signin_fail_message;\n        if(authState.authenticated&&authState.token){\n            this.router.navigateByUrl(\"/main/search\");\n        }\n      }\n    )\n  }\n\n  getEmailError(){\n    return this.email.hasError('required') ? 'You must enter a value' :\n        this.email.hasError('email') ? 'Not a valid email' :\n            '';\n  }\n\n  getPasswordError(){\n    return this.password.hasError('required') ? 'You must enter a value' :\n        this.password.hasError('minlength') ? 'Minimum password length is 6' :\n            '';\n  }\n\n  onSubmitForm(myForm: NgForm){\n    const email = myForm.value.email;\n    const password = myForm.value.password;\n    console.log(email+\"   \"+password);\n    this.signinError = '';\n    //signup the user\n    this.store.dispatch(new AuthActions.Signin({email, password}));\n    //populate the to do list with data from db\n  }\n\n  ngOnDestroy(){\n    if(this.authStateError)this.authStateError.unsubscribe();\n  }\n}\n","module.exports = \"form{\\n  max-width: 600px;\\n  margin: 0 auto;\\n}\\n\\n.mat-raised-button{\\n  max-width:1.8em;\\n  align-self: flex-end;\\n}\\n\"","module.exports = \"<form (ngSubmit)=\\\"onSubmitForm(f)\\\" #f=\\\"ngForm\\\" fxLayout=\\\"column\\\" fxLayoutGap=\\\"15px;\\\">\\n  <div fxLayout=\\\"row\\\" fxLayoutAlign=\\\"space-between\\\">\\n    <div fxFlex>\\n      <img alt=\\\"Angular Logo\\\" width=120px height=120px [src]=\\\"avatar | safeHtml\\\">\\n    </div>\\n    <div fxFlex fxFlexAlign=\\\"center\\\">\\n      <p>Please upload picture smaller than 50kb and size smaller than 200px x 200px.</p>\\n      <input type=\\\"file\\\" id=\\\"filePicker\\\"  (change)=\\\"onSelectImage($event)\\\">\\n    </div>\\n  </div>\\n  <p class=\\\"error\\\" *ngIf=\\\"uploadError\\\">{{uploadError}}</p>\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Name\\\" ngModel name=\\\"name\\\" required #nameInput=\\\"ngModel\\\">\\n    <mat-error *ngIf=\\\"nameInput.invalid\\\">You must enter a value</mat-error>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Email\\\" ngModel name=\\\"email\\\" email required #emailInput=\\\"ngModel\\\">\\n    <mat-error *ngIf=\\\"emailInput.invalid\\\">{{getEmailError()}}</mat-error>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <input matInput [matDatepicker]=\\\"picker\\\" ngModel name=\\\"dob\\\" placeholder=\\\"Choose a date\\\" required #dobInput=\\\"ngModel\\\">\\n    <mat-datepicker-toggle matSuffix [for]=\\\"picker\\\"></mat-datepicker-toggle>\\n    <mat-datepicker #picker></mat-datepicker>\\n    <mat-error *ngIf=\\\"dobInput.invalid\\\">You must enter a valid DOB</mat-error>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Address\\\" ngModel name=\\\"address\\\" required #addressInput=\\\"ngModel\\\">\\n    <mat-error *ngIf=\\\"nameInput.invalid\\\">You must enter an valid address</mat-error>\\n  </mat-form-field>\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Hobbies\\\" ngModel name=\\\"hobbies\\\">\\n  </mat-form-field>\\n  <mat-form-field>\\n    <input matInput placeholder=\\\"Enter your password\\\" ngModel name=\\\"password\\\" [type]=\\\"hide ? 'password' : 'text'\\\" required minlength=\\\"6\\\" #passwordInput=\\\"ngModel\\\">\\n    <mat-icon matSuffix (click)=\\\"hide = !hide\\\" style=\\\"cursor: pointer\\\">{{hide ? 'visibility' : 'visibility_off'}}</mat-icon>\\n    <mat-error *ngIf=\\\"passwordInput.invalid\\\">{{getPasswordError()}}</mat-error>\\n  </mat-form-field>\\n  <p class=\\\"error\\\" *ngIf=\\\"signupError\\\">{{signupError}}</p>\\n  <br>\\n  <button mat-raised-button color=\\\"primary\\\" type=\\\"submit\\\" [disabled]=\\\"f.invalid\\\">Sign Up</button>\\n</form>\\n\"","import { Component, OnInit, ViewChild, OnDestroy } from '@angular/core';\nimport { NgForm } from '@angular/forms';\nimport { User } from '../../models/user.model';\n\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as AuthActions from '../store/auth.actions';\nimport { Subscription } from 'rxjs/Subscription';\n\nimport { Observable } from 'rxjs';\nimport { skipWhile, take } from 'rxjs/operators'; //tap is what-used-to be 'do'\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-signup',\n  templateUrl: './signup.component.html',\n  styleUrls: ['./signup.component.css']\n})\nexport class SignupComponent implements OnInit, OnDestroy {\n  @ViewChild('emailInput') email;\n  @ViewChild('passwordInput') password;\n\n  noavatar: string = \"data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QCARXhpZgAASUkqAAgAAAAEABoBBQABAAAAPgAAABsBBQABAAAARgAAACgBAwABAAAAAgAAAGmHBAABAAAATgAAAAAAAABIAAAAAQAAAEgAAAABAAAAAwAAkAcABAAAADAyMTAAoAcABAAAADAxMDABoAMAAQAAAP//AAAAAAAA/+EDDGh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8APD94cGFja2V0IGJlZ2luPSfvu78nIGlkPSdXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQnPz4KPHg6eG1wbWV0YSB4bWxuczp4PSdhZG9iZTpuczptZXRhLyc+CjxyZGY6UkRGIHhtbG5zOnJkZj0naHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyc+CgogPHJkZjpEZXNjcmlwdGlvbiB4bWxuczp4bXA9J2h0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8nPgogIDx4bXA6Q3JlYXRvclRvb2w+QWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiA8L3JkZjpEZXNjcmlwdGlvbj4KCiA8cmRmOkRlc2NyaXB0aW9uIHhtbG5zOnhtcE1NPSdodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vJz4KICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjI4N0JFQzI0RDgxMzExRTVCOThBQ0Q4OTc1RjNCODlCPC94bXBNTTpJbnN0YW5jZUlEPgogIDx4bXBNTTpJbnN0YW5jZUlEPnhtcC5paWQ6Mjg3QkVDMjREODEzMTFFNUI5OEFDRDg5NzVGM0I4OUI8L3htcE1NOkluc3RhbmNlSUQ+CiAgPHhtcE1NOkRvY3VtZW50SUQgcmRmOnJlc291cmNlPSd4bXAuZGlkOjI4N0JFQzI1RDgxMzExRTVCOThBQ0Q4OTc1RjNCODlCJyAvPgogIDx4bXBNTTpEZXJpdmVkRnJvbSByZGY6cGFyc2VUeXBlPSdSZXNvdXJjZSc+CiAgPC94bXBNTTpEZXJpdmVkRnJvbT4KIDwvcmRmOkRlc2NyaXB0aW9uPgoKPC9yZGY6UkRGPgo8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\";\n\n  avatar = this.noavatar;\n\n  authStateError: Subscription;\n\n  hide = true;\n  uploadError = '';\n  signupError = '';\n\n  constructor(private store: Store<fromApp.AppState>, private router: Router) { }\n\n  ngOnInit() {\n    this.authStateError = this.store.select('auth')//i dont want to take 1 coz I want this observation to keep continuing\n    //even though after first auth failure\n    .subscribe(\n      authState =>{\n        if(authState.signup_fail_message){\n          this.signupError = authState.signup_fail_message;\n        }\n        if(authState.authenticated&&authState.token){\n              this.router.navigateByUrl(\"/main/search\");\n        }\n      }\n    )\n  }\n\n  onSelectImage(event){\n    this.uploadError = \"\";\n    if (event.target.files && event.target.files[0]) {\n     if(event.target.files[0].size>51200){\n       return this.uploadError = \"please upload file smaller than 50kb\";\n     }\n\n     let reader = new FileReader();\n\n     reader.readAsDataURL(event.target.files[0]); // read file as data url\n\n     reader.onload = (e: any) => { // called once readAsDataURL is completed\n       //check image size before assigning to avatar variable\n      let image = new Image();\n      image = e.target.result;\n      if(image.width > 200 || image.height > 200){\n        return this.uploadError = 'please upload image smaller than 200px x 200px';\n      }\n\n      this.avatar = e.target.result;\n     }\n   }\n  }\n\n\n  getEmailError(){\n    return this.email.hasError('required') ? 'You must enter a value' :\n        this.email.hasError('email') ? 'Not a valid email' :\n            '';\n  }\n\n  getPasswordError(){\n    return this.password.hasError('required') ? 'You must enter a value' :\n        this.password.hasError('minlength') ? 'Minimum password length is 6' :\n            '';\n  }\n\n  onSubmitForm(myForm: NgForm){\n    console.log(myForm);\n    const user = new User(\n      this.avatar,\n      myForm.value.name,\n      myForm.value.dob.getTime(), //dob is a Date object, convert it to unix time number\n      myForm.value.email,\n      myForm.value.address,\n      myForm.value.hobbies,\n      myForm.value.password\n    )\n    this.signupError='';\n    this.store.dispatch(new AuthActions.Signup(user));\n\n  }\n\n  ngOnDestroy(){\n    if(this.authStateError) this.authStateError.unsubscribe();\n  }\n\n}\n","import { Action } from \"@ngrx/store\";\nimport { User } from \"../../models/user.model\";\n\nexport const SIGNUP_FAIL = 'SIGNUP_FAIL';\nexport const SIGNIN_FAIL = 'SIGNIN_FAIL';\nexport const SIGNUP = 'SIGNUP';\nexport const SIGNIN = 'SIGNIN';\nexport const LOGOUT = 'LOGOUT';\nexport const AFTER_LOGOUT = 'AFTER_LOGOUT';\nexport const SET_TOKEN = 'SET_TOKEN';\n\nexport class SignupFail implements Action{\n  readonly type = SIGNUP_FAIL;\n\n  constructor(public payload: string){};\n}\n\nexport class SigninFail implements Action{\n  readonly type = SIGNIN_FAIL;\n\n  constructor(public payload: string){};\n}\n\nexport class Signup implements Action{\n  readonly type = SIGNUP;\n\n  constructor(public payload:User){}\n}\nexport class Signin implements Action{\n  readonly type = SIGNIN;\n\n  constructor(public payload:{email: string, password: string}){}\n}\nexport class Logout implements Action{\n  readonly type = LOGOUT;\n}\nexport class AfterLogout implements Action{\n  readonly type = AFTER_LOGOUT;\n}\n\nexport class SetToken implements Action{\n  readonly type = SET_TOKEN;\n\n  constructor(public payload: string){}\n}\n\n\nexport type AuthActions = Signin | Signup | Logout | AfterLogout | SetToken | SignupFail | SigninFail;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects'\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { environment } from '../../../environments/environment';\nimport * as AuthActions from './auth.actions';\nimport { User } from '../../models/user.model';\n\nimport { Observable, of, pipe, from } from 'rxjs'; //from is what used to be 'fromPromise'\nimport { map, tap, switchMap, catchError } from 'rxjs/operators'; //tap is what-used-to be 'do'\n\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class AuthEffects{\n  @Effect({ dispatch: false })\n  logActions$ = this.actions$.pipe(\n    tap(action => {\n      console.log(action);\n    })\n  );\n\n  @Effect()\n  authSignup = this.actions$.ofType(AuthActions.SIGNUP).pipe(\n    map((action: AuthActions.Signup) =>{\n      console.log(\"auth actions try signup\");\n      return action.payload;\n      //return Observable<payload:User>\n    }),\n    switchMap((authData: User)=>{\n      return this.httpClient.post(SERVER_PATH+'/user',JSON.stringify(authData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error sign up \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('signup error resp');\n        return of({type:AuthActions.SIGNUP_FAIL, payload: resp['error']})\n        //the last return is going to be handled by effects\n      }\n      //else its going to be an object with the token\n      return of({type:AuthActions.SET_TOKEN, payload: resp['token']});\n    })\n  );\n\n  @Effect()\n  authSignin = this.actions$.ofType(AuthActions.SIGNIN).pipe(\n    map((action: AuthActions.Signin) => action.payload),\n    switchMap((authData: {email:string, password:string})=>{\n      return this.httpClient.post(SERVER_PATH+'/user/login',JSON.stringify(authData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error sign in \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('signin error resp');\n        return of({type:AuthActions.SIGNIN_FAIL, payload: resp['error']})\n        //the last return is going to be handled by effects\n      }\n      //else its going to be an object with the token\n      return of({type:AuthActions.SET_TOKEN, payload: resp['token']});\n    })\n  )\n\n  @Effect()\n  logout = this.actions$.ofType(AuthActions.LOGOUT).pipe(\n    switchMap(()=>{\n      return this.httpClient.delete(SERVER_PATH+'/user/me/token',\n              {\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error logging out \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        console.log('log out error', resp.error);\n      }\n      return of({type:AuthActions.AFTER_LOGOUT});//clean up\n    })\n  )\n\n  constructor(private actions$: Actions, private httpClient: HttpClient){}\n}\n","import * as AuthActions from './auth.actions';\n\nexport interface State{\n    token : string;\n    email: string;\n    name: string;\n    authenticated : boolean;\n    signup_fail_message: string;\n    signin_fail_message: string;\n}\n\nconst initialState: State ={\n  token : null,\n  email: null,\n  name: null,\n  authenticated : false,\n  signup_fail_message: null,\n  signin_fail_message: null\n}\n\nexport function authReducer(state=initialState, action: AuthActions.AuthActions){\n  switch(action.type){\n    case AuthActions.SIGNUP_FAIL:\n      console.log(\"sign up failed reducer called\");\n      return {\n        ...state,\n        signup_fail_message: action.payload\n      }\n    case AuthActions.SIGNIN_FAIL:\n      console.log(\"sign in failed reducer called\");\n      return {\n        ...state,\n        signin_fail_message: action.payload\n      }\n    case AuthActions.SIGNUP:\n      console.log(\"sign up reducer called\");\n    case AuthActions.SIGNIN:\n      return{\n        ...state,\n        signup_fail_message: null,\n        signin_fail_message: null\n      };\n    case AuthActions.AFTER_LOGOUT:\n      console.log(\"reducer after logout\");\n      return{\n        ...state,\n        ...initialState\n      };\n    case AuthActions.SET_TOKEN:\n      const jwt_payload = action.payload.split('.')[1];\n      const obj_payload = JSON.parse(atob(jwt_payload));\n      console.log(\"set token reducer called\",obj_payload);\n      return{\n        ...state,\n        token: action.payload,\n        email: obj_payload['email'],\n        name: obj_payload['name'],\n        authenticated: true\n      };\n    default:\n      return state;\n  }\n}\n","import { Routes, RouterModule } from '@angular/router';\nimport { NgModule } from '@angular/core';\nimport { MainComponent } from './main/main.component';\nimport { SearchComponent } from '../search/search.component';\nimport { FriendsComponent } from '../friends/friends.component';\n\nconst mainRoutes: Routes=[\n  {path: 'main', component: MainComponent,//need to take care IF i wan to lazy load this later\n  children:[\n    {path:'search', loadChildren: '../search/search.module#SearchModule'},\n    {path:'friends', loadChildren: '../friends/friends.module#FriendsModule'},\n    {path:'inbox', loadChildren: '../message/message.module#MessageModule'}\n  ]},\n]\n\n@NgModule({\n  imports:[\n    RouterModule.forChild(mainRoutes)\n  ],\n  exports: [RouterModule]\n})\n\nexport class CoreRoutingModule{}\n","import { NgModule } from \"@angular/core\";\nimport { SharedModule } from \"../shared/shared.module\";\nimport { HeaderComponent } from \"./header/header.component\";\nimport { MainComponent } from \"./main/main.component\";\nimport { CoreRoutingModule } from \"./core-routing.module\";\nimport { HTTP_INTERCEPTORS } from \"@angular/common/http\";\nimport { ServerInterceptor } from \"../shared/server.interceptor\";\nimport { SocketService } from \"../shared/socket.service\";\nimport { StoreModule } from \"@ngrx/store\";\nimport { EffectsModule } from \"@ngrx/effects\";\nimport { messageReducer } from \"../message/store/message.reducers\";\nimport { MessageEffects } from \"../message/store/message.effects\";\n\n@NgModule({\n  declarations:[\n    HeaderComponent,\n    MainComponent\n  ],\n  imports:[\n    CoreRoutingModule,\n    SharedModule,\n    StoreModule.forFeature('message',messageReducer),\n    EffectsModule.forFeature([MessageEffects])\n  ],\n  exports:[\n    HeaderComponent\n  ],\n  providers:[\n    {provide: HTTP_INTERCEPTORS, useClass: ServerInterceptor, multi: true },\n    SocketService\n  ]\n\n})\nexport class CoreModule {}\n","module.exports = \"p {\\n  font-size: 100%\\n}\\n\"","module.exports = \"<div fxLayout=\\\"column\\\">\\n  <mat-toolbar color='primary' fxLayout.xs=\\\"column\\\" ngStyle.xs=\\\"height: 7em;\\\">\\n    <button mat-button routerLink=\\\"\\\"><b>Chat-wall</b></button>\\n    <span ngStyle.gt-xs=\\\"flex: 1 1 100%\\\"></span>\\n\\n    <button mat-button *ngIf=\\\"authenticatedState|async; else notAuthenticated\\\" (click)=\\\"onLogout()\\\">Log Out</button>\\n\\n    <ng-template #notAuthenticated>\\n      <button mat-button routerLink=\\\"auth/signup\\\">Sign up</button>\\n      <button mat-button routerLink=\\\"auth/signin\\\">Sign In</button>\\n    </ng-template>\\n\\n  </mat-toolbar>\\n\\n  <p fxFlexAlign=\\\"end\\\" *ngIf=\\\"usernameState|async\\\">Welcome, {{usernameState|async}}!</p>\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as AuthActions from '../../auth/store/auth.actions';\nimport * as FriendsActions from '../../friends/store/friends.actions';\nimport * as ChatsActions from '../../friends/chats/store/chats.actions';\nimport * as SearchActions from '../../search/store/search.actions';\nimport * as MessageActions from '../../message/store/message.actions';\nimport { Observable } from 'rxjs';\nimport { Router } from '@angular/router';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { SocketService } from '../../shared/socket.service';\n\n@Component({\n  selector: 'app-header',\n  templateUrl: './header.component.html',\n  styleUrls: ['./header.component.css']\n})\nexport class HeaderComponent implements OnInit {\n\n  authenticatedState: Observable<boolean>;\n  usernameState: Observable<string>;\n  constructor(private store: Store<fromApp.AppState>, private router: Router, private socketService: SocketService) { }\n\n  ngOnInit() {\n    this.authenticatedState = this.store.select('auth','authenticated');\n    this.usernameState = this.store.select('auth','name');\n  }\n\n  onLogout(){\n    this.store.dispatch(new AuthActions.Logout());\n    this.store.select('auth','authenticated').pipe(\n      skipWhile((authenticated:boolean)=>authenticated===true),\n      take(1)\n    ).subscribe(\n      (authenticated)=>{\n        this.socketService.disconnect();\n        this.router.navigateByUrl('/auth/signin');\n      }\n    );\n\n    //clear all the stores\n    this.store.dispatch(new FriendsActions.ClearStore());\n    this.store.dispatch(new ChatsActions.ClearStore());\n    this.store.dispatch(new SearchActions.ClearStore());\n    this.store.dispatch(new MessageActions.ClearStore());\n  }\n\n}\n","module.exports = \"nav {\\n  max-width: 1000px;\\n  margin: 0 auto;\\n}\\n\\np{\\n  font-size: 75%;\\n}\\n\\n.blink_me {\\n  -webkit-animation: blinker 1s linear infinite;\\n          animation: blinker 1s linear infinite;\\n}\\n\\n@-webkit-keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\\n@keyframes blinker {\\n  50% {\\n    opacity: 0;\\n  }\\n}\\n\"","module.exports = \"<div class=\\\"nav-tab\\\" fxLayout=\\\"column\\\" fxLayoutGap=\\\".5vh\\\" fxLayoutAlign=\\\"center\\\">\\n  <p>Notification area: <span class=\\\"blink_me\\\">{{newMessage}}</span></p>\\n  <nav mat-tab-nav-bar>\\n    <a mat-tab-link\\n       routerLink=\\\"/main/search\\\"\\n       routerLinkActive #rla1=\\\"routerLinkActive\\\"\\n       [active]=\\\"rla1.isActive\\\">\\n      Search\\n    </a>\\n    <a mat-tab-link\\n       routerLink=\\\"/main/friends\\\"\\n       routerLinkActive #rla2=\\\"routerLinkActive\\\"\\n       [active]=\\\"rla2.isActive\\\">\\n      Friends\\n    </a>\\n    <a mat-tab-link\\n       routerLink=\\\"/main/inbox\\\"\\n       routerLinkActive #rla3=\\\"routerLinkActive\\\"\\n       [active]=\\\"rla3.isActive\\\">\\n      Inbox\\n    </a>\\n  </nav>\\n  <router-outlet></router-outlet>\\n</div>\\n\"","import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { SocketService } from '../../shared/socket.service';\nimport { Subscription } from 'rxjs';\nimport { Store } from '@ngrx/store';\nimport * as fromApp from '../../store/app.reducers';\nimport * as MessageActions from '../../message/store/message.actions';\nimport { skipWhile, take } from 'rxjs/operators';\nimport { User } from '../../models/user.model';\n\n@Component({\n  selector: 'app-main',\n  templateUrl: './main.component.html',\n  styleUrls: ['./main.component.css']\n})\nexport class MainComponent implements OnInit, OnDestroy {\n\n  private socketSub: Subscription;\n  private msgSub: Subscription;\n  newMessage = '';\n  constructor(private socketService: SocketService, private store: Store<fromApp.AppState>) { }\n\n  ngOnInit() {//main should only init once login\n    this.socketService.initSocket();\n\n    this.socketSub = this.socketService.onNewMessage().subscribe(//active listening\n      (messages)=>{\n        this.store.dispatch(new MessageActions.PushNewMessages(messages))\n      }\n      //when get that 1 new message, push message into message's store\n    )\n\n    this.msgSub = this.store.select('message','messages').subscribe(\n      (messages)=>{\n        const newMsg = messages.filter((msg)=>msg.status!=='READ');\n        if(newMsg.length>0) this.newMessage = 'You\\'ve got new message! Check your inbox.';\n        else this.newMessage = '';\n      }\n    )\n\n    this.store.dispatch(new MessageActions.FetchAllMessages());\n  }\n\n  ngOnDestroy(){\n    if(this.socketSub) this.socketSub.unsubscribe();\n    if(this.msgSub) this.msgSub.unsubscribe();\n  }\n\n}\n","import { Action } from \"@ngrx/store\";\nimport { Chat } from \"../../../models/chat.model\";\n\nexport const SELECT_FRIEND = 'SELECT_FRIEND';;\nexport const UPDATE_SELECTED_FRIEND_STATUS = 'UPDATE_SELECTED_FRIEND_STATUS';\nexport const STORE_CHAT_ARRAY = 'STORE_CHAT_ARRAY';\nexport const UPDATE_CHAT_ARRAY = 'UPDATE_CHAT_ARRAY';\nexport const READ_CHAT_FAIL = 'READ_CHAT_FAIL';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class SelectFriend implements Action{\n  readonly type = SELECT_FRIEND\n\n  constructor(public payload: {email:string, name:string, online:boolean}){}\n}\n\nexport class UpdateSelectedFriendStatus implements Action{\n  readonly type = UPDATE_SELECTED_FRIEND_STATUS;\n\n  constructor(public payload: {email:string, name:string, online:boolean}){}\n}\n\nexport class StoreChatArray implements Action{\n  readonly type = STORE_CHAT_ARRAY\n\n  constructor(public payload: Chat[]){}\n}\n\nexport class UpdateChatArray implements Action{\n  readonly type = 'UPDATE_CHAT_ARRAY'\n\n  constructor(public payload: Chat){}\n}\n\nexport class ReadChatFail implements Action{\n  readonly type = READ_CHAT_FAIL\n\n  constructor(public payload: string){}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type ChatsActions = SelectFriend | UpdateSelectedFriendStatus| StoreChatArray | UpdateChatArray | ReadChatFail | ClearStore;\n","import { Action } from \"@ngrx/store\";\nimport { User } from \"../../models/user.model\";\n\nexport const GET_FRIENDS_LIST = 'GET_FRIENDS_LIST';\nexport const STORE_FRIENDS_LIST = 'STORE_FRIENDS_LIST';\nexport const GET_FRIENDS_FAIL = 'GET_FRIENDS_FAIL';\nexport const UPDATE_FRIEND_ONLINE_STATUS = 'UPDATE_FRIEND_ONLINE_STATUS';\nexport const UPDATE_FRIEND_CHAT_STATUS = 'UPDATE_FRIEND_CHAT_STATUS';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class GetFriendsList implements Action{\n  readonly type = GET_FRIENDS_LIST;\n}\n\nexport class StoreFriendsList implements Action{\n  readonly type = STORE_FRIENDS_LIST;\n\n  constructor(public payload: User[]){}\n}\n\nexport class GetFriendsFail implements Action{\n  readonly type = GET_FRIENDS_FAIL;\n\n  constructor(public payload: String){}\n}\n\nexport class UpdateFriendOnlineStatus implements Action{\n  readonly type = UPDATE_FRIEND_ONLINE_STATUS;\n\n  constructor(public payload: User){}\n}\n\nexport class UpdateFriendChatStatus implements Action{\n  readonly type = UPDATE_FRIEND_CHAT_STATUS;\n\n  constructor(public payload: {email:string,name:string,status:string}){}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type FriendsActions = GetFriendsList | StoreFriendsList | GetFriendsFail | UpdateFriendOnlineStatus | UpdateFriendChatStatus | ClearStore;\n","import { Action } from \"@ngrx/store\";\nimport { Message } from \"../../models/message.model\";\n\nexport const FETCH_ALL_MESSAGES = 'FETCH_ALL_MESSAGES';\nexport const READ_ALL_MESSAGES = 'READ_ALL_MESSAGES';\nexport const STORE_ALL_MESSAGES = 'STORE_ALL_MESSAGES';\nexport const PUSH_NEW_MESSAGES = 'PUSH_NEW_MESSAGES';\nexport const GET_MESSAGES_FAIL = 'GET_MESSAGES_FAIL';\nexport const ACCEPT_FRIEND = 'ACCEPT_FRIEND';\nexport const REJECT_FRIEND = 'REJECT_FRIEND';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class FetchAllMessages implements Action{\n  readonly type = FETCH_ALL_MESSAGES;\n}\n\nexport class ReadAllMessages implements Action{\n  readonly type = READ_ALL_MESSAGES;\n}\n\nexport class StoreAllMessages implements Action{\n  readonly type = STORE_ALL_MESSAGES;\n\n  constructor(public payload: Message[]){}\n}\n\nexport class PushNewMessages implements Action{\n  readonly type = PUSH_NEW_MESSAGES;\n\n  constructor(public payload: Message[]){}\n}\n\nexport class GetMessagesFail implements Action{\n  readonly type = GET_MESSAGES_FAIL;\n\n  constructor(public payload: String){}\n}\n\nexport class AcceptFriend implements Action{\n  readonly type = ACCEPT_FRIEND;\n\n  constructor(public payload: {email:string, name:string}){}\n}\n\nexport class RejectFriend implements Action{\n  readonly type = REJECT_FRIEND;\n\n  constructor(public payload: {email:string, name:string}){}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type MessageActions = FetchAllMessages | ReadAllMessages | StoreAllMessages | PushNewMessages | GetMessagesFail | AcceptFriend | RejectFriend | ClearStore;\n","import { Injectable } from '@angular/core';\nimport {Effect, Actions} from '@ngrx/effects'\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\n\nimport { environment } from '../../../environments/environment';\nimport * as MessageActions from './message.actions';\nimport { Message } from '../../models/message.model';\n\nimport { switchMap, catchError, map, concat, mergeMap, combineLatest } from 'rxjs/operators';\nimport { of, forkJoin} from 'rxjs';\nimport { SocketService } from '../../shared/socket.service';\n\nconst SERVER_PATH = environment.server;\n\n@Injectable()\nexport class MessageEffects{\n\n  @Effect()\n  fetchAllMessages = this.actions$.ofType(MessageActions.FETCH_ALL_MESSAGES).pipe(\n    switchMap(()=>{\n      return this.httpClient.get(SERVER_PATH+'/message/getallmessages',\n              {\n                  observe:'body',\n                  responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error getting messages \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }\n\n      return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n    })\n  );\n\n  @Effect()\n  readAllMessages = this.actions$.ofType(MessageActions.READ_ALL_MESSAGES).pipe(\n    switchMap(()=>{\n      return this.httpClient.get(SERVER_PATH+'/message/readallmessages',\n              {\n                  observe:'body',\n                  responseType:'json'\n              }).pipe(\n              catchError(err =>{\n                console.log(\"error reading messages \",err);\n                return of(err);\n              })\n            );\n    }),\n    switchMap((resp)=>{\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }\n\n      return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n    })\n  );\n\n  @Effect()\n  acceptFriend = this.actions$.ofType(MessageActions.ACCEPT_FRIEND).pipe(\n    map((action: MessageActions.AcceptFriend)=>action.payload),\n    // switchMap((friendData:{email:string, name:string})=>{\n    //   return this.httpClient.patch(SERVER_PATH+'/message/acceptfriend',JSON.stringify(friendData),\n    //           {\n    //             headers:{'Content-Type':'application/json'},\n    //             observe:'body',\n    //             responseType:'json'\n    //           }).pipe(\n    //           catchError(err =>{\n    //             console.log(\"error friend request\",err);\n    //             return of(err);\n    //           })\n    //         )\n    // }),\n    switchMap((friendData:{email:string, name:string})=>{\n      return this.httpClient.patch(SERVER_PATH+'/message/acceptfriend',JSON.stringify(friendData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n                map(resp=>{\n                    return {resp, friendData};\n                  }\n                ),\n                catchError(err =>{\n                  console.log(\"error friend request\",err);\n                  return of(err);\n                })\n            )\n    }),\n    switchMap((pair)=>{\n      const resp = pair.resp;\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }else{\n        this.socketService.friendAccepted(pair.friendData);\n        return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n      }\n    })\n  );\n\n  @Effect()\n  rejectFriend = this.actions$.ofType(MessageActions.REJECT_FRIEND).pipe(\n    map((action: MessageActions.RejectFriend)=>action.payload),\n    switchMap((friendData:{email:string, name:string})=>{\n      return this.httpClient.patch(SERVER_PATH+'/message/rejectfriend',JSON.stringify(friendData),\n              {\n                headers:{'Content-Type':'application/json'},\n                observe:'body',\n                responseType:'json'\n              }).pipe(\n                map(resp=>{\n                    return {resp, friendData};\n                  }\n                ),\n                catchError(err =>{\n                  console.log(\"error friend request\",err);\n                  return of(err);\n                })\n            );\n    }),\n    switchMap((pair)=>{\n      const resp = pair.resp;\n      if (resp instanceof HttpErrorResponse){\n        return of({type:MessageActions.GET_MESSAGES_FAIL, payload: resp['error']});\n      }else{\n        this.socketService.friendRejected(pair.friendData);\n        return of({type:MessageActions.STORE_ALL_MESSAGES, payload: resp['msgArray']});\n      }\n    })\n  );\n\n  constructor(private actions$: Actions, private httpClient: HttpClient, private socketService: SocketService){}\n\n}\n","import * as MessageActions from './message.actions';\nimport * as fromApp from '../../store/app.reducers';\nimport { Message } from '../../models/message.model';\n\nexport interface FeatureState extends fromApp.AppState{\n  message: State;\n}\n\nexport interface State{\n  messages: Message[];\n  getMessagesFailure: String;\n}\n\nconst initialState: State = {\n  messages: new Array<Message>(),\n  getMessagesFailure: null\n}\n\nexport function messageReducer(state=initialState, action: MessageActions.MessageActions){\n  switch(action.type){\n    case MessageActions.STORE_ALL_MESSAGES:\n      return{\n        ...state,\n        messages: [...action.payload],\n        getMessagesFailure: null\n      }\n    case MessageActions.PUSH_NEW_MESSAGES:\n      const newMessages = [...state.messages].concat([...action.payload]);\n      return{\n        ...state,\n        messages: [...newMessages]\n      }\n    case MessageActions.GET_MESSAGES_FAIL:\n      return{\n        ...state,\n        getMessagesFailure: action.payload\n      }\n    case MessageActions.CLEAR_STORE:\n      return{\n        ...state,\n        ...initialState\n      }\n    default:\n      return state;\n  }\n}\n","export class User{\n\n  constructor(public avatar:string, public name:string,\n    public dob:Date, public email:string,\n    public address:string, public hobbies:string, public password?: string,\n    public friends?: User[], public friends_requests?: User[], public online?: boolean, public status?: string){}\n\n}\n","import { Action } from \"@ngrx/store\";\nimport { User } from \"../../models/user.model\";\n\nexport const CLEAR_SEARCH = 'CLEAR_SEARCH';\nexport const SEARCH = 'SEARCH';\nexport const UPDATE_USERS_LIST = 'UPDATE_USERS_LIST';\nexport const SEARCH_FAIL = 'SEARCH_FAIL';\nexport const SEND_FRIEND_REQUEST = 'SEND_FRIEND_REQUEST';\nexport const UPDATE_USER = 'UPDATE_USER';\nexport const CLEAR_STORE = 'CLEAR_STORE';\n\nexport class ClearSearch implements Action{\n  readonly type = CLEAR_SEARCH;\n\n}\n\nexport class Search implements Action{\n  readonly type = SEARCH;\n\n  constructor(public payload: string){}\n}\n\nexport class UpdateUsersList implements Action{\n  readonly type = UPDATE_USERS_LIST;\n\n  constructor(public payload: User[]) {}\n}\n\nexport class UpdateUser implements Action{\n  readonly type = UPDATE_USER;\n\n  constructor(public payload: User){}\n}\n\nexport class SearchFail implements Action{\n  readonly type = SEARCH_FAIL;\n\n  constructor(public payload: string){}\n}\n\nexport class SendFriendRequest implements Action{\n  readonly type = SEND_FRIEND_REQUEST;\n\n  constructor(public payload: {email, name}) {}\n}\n\nexport class ClearStore implements Action{\n  readonly type = CLEAR_STORE;\n\n}\n\nexport type SearchActions = ClearSearch | Search | UpdateUsersList | UpdateUser | SearchFail | SendFriendRequest | ClearStore;\n","import { Pipe } from '@angular/core';\nimport { DomSanitizer } from '@angular/platform-browser';\n\n@Pipe({name: 'safeHtml'})\nexport class SafeHtmlPipe {\n  constructor(private sanitizer:DomSanitizer){}\n\n  transform(url) {\n    return this.sanitizer.bypassSecurityTrustResourceUrl(url);\n  }\n}\n","import { HttpInterceptor, HttpRequest, HttpHandler, HttpEvent } from \"@angular/common/http\";\nimport { Injectable } from \"@angular/core\";\nimport { Store } from \"@ngrx/store\";\n\nimport * as fromApp from '../store/app.reducers';\n\nimport { Observable } from \"rxjs\";\nimport { take, switchMap } from 'rxjs/operators';\n\n@Injectable()\nexport class ServerInterceptor implements HttpInterceptor{\n  constructor(private store: Store<fromApp.AppState>){}\n\n  intercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\n    return this.store.select('auth').pipe(\n      take(1),\n      switchMap((authState: fromApp.AppState['auth']) =>{\n          // console.log(\"token fetched is \"+ authState.token)\n          if(authState.authenticated&&authState.token){\n            const clonedReq = req.clone({headers: req.headers.append('x-auth', authState.token)});\n            return next.handle(clonedReq);\n          }else return next.handle(req);\n      })\n    )\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { CommonModule } from \"@angular/common\";\nimport { FormsModule } from \"@angular/forms\";\n\nimport { MatButtonModule, MatDatepickerModule, MatListModule,\n  MatToolbarModule, MatInputModule,\n  MatIconModule, MatFormFieldModule,\n  MatCardModule, MatTabsModule,\n  MatNativeDateModule,\n  MatChipsModule,\n  MatDividerModule} from \"@angular/material\";\nimport { FlexLayoutModule } from \"@angular/flex-layout\";\n\n@NgModule({\n  declarations:[],\n  exports:[\n    CommonModule,\n    FormsModule,\n    FlexLayoutModule,\n    MatCardModule,\n    MatTabsModule,\n    MatToolbarModule,\n    MatButtonModule,\n    MatInputModule,\n    MatFormFieldModule,\n    MatIconModule,\n    MatDatepickerModule,\n    MatListModule,\n    MatChipsModule,\n    MatNativeDateModule,\n    MatDividerModule\n  ],\n  providers: []\n})\n\nexport class SharedModule{}\n","import { Injectable } from \"@angular/core\";\nimport { environment } from \"../../environments/environment\";\nimport * as socketIo from 'socket.io-client';\nimport { Observable } from \"rxjs\";\nimport { Store } from \"@ngrx/store\";\nimport * as fromApp from '../store/app.reducers';\nimport { take } from \"rxjs/operators\";\nimport { Message } from \"../models/message.model\";\nimport { User } from \"../models/user.model\";\nimport { Chat } from \"../models/chat.model\";\n\nconst SERVER_URL = environment.server;\n\n@Injectable()\nexport class SocketService{\n  private socket;\n  constructor(private store: Store<fromApp.AppState>){}\n\n  public initSocket(){\n    let token = '';\n    this.store.select('auth').pipe(\n      take(1)\n    ).subscribe(\n      (auth)=>{\n        if(!auth.authenticated) return console.log('Not authenticated. Socket not initialized. Please sign in!');\n        token = auth.token;\n      }\n    )\n\n    this.socket = socketIo(SERVER_URL);\n\n    this.socket.on('connect', (function(){\n      if(!token) return;\n\n      this.socket\n        .emit('authenticate', {token}) //send the jwt\n        .on('authenticated', function () {\n          console.log('socket authenticated');\n        })\n        .on('unauthorized', function(msg) {\n          console.log(\"unauthorized: \" + JSON.stringify(msg.data));\n          throw new Error(msg.data.type);\n        })\n\n    }).bind(this));// this keyword for global scope is not within the scope of a local callback\n  }\n\n  public friendAccepted(friend: {email:string, name:string}){\n    this.socket.emit('friendAccepted',friend);\n  }\n\n  public friendRejected(friend: {email:string, name:string}){\n    this.socket.emit('friendRejected',friend);\n  }\n\n  public friendRequestSent(friend: {email:string, name: string}){\n    this.socket.emit('friendRequestSent',friend);\n  }\n\n  public onNewMessage(): Observable<Message[]>{\n    return new Observable<Message[]>(\n      observer =>{\n        this.socket.on('newMessage',(data: Message[])=> observer.next(data));\n      }\n    )\n  }\n\n  public onFriendOnlineStatusChanged(): Observable<User>{\n    return new Observable<User>(\n      observer => {\n        this.socket.on('friendOnlineStatus',(data: User)=> observer.next(data));\n      }\n    )\n  }\n\n  public onNewChatMessageReceived(): Observable<Chat>{\n    return new Observable<Chat>(\n      observer=>{\n        this.socket.on('newChatMessageReceived',(chat: Chat)=> observer.next(chat)\n        );\n      }\n    )\n  }\n\n  public sendChatMessageTo(friend: {email:string, name:string}, chatItem){\n    this.socket.emit('sendChatMessageTo',friend,chatItem);\n  }\n\n  public disconnect(){\n    this.socket.disconnect();\n  }\n\n}\n","import { ActionReducerMap } from '@ngrx/store';\nimport * as fromAuth from '../auth/store/auth.reducers';\n\nexport interface AppState{\n  auth: fromAuth.State\n}\n\nexport const reducers: ActionReducerMap<AppState> = {\n  auth: fromAuth.authReducer\n}\n","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false,\n  server: 'http://localhost:3000'\n};\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.log(err));\n","/* (ignored) */"],"sourceRoot":""}